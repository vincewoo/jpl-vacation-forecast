var tT=Object.defineProperty;var nT=(n,e,t)=>e in n?tT(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ka=(n,e,t)=>nT(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function Wv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Sd={exports:{}},Ya={},Ad={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qg;function rT(){if(qg)return xe;qg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),E=Symbol.iterator;function I(O){return O===null||typeof O!="object"?null:(O=E&&O[E]||O["@@iterator"],typeof O=="function"?O:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,W={};function U(O,$,re){this.props=O,this.context=$,this.refs=W,this.updater=re||b}U.prototype.isReactComponent={},U.prototype.setState=function(O,$){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,$,"setState")},U.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function J(){}J.prototype=U.prototype;function ne(O,$,re){this.props=O,this.context=$,this.refs=W,this.updater=re||b}var fe=ne.prototype=new J;fe.constructor=ne,H(fe,U.prototype),fe.isPureReactComponent=!0;var me=Array.isArray,De=Object.prototype.hasOwnProperty,ae={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function S(O,$,re){var ie,ye={},Ee=null,ke=null;if($!=null)for(ie in $.ref!==void 0&&(ke=$.ref),$.key!==void 0&&(Ee=""+$.key),$)De.call($,ie)&&!N.hasOwnProperty(ie)&&(ye[ie]=$[ie]);var Ne=arguments.length-2;if(Ne===1)ye.children=re;else if(1<Ne){for(var be=Array(Ne),St=0;St<Ne;St++)be[St]=arguments[St+2];ye.children=be}if(O&&O.defaultProps)for(ie in Ne=O.defaultProps,Ne)ye[ie]===void 0&&(ye[ie]=Ne[ie]);return{$$typeof:n,type:O,key:Ee,ref:ke,props:ye,_owner:ae.current}}function P(O,$){return{$$typeof:n,type:O.type,key:$,ref:O.ref,props:O.props,_owner:O._owner}}function x(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function R(O){var $={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(re){return $[re]})}var L=/\/+/g;function C(O,$){return typeof O=="object"&&O!==null&&O.key!=null?R(""+O.key):$.toString(36)}function Oe(O,$,re,ie,ye){var Ee=typeof O;(Ee==="undefined"||Ee==="boolean")&&(O=null);var ke=!1;if(O===null)ke=!0;else switch(Ee){case"string":case"number":ke=!0;break;case"object":switch(O.$$typeof){case n:case e:ke=!0}}if(ke)return ke=O,ye=ye(ke),O=ie===""?"."+C(ke,0):ie,me(ye)?(re="",O!=null&&(re=O.replace(L,"$&/")+"/"),Oe(ye,$,re,"",function(St){return St})):ye!=null&&(x(ye)&&(ye=P(ye,re+(!ye.key||ke&&ke.key===ye.key?"":(""+ye.key).replace(L,"$&/")+"/")+O)),$.push(ye)),1;if(ke=0,ie=ie===""?".":ie+":",me(O))for(var Ne=0;Ne<O.length;Ne++){Ee=O[Ne];var be=ie+C(Ee,Ne);ke+=Oe(Ee,$,re,be,ye)}else if(be=I(O),typeof be=="function")for(O=be.call(O),Ne=0;!(Ee=O.next()).done;)Ee=Ee.value,be=ie+C(Ee,Ne++),ke+=Oe(Ee,$,re,be,ye);else if(Ee==="object")throw $=String(O),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return ke}function Je(O,$,re){if(O==null)return O;var ie=[],ye=0;return Oe(O,ie,"","",function(Ee){return $.call(re,Ee,ye++)}),ie}function ze(O){if(O._status===-1){var $=O._result;$=$(),$.then(function(re){(O._status===0||O._status===-1)&&(O._status=1,O._result=re)},function(re){(O._status===0||O._status===-1)&&(O._status=2,O._result=re)}),O._status===-1&&(O._status=0,O._result=$)}if(O._status===1)return O._result.default;throw O._result}var We={current:null},ee={transition:null},ue={ReactCurrentDispatcher:We,ReactCurrentBatchConfig:ee,ReactCurrentOwner:ae};function q(){throw Error("act(...) is not supported in production builds of React.")}return xe.Children={map:Je,forEach:function(O,$,re){Je(O,function(){$.apply(this,arguments)},re)},count:function(O){var $=0;return Je(O,function(){$++}),$},toArray:function(O){return Je(O,function($){return $})||[]},only:function(O){if(!x(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},xe.Component=U,xe.Fragment=t,xe.Profiler=o,xe.PureComponent=ne,xe.StrictMode=i,xe.Suspense=g,xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,xe.act=q,xe.cloneElement=function(O,$,re){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var ie=H({},O.props),ye=O.key,Ee=O.ref,ke=O._owner;if($!=null){if($.ref!==void 0&&(Ee=$.ref,ke=ae.current),$.key!==void 0&&(ye=""+$.key),O.type&&O.type.defaultProps)var Ne=O.type.defaultProps;for(be in $)De.call($,be)&&!N.hasOwnProperty(be)&&(ie[be]=$[be]===void 0&&Ne!==void 0?Ne[be]:$[be])}var be=arguments.length-2;if(be===1)ie.children=re;else if(1<be){Ne=Array(be);for(var St=0;St<be;St++)Ne[St]=arguments[St+2];ie.children=Ne}return{$$typeof:n,type:O.type,key:ye,ref:Ee,props:ie,_owner:ke}},xe.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:l,_context:O},O.Consumer=O},xe.createElement=S,xe.createFactory=function(O){var $=S.bind(null,O);return $.type=O,$},xe.createRef=function(){return{current:null}},xe.forwardRef=function(O){return{$$typeof:f,render:O}},xe.isValidElement=x,xe.lazy=function(O){return{$$typeof:w,_payload:{_status:-1,_result:O},_init:ze}},xe.memo=function(O,$){return{$$typeof:y,type:O,compare:$===void 0?null:$}},xe.startTransition=function(O){var $=ee.transition;ee.transition={};try{O()}finally{ee.transition=$}},xe.unstable_act=q,xe.useCallback=function(O,$){return We.current.useCallback(O,$)},xe.useContext=function(O){return We.current.useContext(O)},xe.useDebugValue=function(){},xe.useDeferredValue=function(O){return We.current.useDeferredValue(O)},xe.useEffect=function(O,$){return We.current.useEffect(O,$)},xe.useId=function(){return We.current.useId()},xe.useImperativeHandle=function(O,$,re){return We.current.useImperativeHandle(O,$,re)},xe.useInsertionEffect=function(O,$){return We.current.useInsertionEffect(O,$)},xe.useLayoutEffect=function(O,$){return We.current.useLayoutEffect(O,$)},xe.useMemo=function(O,$){return We.current.useMemo(O,$)},xe.useReducer=function(O,$,re){return We.current.useReducer(O,$,re)},xe.useRef=function(O){return We.current.useRef(O)},xe.useState=function(O){return We.current.useState(O)},xe.useSyncExternalStore=function(O,$,re){return We.current.useSyncExternalStore(O,$,re)},xe.useTransition=function(){return We.current.useTransition()},xe.version="18.3.1",xe}var Gg;function Lf(){return Gg||(Gg=1,Ad.exports=rT()),Ad.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kg;function iT(){if(Kg)return Ya;Kg=1;var n=Lf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(f,g,y){var w,E={},I=null,b=null;y!==void 0&&(I=""+y),g.key!==void 0&&(I=""+g.key),g.ref!==void 0&&(b=g.ref);for(w in g)i.call(g,w)&&!l.hasOwnProperty(w)&&(E[w]=g[w]);if(f&&f.defaultProps)for(w in g=f.defaultProps,g)E[w]===void 0&&(E[w]=g[w]);return{$$typeof:e,type:f,key:I,ref:b,props:E,_owner:o.current}}return Ya.Fragment=t,Ya.jsx=h,Ya.jsxs=h,Ya}var Yg;function sT(){return Yg||(Yg=1,Sd.exports=iT()),Sd.exports}var k=sT(),he=Lf();const Hv=Wv(he);var Fu={},Cd={exports:{}},dn={},Pd={exports:{}},kd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qg;function oT(){return Qg||(Qg=1,(function(n){function e(ee,ue){var q=ee.length;ee.push(ue);e:for(;0<q;){var O=q-1>>>1,$=ee[O];if(0<o($,ue))ee[O]=ue,ee[q]=$,q=O;else break e}}function t(ee){return ee.length===0?null:ee[0]}function i(ee){if(ee.length===0)return null;var ue=ee[0],q=ee.pop();if(q!==ue){ee[0]=q;e:for(var O=0,$=ee.length,re=$>>>1;O<re;){var ie=2*(O+1)-1,ye=ee[ie],Ee=ie+1,ke=ee[Ee];if(0>o(ye,q))Ee<$&&0>o(ke,ye)?(ee[O]=ke,ee[Ee]=q,O=Ee):(ee[O]=ye,ee[ie]=q,O=ie);else if(Ee<$&&0>o(ke,q))ee[O]=ke,ee[Ee]=q,O=Ee;else break e}}return ue}function o(ee,ue){var q=ee.sortIndex-ue.sortIndex;return q!==0?q:ee.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var h=Date,f=h.now();n.unstable_now=function(){return h.now()-f}}var g=[],y=[],w=1,E=null,I=3,b=!1,H=!1,W=!1,U=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function fe(ee){for(var ue=t(y);ue!==null;){if(ue.callback===null)i(y);else if(ue.startTime<=ee)i(y),ue.sortIndex=ue.expirationTime,e(g,ue);else break;ue=t(y)}}function me(ee){if(W=!1,fe(ee),!H)if(t(g)!==null)H=!0,ze(De);else{var ue=t(y);ue!==null&&We(me,ue.startTime-ee)}}function De(ee,ue){H=!1,W&&(W=!1,J(S),S=-1),b=!0;var q=I;try{for(fe(ue),E=t(g);E!==null&&(!(E.expirationTime>ue)||ee&&!R());){var O=E.callback;if(typeof O=="function"){E.callback=null,I=E.priorityLevel;var $=O(E.expirationTime<=ue);ue=n.unstable_now(),typeof $=="function"?E.callback=$:E===t(g)&&i(g),fe(ue)}else i(g);E=t(g)}if(E!==null)var re=!0;else{var ie=t(y);ie!==null&&We(me,ie.startTime-ue),re=!1}return re}finally{E=null,I=q,b=!1}}var ae=!1,N=null,S=-1,P=5,x=-1;function R(){return!(n.unstable_now()-x<P)}function L(){if(N!==null){var ee=n.unstable_now();x=ee;var ue=!0;try{ue=N(!0,ee)}finally{ue?C():(ae=!1,N=null)}}else ae=!1}var C;if(typeof ne=="function")C=function(){ne(L)};else if(typeof MessageChannel<"u"){var Oe=new MessageChannel,Je=Oe.port2;Oe.port1.onmessage=L,C=function(){Je.postMessage(null)}}else C=function(){U(L,0)};function ze(ee){N=ee,ae||(ae=!0,C())}function We(ee,ue){S=U(function(){ee(n.unstable_now())},ue)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ee){ee.callback=null},n.unstable_continueExecution=function(){H||b||(H=!0,ze(De))},n.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ee?Math.floor(1e3/ee):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(g)},n.unstable_next=function(ee){switch(I){case 1:case 2:case 3:var ue=3;break;default:ue=I}var q=I;I=ue;try{return ee()}finally{I=q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ee,ue){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var q=I;I=ee;try{return ue()}finally{I=q}},n.unstable_scheduleCallback=function(ee,ue,q){var O=n.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?O+q:O):q=O,ee){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=q+$,ee={id:w++,callback:ue,priorityLevel:ee,startTime:q,expirationTime:$,sortIndex:-1},q>O?(ee.sortIndex=q,e(y,ee),t(g)===null&&ee===t(y)&&(W?(J(S),S=-1):W=!0,We(me,q-O))):(ee.sortIndex=$,e(g,ee),H||b||(H=!0,ze(De))),ee},n.unstable_shouldYield=R,n.unstable_wrapCallback=function(ee){var ue=I;return function(){var q=I;I=ue;try{return ee.apply(this,arguments)}finally{I=q}}}})(kd)),kd}var Xg;function aT(){return Xg||(Xg=1,Pd.exports=oT()),Pd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jg;function lT(){if(Jg)return dn;Jg=1;var n=Lf(),e=aT();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){h(r,s),h(r+"Capture",s)}function h(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},E={};function I(r){return g.call(E,r)?!0:g.call(w,r)?!1:y.test(r)?E[r]=!0:(w[r]=!0,!1)}function b(r,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function H(r,s,a,c){if(s===null||typeof s>"u"||b(r,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function W(r,s,a,c,d,p,_){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=p,this.removeEmptyString=_}var U={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){U[r]=new W(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];U[s]=new W(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){U[r]=new W(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){U[r]=new W(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){U[r]=new W(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){U[r]=new W(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){U[r]=new W(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){U[r]=new W(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){U[r]=new W(r,5,!1,r.toLowerCase(),null,!1,!1)});var J=/[\-:]([a-z])/g;function ne(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(J,ne);U[s]=new W(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(J,ne);U[s]=new W(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(J,ne);U[s]=new W(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){U[r]=new W(r,1,!1,r.toLowerCase(),null,!1,!1)}),U.xlinkHref=new W("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){U[r]=new W(r,1,!1,r.toLowerCase(),null,!0,!0)});function fe(r,s,a,c){var d=U.hasOwnProperty(s)?U[s]:null;(d!==null?d.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(H(s,a,d,c)&&(a=null),c||d===null?I(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):d.mustUseProperty?r[d.propertyName]=a===null?d.type===3?!1:"":a:(s=d.attributeName,c=d.attributeNamespace,a===null?r.removeAttribute(s):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?r.setAttributeNS(c,s,a):r.setAttribute(s,a))))}var me=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,De=Symbol.for("react.element"),ae=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),R=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),Oe=Symbol.for("react.suspense_list"),Je=Symbol.for("react.memo"),ze=Symbol.for("react.lazy"),We=Symbol.for("react.offscreen"),ee=Symbol.iterator;function ue(r){return r===null||typeof r!="object"?null:(r=ee&&r[ee]||r["@@iterator"],typeof r=="function"?r:null)}var q=Object.assign,O;function $(r){if(O===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);O=s&&s[1]||""}return`
`+O+r}var re=!1;function ie(r,s){if(!r||re)return"";re=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(z){var c=z}Reflect.construct(r,[],s)}else{try{s.call()}catch(z){c=z}r.call(s.prototype)}else{try{throw Error()}catch(z){c=z}r()}}catch(z){if(z&&c&&typeof z.stack=="string"){for(var d=z.stack.split(`
`),p=c.stack.split(`
`),_=d.length-1,A=p.length-1;1<=_&&0<=A&&d[_]!==p[A];)A--;for(;1<=_&&0<=A;_--,A--)if(d[_]!==p[A]){if(_!==1||A!==1)do if(_--,A--,0>A||d[_]!==p[A]){var D=`
`+d[_].replace(" at new "," at ");return r.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",r.displayName)),D}while(1<=_&&0<=A);break}}}finally{re=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?$(r):""}function ye(r){switch(r.tag){case 5:return $(r.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return r=ie(r.type,!1),r;case 11:return r=ie(r.type.render,!1),r;case 1:return r=ie(r.type,!0),r;default:return""}}function Ee(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case N:return"Fragment";case ae:return"Portal";case P:return"Profiler";case S:return"StrictMode";case C:return"Suspense";case Oe:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case R:return(r.displayName||"Context")+".Consumer";case x:return(r._context.displayName||"Context")+".Provider";case L:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Je:return s=r.displayName||null,s!==null?s:Ee(r.type)||"Memo";case ze:s=r._payload,r=r._init;try{return Ee(r(s))}catch{}}return null}function ke(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ee(s);case 8:return s===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ne(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function be(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function St(r){var s=be(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,p=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(_){c=""+_,p.call(this,_)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function sr(r){r._valueTracker||(r._valueTracker=St(r))}function or(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return r&&(c=be(r)?r.checked?"true":"false":r.value),r=c,r!==a?(s.setValue(r),!0):!1}function Dn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Qe(r,s){var a=s.checked;return q({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function ar(r,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=Ne(s.value!=null?s.value:a),r._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function At(r,s){s=s.checked,s!=null&&fe(r,"checked",s,!1)}function Nn(r,s){At(r,s);var a=Ne(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?at(r,s.type,a):s.hasOwnProperty("defaultValue")&&at(r,s.type,Ne(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function gi(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function at(r,s,a){(s!=="number"||Dn(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var lt=Array.isArray;function pn(r,s,a,c){if(r=r.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<r.length;a++)d=s.hasOwnProperty("$"+r[a].value),r[a].selected!==d&&(r[a].selected=d),d&&c&&(r[a].defaultSelected=!0)}else{for(a=""+Ne(a),s=null,d=0;d<r.length;d++){if(r[d].value===a){r[d].selected=!0,c&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function us(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return q({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function yi(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(lt(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:Ne(a)}}function Zs(r,s){var a=Ne(s.value),c=Ne(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),c!=null&&(r.defaultValue=""+c)}function lr(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function cs(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vi(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?cs(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var ur,_i=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,d){MSApp.execUnsafeLocalFunction(function(){return r(s,a,c,d)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(ur=ur||document.createElement("div"),ur.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=ur.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function cr(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Hn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eo=["Webkit","ms","Moz","O"];Object.keys(Hn).forEach(function(r){eo.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Hn[s]=Hn[r]})});function mn(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Hn.hasOwnProperty(r)&&Hn[r]?(""+s).trim():s+"px"}function Ur(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=mn(a,s[a],c);a==="float"&&(a="cssFloat"),c?r.setProperty(a,d):r[a]=d}}var hs=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rn(r,s){if(s){if(hs[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function zr(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xn=null;function wi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var On=null,qn=null,Ze=null;function _t(r){if(r=Oa(r)){if(typeof On!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Zl(s),On(r.stateNode,r.type,s))}}function ut(r){qn?Ze?Ze.push(r):Ze=[r]:qn=r}function gn(){if(qn){var r=qn,s=Ze;if(Ze=qn=null,_t(r),s)for(r=0;r<s.length;r++)_t(s[r])}}function Ge(r,s){return r(s)}function en(){}var bn=!1;function Ei(r,s,a){if(bn)return r(s,a);bn=!0;try{return Ge(r,s,a)}finally{bn=!1,(qn!==null||Ze!==null)&&(en(),gn())}}function hr(r,s){var a=r.stateNode;if(a===null)return null;var c=Zl(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Gn=!1;if(f)try{var Vn={};Object.defineProperty(Vn,"passive",{get:function(){Gn=!0}}),window.addEventListener("test",Vn,Vn),window.removeEventListener("test",Vn,Vn)}catch{Gn=!1}function Br(r,s,a,c,d,p,_,A,D){var z=Array.prototype.slice.call(arguments,3);try{s.apply(a,z)}catch(Q){this.onError(Q)}}var yn=!1,sn=null,dr=!1,on=null,Ti={onError:function(r){yn=!0,sn=r}};function ds(r,s,a,c,d,p,_,A,D){yn=!1,sn=null,Br.apply(Ti,arguments)}function fs(r,s,a,c,d,p,_,A,D){if(ds.apply(this,arguments),yn){if(yn){var z=sn;yn=!1,sn=null}else throw Error(t(198));dr||(dr=!0,on=z)}}function vn(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function Re(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Ke(r){if(vn(r)!==r)throw Error(t(188))}function et(r){var s=r.alternate;if(!s){if(s=vn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,c=s;;){var d=a.return;if(d===null)break;var p=d.alternate;if(p===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===a)return Ke(d),r;if(p===c)return Ke(d),s;p=p.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=p;else{for(var _=!1,A=d.child;A;){if(A===a){_=!0,a=d,c=p;break}if(A===c){_=!0,c=d,a=p;break}A=A.sibling}if(!_){for(A=p.child;A;){if(A===a){_=!0,a=p,c=d;break}if(A===c){_=!0,c=p,a=d;break}A=A.sibling}if(!_)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function Wt(r){return r=et(r),r!==null?Ct(r):null}function Ct(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Ct(r);if(s!==null)return s;r=r.sibling}return null}var $r=e.unstable_scheduleCallback,Ii=e.unstable_cancelCallback,Wr=e.unstable_shouldYield,Hr=e.unstable_requestPaint,tt=e.unstable_now,th=e.unstable_getCurrentPriorityLevel,to=e.unstable_ImmediatePriority,ca=e.unstable_UserBlockingPriority,ps=e.unstable_NormalPriority,ha=e.unstable_LowPriority,no=e.unstable_IdlePriority,ms=null,_n=null;function Ll(r){if(_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(ms,r,void 0,(r.current.flags&128)===128)}catch{}}var wn=Math.clz32?Math.clz32:gs,fr=Math.log,Ln=Math.LN2;function gs(r){return r>>>=0,r===0?32:31-(fr(r)/Ln|0)|0}var pr=64,Si=4194304;function $e(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function qr(r,s){var a=r.pendingLanes;if(a===0)return 0;var c=0,d=r.suspendedLanes,p=r.pingedLanes,_=a&268435455;if(_!==0){var A=_&~d;A!==0?c=$e(A):(p&=_,p!==0&&(c=$e(p)))}else _=a&~d,_!==0?c=$e(_):p!==0&&(c=$e(p));if(c===0)return 0;if(s!==0&&s!==c&&(s&d)===0&&(d=c&-c,p=s&-s,d>=p||d===16&&(p&4194240)!==0))return s;if((c&4)!==0&&(c|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=c;0<s;)a=31-wn(s),d=1<<a,c|=r[a],s&=~d;return c}function ys(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vs(r,s){for(var a=r.suspendedLanes,c=r.pingedLanes,d=r.expirationTimes,p=r.pendingLanes;0<p;){var _=31-wn(p),A=1<<_,D=d[_];D===-1?((A&a)===0||(A&c)!==0)&&(d[_]=ys(A,s)):D<=s&&(r.expiredLanes|=A),p&=~A}}function da(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function fa(){var r=pr;return pr<<=1,(pr&4194240)===0&&(pr=64),r}function pa(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function _s(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-wn(s),r[s]=a}function nh(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<a;){var d=31-wn(a),p=1<<d;s[d]=0,c[d]=-1,r[d]=-1,a&=~p}}function ma(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var c=31-wn(a),d=1<<c;d&s|r[c]&s&&(r[c]|=s),a&=~d}}var Fe=0;function mr(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var ga,ro,ya,va,_a,gr=!1,io=[],yr=null,vr=null,Lt=null,ws=new Map,Gr=new Map,En=[],Ml="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ai(r,s){switch(r){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":Lt=null;break;case"pointerover":case"pointerout":ws.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gr.delete(s.pointerId)}}function Kn(r,s,a,c,d,p){return r===null||r.nativeEvent!==p?(r={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:p,targetContainers:[d]},s!==null&&(s=Oa(s),s!==null&&ro(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function Fl(r,s,a,c,d){switch(s){case"focusin":return yr=Kn(yr,r,s,a,c,d),!0;case"dragenter":return vr=Kn(vr,r,s,a,c,d),!0;case"mouseover":return Lt=Kn(Lt,r,s,a,c,d),!0;case"pointerover":var p=d.pointerId;return ws.set(p,Kn(ws.get(p)||null,r,s,a,c,d)),!0;case"gotpointercapture":return p=d.pointerId,Gr.set(p,Kn(Gr.get(p)||null,r,s,a,c,d)),!0}return!1}function so(r){var s=Ss(r.target);if(s!==null){var a=vn(s);if(a!==null){if(s=a.tag,s===13){if(s=Re(a),s!==null){r.blockedOn=s,_a(r.priority,function(){ya(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ye(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=oo(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var c=new a.constructor(a.type,a);xn=c,a.target.dispatchEvent(c),xn=null}else return s=Oa(a),s!==null&&ro(s),r.blockedOn=a,!1;s.shift()}return!0}function jl(r,s,a){Ye(r)&&a.delete(s)}function rh(){gr=!1,yr!==null&&Ye(yr)&&(yr=null),vr!==null&&Ye(vr)&&(vr=null),Lt!==null&&Ye(Lt)&&(Lt=null),ws.forEach(jl),Gr.forEach(jl)}function Ci(r,s){r.blockedOn===s&&(r.blockedOn=null,gr||(gr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,rh)))}function Pi(r){function s(d){return Ci(d,r)}if(0<io.length){Ci(io[0],r);for(var a=1;a<io.length;a++){var c=io[a];c.blockedOn===r&&(c.blockedOn=null)}}for(yr!==null&&Ci(yr,r),vr!==null&&Ci(vr,r),Lt!==null&&Ci(Lt,r),ws.forEach(s),Gr.forEach(s),a=0;a<En.length;a++)c=En[a],c.blockedOn===r&&(c.blockedOn=null);for(;0<En.length&&(a=En[0],a.blockedOn===null);)so(a),a.blockedOn===null&&En.shift()}var Kr=me.ReactCurrentBatchConfig,Yr=!0;function _r(r,s,a,c){var d=Fe,p=Kr.transition;Kr.transition=null;try{Fe=1,wa(r,s,a,c)}finally{Fe=d,Kr.transition=p}}function Ul(r,s,a,c){var d=Fe,p=Kr.transition;Kr.transition=null;try{Fe=4,wa(r,s,a,c)}finally{Fe=d,Kr.transition=p}}function wa(r,s,a,c){if(Yr){var d=oo(r,s,a,c);if(d===null)ph(r,s,c,wr,a),Ai(r,c);else if(Fl(d,r,s,a,c))c.stopPropagation();else if(Ai(r,c),s&4&&-1<Ml.indexOf(r)){for(;d!==null;){var p=Oa(d);if(p!==null&&ga(p),p=oo(r,s,a,c),p===null&&ph(r,s,c,wr,a),p===d)break;d=p}d!==null&&c.stopPropagation()}else ph(r,s,c,null,a)}}var wr=null;function oo(r,s,a,c){if(wr=null,r=wi(c),r=Ss(r),r!==null)if(s=vn(r),s===null)r=null;else if(a=s.tag,a===13){if(r=Re(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return wr=r,null}function ao(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(th()){case to:return 1;case ca:return 4;case ps:case ha:return 16;case no:return 536870912;default:return 16}default:return 16}}var Tn=null,lo=null,Qr=null;function zl(){if(Qr)return Qr;var r,s=lo,a=s.length,c,d="value"in Tn?Tn.value:Tn.textContent,p=d.length;for(r=0;r<a&&s[r]===d[r];r++);var _=a-r;for(c=1;c<=_&&s[a-c]===d[p-c];c++);return Qr=d.slice(r,1<c?1-c:void 0)}function Es(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Er(){return!0}function Ea(){return!1}function Ht(r){function s(a,c,d,p,_){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(a=r[A],this[A]=a?a(p):p[A]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Er:Ea,this.isPropagationStopped=Ea,this}return q(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Er)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Er)},persist:function(){},isPersistent:Er}),s}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ts=Ht(Tr),ki=q({},Tr,{view:0,detail:0}),uo=Ht(ki),co,ho,In,Is=q({},ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ce,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==In&&(In&&r.type==="mousemove"?(co=r.screenX-In.screenX,ho=r.screenY-In.screenY):ho=co=0,In=r),co)},movementY:function(r){return"movementY"in r?r.movementY:ho}}),Ta=Ht(Is),Bl=q({},Is,{dataTransfer:0}),$l=Ht(Bl),fo=q({},ki,{relatedTarget:0}),Mt=Ht(fo),Wl=q({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),Hl=Ht(Wl),Ri=q({},Tr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),u=Ht(Ri),m=q({},Tr,{data:0}),v=Ht(m),T={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},F={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},B={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function te(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=B[r])?!!s[r]:!1}function Ce(){return te}var gt=q({},ki,{key:function(r){if(r.key){var s=T[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Es(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?F[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ce,charCode:function(r){return r.type==="keypress"?Es(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Es(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),qe=Ht(gt),wt=q({},Is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sn=Ht(wt),Xr=q({},ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ce}),Ir=Ht(Xr),Sr=q({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),po=Ht(Sr),Ia=q({},Is,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),YE=Ht(Ia),QE=[9,13,27,32],ih=f&&"CompositionEvent"in window,Sa=null;f&&"documentMode"in document&&(Sa=document.documentMode);var XE=f&&"TextEvent"in window&&!Sa,Fp=f&&(!ih||Sa&&8<Sa&&11>=Sa),jp=" ",Up=!1;function zp(r,s){switch(r){case"keyup":return QE.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var mo=!1;function JE(r,s){switch(r){case"compositionend":return Bp(s);case"keypress":return s.which!==32?null:(Up=!0,jp);case"textInput":return r=s.data,r===jp&&Up?null:r;default:return null}}function ZE(r,s){if(mo)return r==="compositionend"||!ih&&zp(r,s)?(r=zl(),Qr=lo=Tn=null,mo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Fp&&s.locale!=="ko"?null:s.data;default:return null}}var e0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $p(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!e0[r.type]:s==="textarea"}function Wp(r,s,a,c){ut(c),s=Ql(s,"onChange"),0<s.length&&(a=new Ts("onChange","change",null,a,c),r.push({event:a,listeners:s}))}var Aa=null,Ca=null;function t0(r){lm(r,0)}function ql(r){var s=wo(r);if(or(s))return r}function n0(r,s){if(r==="change")return s}var Hp=!1;if(f){var sh;if(f){var oh="oninput"in document;if(!oh){var qp=document.createElement("div");qp.setAttribute("oninput","return;"),oh=typeof qp.oninput=="function"}sh=oh}else sh=!1;Hp=sh&&(!document.documentMode||9<document.documentMode)}function Gp(){Aa&&(Aa.detachEvent("onpropertychange",Kp),Ca=Aa=null)}function Kp(r){if(r.propertyName==="value"&&ql(Ca)){var s=[];Wp(s,Ca,r,wi(r)),Ei(t0,s)}}function r0(r,s,a){r==="focusin"?(Gp(),Aa=s,Ca=a,Aa.attachEvent("onpropertychange",Kp)):r==="focusout"&&Gp()}function i0(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ql(Ca)}function s0(r,s){if(r==="click")return ql(s)}function o0(r,s){if(r==="input"||r==="change")return ql(s)}function a0(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Yn=typeof Object.is=="function"?Object.is:a0;function Pa(r,s){if(Yn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!g.call(s,d)||!Yn(r[d],s[d]))return!1}return!0}function Yp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Qp(r,s){var a=Yp(r);r=0;for(var c;a;){if(a.nodeType===3){if(c=r+a.textContent.length,r<=s&&c>=s)return{node:a,offset:s-r};r=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Yp(a)}}function Xp(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Xp(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Jp(){for(var r=window,s=Dn();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=Dn(r.document)}return s}function ah(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function l0(r){var s=Jp(),a=r.focusedElem,c=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&Xp(a.ownerDocument.documentElement,a)){if(c!==null&&ah(a)){if(s=c.start,r=c.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var d=a.textContent.length,p=Math.min(c.start,d);c=c.end===void 0?p:Math.min(c.end,d),!r.extend&&p>c&&(d=c,c=p,p=d),d=Qp(a,p);var _=Qp(a,c);d&&_&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==_.node||r.focusOffset!==_.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),r.removeAllRanges(),p>c?(r.addRange(s),r.extend(_.node,_.offset)):(s.setEnd(_.node,_.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var u0=f&&"documentMode"in document&&11>=document.documentMode,go=null,lh=null,ka=null,uh=!1;function Zp(r,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;uh||go==null||go!==Dn(c)||(c=go,"selectionStart"in c&&ah(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ka&&Pa(ka,c)||(ka=c,c=Ql(lh,"onSelect"),0<c.length&&(s=new Ts("onSelect","select",null,s,a),r.push({event:s,listeners:c}),s.target=go)))}function Gl(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var yo={animationend:Gl("Animation","AnimationEnd"),animationiteration:Gl("Animation","AnimationIteration"),animationstart:Gl("Animation","AnimationStart"),transitionend:Gl("Transition","TransitionEnd")},ch={},em={};f&&(em=document.createElement("div").style,"AnimationEvent"in window||(delete yo.animationend.animation,delete yo.animationiteration.animation,delete yo.animationstart.animation),"TransitionEvent"in window||delete yo.transitionend.transition);function Kl(r){if(ch[r])return ch[r];if(!yo[r])return r;var s=yo[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in em)return ch[r]=s[a];return r}var tm=Kl("animationend"),nm=Kl("animationiteration"),rm=Kl("animationstart"),im=Kl("transitionend"),sm=new Map,om="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Di(r,s){sm.set(r,s),l(s,[r])}for(var hh=0;hh<om.length;hh++){var dh=om[hh],c0=dh.toLowerCase(),h0=dh[0].toUpperCase()+dh.slice(1);Di(c0,"on"+h0)}Di(tm,"onAnimationEnd"),Di(nm,"onAnimationIteration"),Di(rm,"onAnimationStart"),Di("dblclick","onDoubleClick"),Di("focusin","onFocus"),Di("focusout","onBlur"),Di(im,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ra="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ra));function am(r,s,a){var c=r.type||"unknown-event";r.currentTarget=a,fs(c,s,void 0,r),r.currentTarget=null}function lm(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var c=r[a],d=c.event;c=c.listeners;e:{var p=void 0;if(s)for(var _=c.length-1;0<=_;_--){var A=c[_],D=A.instance,z=A.currentTarget;if(A=A.listener,D!==p&&d.isPropagationStopped())break e;am(d,A,z),p=D}else for(_=0;_<c.length;_++){if(A=c[_],D=A.instance,z=A.currentTarget,A=A.listener,D!==p&&d.isPropagationStopped())break e;am(d,A,z),p=D}}}if(dr)throw r=on,dr=!1,on=null,r}function nt(r,s){var a=s[wh];a===void 0&&(a=s[wh]=new Set);var c=r+"__bubble";a.has(c)||(um(s,r,2,!1),a.add(c))}function fh(r,s,a){var c=0;s&&(c|=4),um(a,r,c,s)}var Yl="_reactListening"+Math.random().toString(36).slice(2);function Da(r){if(!r[Yl]){r[Yl]=!0,i.forEach(function(a){a!=="selectionchange"&&(d0.has(a)||fh(a,!1,r),fh(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Yl]||(s[Yl]=!0,fh("selectionchange",!1,s))}}function um(r,s,a,c){switch(ao(s)){case 1:var d=_r;break;case 4:d=Ul;break;default:d=wa}a=d.bind(null,s,a,r),d=void 0,!Gn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?r.addEventListener(s,a,{capture:!0,passive:d}):r.addEventListener(s,a,!0):d!==void 0?r.addEventListener(s,a,{passive:d}):r.addEventListener(s,a,!1)}function ph(r,s,a,c,d){var p=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var A=c.stateNode.containerInfo;if(A===d||A.nodeType===8&&A.parentNode===d)break;if(_===4)for(_=c.return;_!==null;){var D=_.tag;if((D===3||D===4)&&(D=_.stateNode.containerInfo,D===d||D.nodeType===8&&D.parentNode===d))return;_=_.return}for(;A!==null;){if(_=Ss(A),_===null)return;if(D=_.tag,D===5||D===6){c=p=_;continue e}A=A.parentNode}}c=c.return}Ei(function(){var z=p,Q=wi(a),X=[];e:{var K=sm.get(r);if(K!==void 0){var se=Ts,ce=r;switch(r){case"keypress":if(Es(a)===0)break e;case"keydown":case"keyup":se=qe;break;case"focusin":ce="focus",se=Mt;break;case"focusout":ce="blur",se=Mt;break;case"beforeblur":case"afterblur":se=Mt;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Ta;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=$l;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=Ir;break;case tm:case nm:case rm:se=Hl;break;case im:se=po;break;case"scroll":se=uo;break;case"wheel":se=YE;break;case"copy":case"cut":case"paste":se=u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=Sn}var de=(s&4)!==0,yt=!de&&r==="scroll",M=de?K!==null?K+"Capture":null:K;de=[];for(var V=z,j;V!==null;){j=V;var Z=j.stateNode;if(j.tag===5&&Z!==null&&(j=Z,M!==null&&(Z=hr(V,M),Z!=null&&de.push(Na(V,Z,j)))),yt)break;V=V.return}0<de.length&&(K=new se(K,ce,null,a,Q),X.push({event:K,listeners:de}))}}if((s&7)===0){e:{if(K=r==="mouseover"||r==="pointerover",se=r==="mouseout"||r==="pointerout",K&&a!==xn&&(ce=a.relatedTarget||a.fromElement)&&(Ss(ce)||ce[Jr]))break e;if((se||K)&&(K=Q.window===Q?Q:(K=Q.ownerDocument)?K.defaultView||K.parentWindow:window,se?(ce=a.relatedTarget||a.toElement,se=z,ce=ce?Ss(ce):null,ce!==null&&(yt=vn(ce),ce!==yt||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(se=null,ce=z),se!==ce)){if(de=Ta,Z="onMouseLeave",M="onMouseEnter",V="mouse",(r==="pointerout"||r==="pointerover")&&(de=Sn,Z="onPointerLeave",M="onPointerEnter",V="pointer"),yt=se==null?K:wo(se),j=ce==null?K:wo(ce),K=new de(Z,V+"leave",se,a,Q),K.target=yt,K.relatedTarget=j,Z=null,Ss(Q)===z&&(de=new de(M,V+"enter",ce,a,Q),de.target=j,de.relatedTarget=yt,Z=de),yt=Z,se&&ce)t:{for(de=se,M=ce,V=0,j=de;j;j=vo(j))V++;for(j=0,Z=M;Z;Z=vo(Z))j++;for(;0<V-j;)de=vo(de),V--;for(;0<j-V;)M=vo(M),j--;for(;V--;){if(de===M||M!==null&&de===M.alternate)break t;de=vo(de),M=vo(M)}de=null}else de=null;se!==null&&cm(X,K,se,de,!1),ce!==null&&yt!==null&&cm(X,yt,ce,de,!0)}}e:{if(K=z?wo(z):window,se=K.nodeName&&K.nodeName.toLowerCase(),se==="select"||se==="input"&&K.type==="file")var pe=n0;else if($p(K))if(Hp)pe=o0;else{pe=i0;var ve=r0}else(se=K.nodeName)&&se.toLowerCase()==="input"&&(K.type==="checkbox"||K.type==="radio")&&(pe=s0);if(pe&&(pe=pe(r,z))){Wp(X,pe,a,Q);break e}ve&&ve(r,K,z),r==="focusout"&&(ve=K._wrapperState)&&ve.controlled&&K.type==="number"&&at(K,"number",K.value)}switch(ve=z?wo(z):window,r){case"focusin":($p(ve)||ve.contentEditable==="true")&&(go=ve,lh=z,ka=null);break;case"focusout":ka=lh=go=null;break;case"mousedown":uh=!0;break;case"contextmenu":case"mouseup":case"dragend":uh=!1,Zp(X,a,Q);break;case"selectionchange":if(u0)break;case"keydown":case"keyup":Zp(X,a,Q)}var _e;if(ih)e:{switch(r){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else mo?zp(r,a)&&(Ie="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Ie="onCompositionStart");Ie&&(Fp&&a.locale!=="ko"&&(mo||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&mo&&(_e=zl()):(Tn=Q,lo="value"in Tn?Tn.value:Tn.textContent,mo=!0)),ve=Ql(z,Ie),0<ve.length&&(Ie=new v(Ie,r,null,a,Q),X.push({event:Ie,listeners:ve}),_e?Ie.data=_e:(_e=Bp(a),_e!==null&&(Ie.data=_e)))),(_e=XE?JE(r,a):ZE(r,a))&&(z=Ql(z,"onBeforeInput"),0<z.length&&(Q=new v("onBeforeInput","beforeinput",null,a,Q),X.push({event:Q,listeners:z}),Q.data=_e))}lm(X,s)})}function Na(r,s,a){return{instance:r,listener:s,currentTarget:a}}function Ql(r,s){for(var a=s+"Capture",c=[];r!==null;){var d=r,p=d.stateNode;d.tag===5&&p!==null&&(d=p,p=hr(r,a),p!=null&&c.unshift(Na(r,p,d)),p=hr(r,s),p!=null&&c.push(Na(r,p,d))),r=r.return}return c}function vo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function cm(r,s,a,c,d){for(var p=s._reactName,_=[];a!==null&&a!==c;){var A=a,D=A.alternate,z=A.stateNode;if(D!==null&&D===c)break;A.tag===5&&z!==null&&(A=z,d?(D=hr(a,p),D!=null&&_.unshift(Na(a,D,A))):d||(D=hr(a,p),D!=null&&_.push(Na(a,D,A)))),a=a.return}_.length!==0&&r.push({event:s,listeners:_})}var f0=/\r\n?/g,p0=/\u0000|\uFFFD/g;function hm(r){return(typeof r=="string"?r:""+r).replace(f0,`
`).replace(p0,"")}function Xl(r,s,a){if(s=hm(s),hm(r)!==s&&a)throw Error(t(425))}function Jl(){}var mh=null,gh=null;function yh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var vh=typeof setTimeout=="function"?setTimeout:void 0,m0=typeof clearTimeout=="function"?clearTimeout:void 0,dm=typeof Promise=="function"?Promise:void 0,g0=typeof queueMicrotask=="function"?queueMicrotask:typeof dm<"u"?function(r){return dm.resolve(null).then(r).catch(y0)}:vh;function y0(r){setTimeout(function(){throw r})}function _h(r,s){var a=s,c=0;do{var d=a.nextSibling;if(r.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){r.removeChild(d),Pi(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);Pi(s)}function Ni(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function fm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var _o=Math.random().toString(36).slice(2),Ar="__reactFiber$"+_o,xa="__reactProps$"+_o,Jr="__reactContainer$"+_o,wh="__reactEvents$"+_o,v0="__reactListeners$"+_o,_0="__reactHandles$"+_o;function Ss(r){var s=r[Ar];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Jr]||a[Ar]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=fm(r);r!==null;){if(a=r[Ar])return a;r=fm(r)}return s}r=a,a=r.parentNode}return null}function Oa(r){return r=r[Ar]||r[Jr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function wo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Zl(r){return r[xa]||null}var Eh=[],Eo=-1;function xi(r){return{current:r}}function rt(r){0>Eo||(r.current=Eh[Eo],Eh[Eo]=null,Eo--)}function Xe(r,s){Eo++,Eh[Eo]=r.current,r.current=s}var Oi={},qt=xi(Oi),an=xi(!1),As=Oi;function To(r,s){var a=r.type.contextTypes;if(!a)return Oi;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var d={},p;for(p in a)d[p]=s[p];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=d),d}function ln(r){return r=r.childContextTypes,r!=null}function eu(){rt(an),rt(qt)}function pm(r,s,a){if(qt.current!==Oi)throw Error(t(168));Xe(qt,s),Xe(an,a)}function mm(r,s,a){var c=r.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in s))throw Error(t(108,ke(r)||"Unknown",d));return q({},a,c)}function tu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Oi,As=qt.current,Xe(qt,r),Xe(an,an.current),!0}function gm(r,s,a){var c=r.stateNode;if(!c)throw Error(t(169));a?(r=mm(r,s,As),c.__reactInternalMemoizedMergedChildContext=r,rt(an),rt(qt),Xe(qt,r)):rt(an),Xe(an,a)}var Zr=null,nu=!1,Th=!1;function ym(r){Zr===null?Zr=[r]:Zr.push(r)}function w0(r){nu=!0,ym(r)}function bi(){if(!Th&&Zr!==null){Th=!0;var r=0,s=Fe;try{var a=Zr;for(Fe=1;r<a.length;r++){var c=a[r];do c=c(!0);while(c!==null)}Zr=null,nu=!1}catch(d){throw Zr!==null&&(Zr=Zr.slice(r+1)),$r(to,bi),d}finally{Fe=s,Th=!1}}return null}var Io=[],So=0,ru=null,iu=0,Mn=[],Fn=0,Cs=null,ei=1,ti="";function Ps(r,s){Io[So++]=iu,Io[So++]=ru,ru=r,iu=s}function vm(r,s,a){Mn[Fn++]=ei,Mn[Fn++]=ti,Mn[Fn++]=Cs,Cs=r;var c=ei;r=ti;var d=32-wn(c)-1;c&=~(1<<d),a+=1;var p=32-wn(s)+d;if(30<p){var _=d-d%5;p=(c&(1<<_)-1).toString(32),c>>=_,d-=_,ei=1<<32-wn(s)+d|a<<d|c,ti=p+r}else ei=1<<p|a<<d|c,ti=r}function Ih(r){r.return!==null&&(Ps(r,1),vm(r,1,0))}function Sh(r){for(;r===ru;)ru=Io[--So],Io[So]=null,iu=Io[--So],Io[So]=null;for(;r===Cs;)Cs=Mn[--Fn],Mn[Fn]=null,ti=Mn[--Fn],Mn[Fn]=null,ei=Mn[--Fn],Mn[Fn]=null}var An=null,Cn=null,st=!1,Qn=null;function _m(r,s){var a=Bn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function wm(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,An=r,Cn=Ni(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,An=r,Cn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Cs!==null?{id:ei,overflow:ti}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Bn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,An=r,Cn=null,!0):!1;default:return!1}}function Ah(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Ch(r){if(st){var s=Cn;if(s){var a=s;if(!wm(r,s)){if(Ah(r))throw Error(t(418));s=Ni(a.nextSibling);var c=An;s&&wm(r,s)?_m(c,a):(r.flags=r.flags&-4097|2,st=!1,An=r)}}else{if(Ah(r))throw Error(t(418));r.flags=r.flags&-4097|2,st=!1,An=r}}}function Em(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;An=r}function su(r){if(r!==An)return!1;if(!st)return Em(r),st=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!yh(r.type,r.memoizedProps)),s&&(s=Cn)){if(Ah(r))throw Tm(),Error(t(418));for(;s;)_m(r,s),s=Ni(s.nextSibling)}if(Em(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){Cn=Ni(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}Cn=null}}else Cn=An?Ni(r.stateNode.nextSibling):null;return!0}function Tm(){for(var r=Cn;r;)r=Ni(r.nextSibling)}function Ao(){Cn=An=null,st=!1}function Ph(r){Qn===null?Qn=[r]:Qn.push(r)}var E0=me.ReactCurrentBatchConfig;function ba(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,r));var d=c,p=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===p?s.ref:(s=function(_){var A=d.refs;_===null?delete A[p]:A[p]=_},s._stringRef=p,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function ou(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Im(r){var s=r._init;return s(r._payload)}function Sm(r){function s(M,V){if(r){var j=M.deletions;j===null?(M.deletions=[V],M.flags|=16):j.push(V)}}function a(M,V){if(!r)return null;for(;V!==null;)s(M,V),V=V.sibling;return null}function c(M,V){for(M=new Map;V!==null;)V.key!==null?M.set(V.key,V):M.set(V.index,V),V=V.sibling;return M}function d(M,V){return M=Bi(M,V),M.index=0,M.sibling=null,M}function p(M,V,j){return M.index=j,r?(j=M.alternate,j!==null?(j=j.index,j<V?(M.flags|=2,V):j):(M.flags|=2,V)):(M.flags|=1048576,V)}function _(M){return r&&M.alternate===null&&(M.flags|=2),M}function A(M,V,j,Z){return V===null||V.tag!==6?(V=vd(j,M.mode,Z),V.return=M,V):(V=d(V,j),V.return=M,V)}function D(M,V,j,Z){var pe=j.type;return pe===N?Q(M,V,j.props.children,Z,j.key):V!==null&&(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===ze&&Im(pe)===V.type)?(Z=d(V,j.props),Z.ref=ba(M,V,j),Z.return=M,Z):(Z=Du(j.type,j.key,j.props,null,M.mode,Z),Z.ref=ba(M,V,j),Z.return=M,Z)}function z(M,V,j,Z){return V===null||V.tag!==4||V.stateNode.containerInfo!==j.containerInfo||V.stateNode.implementation!==j.implementation?(V=_d(j,M.mode,Z),V.return=M,V):(V=d(V,j.children||[]),V.return=M,V)}function Q(M,V,j,Z,pe){return V===null||V.tag!==7?(V=Vs(j,M.mode,Z,pe),V.return=M,V):(V=d(V,j),V.return=M,V)}function X(M,V,j){if(typeof V=="string"&&V!==""||typeof V=="number")return V=vd(""+V,M.mode,j),V.return=M,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case De:return j=Du(V.type,V.key,V.props,null,M.mode,j),j.ref=ba(M,null,V),j.return=M,j;case ae:return V=_d(V,M.mode,j),V.return=M,V;case ze:var Z=V._init;return X(M,Z(V._payload),j)}if(lt(V)||ue(V))return V=Vs(V,M.mode,j,null),V.return=M,V;ou(M,V)}return null}function K(M,V,j,Z){var pe=V!==null?V.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return pe!==null?null:A(M,V,""+j,Z);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case De:return j.key===pe?D(M,V,j,Z):null;case ae:return j.key===pe?z(M,V,j,Z):null;case ze:return pe=j._init,K(M,V,pe(j._payload),Z)}if(lt(j)||ue(j))return pe!==null?null:Q(M,V,j,Z,null);ou(M,j)}return null}function se(M,V,j,Z,pe){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return M=M.get(j)||null,A(V,M,""+Z,pe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case De:return M=M.get(Z.key===null?j:Z.key)||null,D(V,M,Z,pe);case ae:return M=M.get(Z.key===null?j:Z.key)||null,z(V,M,Z,pe);case ze:var ve=Z._init;return se(M,V,j,ve(Z._payload),pe)}if(lt(Z)||ue(Z))return M=M.get(j)||null,Q(V,M,Z,pe,null);ou(V,Z)}return null}function ce(M,V,j,Z){for(var pe=null,ve=null,_e=V,Ie=V=0,bt=null;_e!==null&&Ie<j.length;Ie++){_e.index>Ie?(bt=_e,_e=null):bt=_e.sibling;var Be=K(M,_e,j[Ie],Z);if(Be===null){_e===null&&(_e=bt);break}r&&_e&&Be.alternate===null&&s(M,_e),V=p(Be,V,Ie),ve===null?pe=Be:ve.sibling=Be,ve=Be,_e=bt}if(Ie===j.length)return a(M,_e),st&&Ps(M,Ie),pe;if(_e===null){for(;Ie<j.length;Ie++)_e=X(M,j[Ie],Z),_e!==null&&(V=p(_e,V,Ie),ve===null?pe=_e:ve.sibling=_e,ve=_e);return st&&Ps(M,Ie),pe}for(_e=c(M,_e);Ie<j.length;Ie++)bt=se(_e,M,Ie,j[Ie],Z),bt!==null&&(r&&bt.alternate!==null&&_e.delete(bt.key===null?Ie:bt.key),V=p(bt,V,Ie),ve===null?pe=bt:ve.sibling=bt,ve=bt);return r&&_e.forEach(function($i){return s(M,$i)}),st&&Ps(M,Ie),pe}function de(M,V,j,Z){var pe=ue(j);if(typeof pe!="function")throw Error(t(150));if(j=pe.call(j),j==null)throw Error(t(151));for(var ve=pe=null,_e=V,Ie=V=0,bt=null,Be=j.next();_e!==null&&!Be.done;Ie++,Be=j.next()){_e.index>Ie?(bt=_e,_e=null):bt=_e.sibling;var $i=K(M,_e,Be.value,Z);if($i===null){_e===null&&(_e=bt);break}r&&_e&&$i.alternate===null&&s(M,_e),V=p($i,V,Ie),ve===null?pe=$i:ve.sibling=$i,ve=$i,_e=bt}if(Be.done)return a(M,_e),st&&Ps(M,Ie),pe;if(_e===null){for(;!Be.done;Ie++,Be=j.next())Be=X(M,Be.value,Z),Be!==null&&(V=p(Be,V,Ie),ve===null?pe=Be:ve.sibling=Be,ve=Be);return st&&Ps(M,Ie),pe}for(_e=c(M,_e);!Be.done;Ie++,Be=j.next())Be=se(_e,M,Ie,Be.value,Z),Be!==null&&(r&&Be.alternate!==null&&_e.delete(Be.key===null?Ie:Be.key),V=p(Be,V,Ie),ve===null?pe=Be:ve.sibling=Be,ve=Be);return r&&_e.forEach(function(eT){return s(M,eT)}),st&&Ps(M,Ie),pe}function yt(M,V,j,Z){if(typeof j=="object"&&j!==null&&j.type===N&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case De:e:{for(var pe=j.key,ve=V;ve!==null;){if(ve.key===pe){if(pe=j.type,pe===N){if(ve.tag===7){a(M,ve.sibling),V=d(ve,j.props.children),V.return=M,M=V;break e}}else if(ve.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===ze&&Im(pe)===ve.type){a(M,ve.sibling),V=d(ve,j.props),V.ref=ba(M,ve,j),V.return=M,M=V;break e}a(M,ve);break}else s(M,ve);ve=ve.sibling}j.type===N?(V=Vs(j.props.children,M.mode,Z,j.key),V.return=M,M=V):(Z=Du(j.type,j.key,j.props,null,M.mode,Z),Z.ref=ba(M,V,j),Z.return=M,M=Z)}return _(M);case ae:e:{for(ve=j.key;V!==null;){if(V.key===ve)if(V.tag===4&&V.stateNode.containerInfo===j.containerInfo&&V.stateNode.implementation===j.implementation){a(M,V.sibling),V=d(V,j.children||[]),V.return=M,M=V;break e}else{a(M,V);break}else s(M,V);V=V.sibling}V=_d(j,M.mode,Z),V.return=M,M=V}return _(M);case ze:return ve=j._init,yt(M,V,ve(j._payload),Z)}if(lt(j))return ce(M,V,j,Z);if(ue(j))return de(M,V,j,Z);ou(M,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,V!==null&&V.tag===6?(a(M,V.sibling),V=d(V,j),V.return=M,M=V):(a(M,V),V=vd(j,M.mode,Z),V.return=M,M=V),_(M)):a(M,V)}return yt}var Co=Sm(!0),Am=Sm(!1),au=xi(null),lu=null,Po=null,kh=null;function Rh(){kh=Po=lu=null}function Dh(r){var s=au.current;rt(au),r._currentValue=s}function Nh(r,s,a){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===a)break;r=r.return}}function ko(r,s){lu=r,kh=Po=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(un=!0),r.firstContext=null)}function jn(r){var s=r._currentValue;if(kh!==r)if(r={context:r,memoizedValue:s,next:null},Po===null){if(lu===null)throw Error(t(308));Po=r,lu.dependencies={lanes:0,firstContext:r}}else Po=Po.next=r;return s}var ks=null;function xh(r){ks===null?ks=[r]:ks.push(r)}function Cm(r,s,a,c){var d=s.interleaved;return d===null?(a.next=a,xh(s)):(a.next=d.next,d.next=a),s.interleaved=a,ni(r,c)}function ni(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var Vi=!1;function Oh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function ri(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Li(r,s,a){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(Ue&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,ni(r,a)}return d=c.interleaved,d===null?(s.next=s,xh(c)):(s.next=d.next,d.next=s),c.interleaved=s,ni(r,a)}function uu(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,ma(r,a)}}function km(r,s){var a=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};p===null?d=p=_:p=p.next=_,a=a.next}while(a!==null);p===null?d=p=s:p=p.next=s}else d=p=s;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:c.shared,effects:c.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function cu(r,s,a,c){var d=r.updateQueue;Vi=!1;var p=d.firstBaseUpdate,_=d.lastBaseUpdate,A=d.shared.pending;if(A!==null){d.shared.pending=null;var D=A,z=D.next;D.next=null,_===null?p=z:_.next=z,_=D;var Q=r.alternate;Q!==null&&(Q=Q.updateQueue,A=Q.lastBaseUpdate,A!==_&&(A===null?Q.firstBaseUpdate=z:A.next=z,Q.lastBaseUpdate=D))}if(p!==null){var X=d.baseState;_=0,Q=z=D=null,A=p;do{var K=A.lane,se=A.eventTime;if((c&K)===K){Q!==null&&(Q=Q.next={eventTime:se,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var ce=r,de=A;switch(K=s,se=a,de.tag){case 1:if(ce=de.payload,typeof ce=="function"){X=ce.call(se,X,K);break e}X=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=de.payload,K=typeof ce=="function"?ce.call(se,X,K):ce,K==null)break e;X=q({},X,K);break e;case 2:Vi=!0}}A.callback!==null&&A.lane!==0&&(r.flags|=64,K=d.effects,K===null?d.effects=[A]:K.push(A))}else se={eventTime:se,lane:K,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Q===null?(z=Q=se,D=X):Q=Q.next=se,_|=K;if(A=A.next,A===null){if(A=d.shared.pending,A===null)break;K=A,A=K.next,K.next=null,d.lastBaseUpdate=K,d.shared.pending=null}}while(!0);if(Q===null&&(D=X),d.baseState=D,d.firstBaseUpdate=z,d.lastBaseUpdate=Q,s=d.shared.interleaved,s!==null){d=s;do _|=d.lane,d=d.next;while(d!==s)}else p===null&&(d.shared.lanes=0);Ns|=_,r.lanes=_,r.memoizedState=X}}function Rm(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var c=r[s],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var Va={},Cr=xi(Va),La=xi(Va),Ma=xi(Va);function Rs(r){if(r===Va)throw Error(t(174));return r}function bh(r,s){switch(Xe(Ma,s),Xe(La,r),Xe(Cr,Va),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:vi(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=vi(s,r)}rt(Cr),Xe(Cr,s)}function Ro(){rt(Cr),rt(La),rt(Ma)}function Dm(r){Rs(Ma.current);var s=Rs(Cr.current),a=vi(s,r.type);s!==a&&(Xe(La,r),Xe(Cr,a))}function Vh(r){La.current===r&&(rt(Cr),rt(La))}var ct=xi(0);function hu(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Lh=[];function Mh(){for(var r=0;r<Lh.length;r++)Lh[r]._workInProgressVersionPrimary=null;Lh.length=0}var du=me.ReactCurrentDispatcher,Fh=me.ReactCurrentBatchConfig,Ds=0,ht=null,Pt=null,xt=null,fu=!1,Fa=!1,ja=0,T0=0;function Gt(){throw Error(t(321))}function jh(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Yn(r[a],s[a]))return!1;return!0}function Uh(r,s,a,c,d,p){if(Ds=p,ht=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,du.current=r===null||r.memoizedState===null?C0:P0,r=a(c,d),Fa){p=0;do{if(Fa=!1,ja=0,25<=p)throw Error(t(301));p+=1,xt=Pt=null,s.updateQueue=null,du.current=k0,r=a(c,d)}while(Fa)}if(du.current=gu,s=Pt!==null&&Pt.next!==null,Ds=0,xt=Pt=ht=null,fu=!1,s)throw Error(t(300));return r}function zh(){var r=ja!==0;return ja=0,r}function Pr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?ht.memoizedState=xt=r:xt=xt.next=r,xt}function Un(){if(Pt===null){var r=ht.alternate;r=r!==null?r.memoizedState:null}else r=Pt.next;var s=xt===null?ht.memoizedState:xt.next;if(s!==null)xt=s,Pt=r;else{if(r===null)throw Error(t(310));Pt=r,r={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},xt===null?ht.memoizedState=xt=r:xt=xt.next=r}return xt}function Ua(r,s){return typeof s=="function"?s(r):s}function Bh(r){var s=Un(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=Pt,d=c.baseQueue,p=a.pending;if(p!==null){if(d!==null){var _=d.next;d.next=p.next,p.next=_}c.baseQueue=d=p,a.pending=null}if(d!==null){p=d.next,c=c.baseState;var A=_=null,D=null,z=p;do{var Q=z.lane;if((Ds&Q)===Q)D!==null&&(D=D.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),c=z.hasEagerState?z.eagerState:r(c,z.action);else{var X={lane:Q,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};D===null?(A=D=X,_=c):D=D.next=X,ht.lanes|=Q,Ns|=Q}z=z.next}while(z!==null&&z!==p);D===null?_=c:D.next=A,Yn(c,s.memoizedState)||(un=!0),s.memoizedState=c,s.baseState=_,s.baseQueue=D,a.lastRenderedState=c}if(r=a.interleaved,r!==null){d=r;do p=d.lane,ht.lanes|=p,Ns|=p,d=d.next;while(d!==r)}else d===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function $h(r){var s=Un(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=a.dispatch,d=a.pending,p=s.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do p=r(p,_.action),_=_.next;while(_!==d);Yn(p,s.memoizedState)||(un=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),a.lastRenderedState=p}return[p,c]}function Nm(){}function xm(r,s){var a=ht,c=Un(),d=s(),p=!Yn(c.memoizedState,d);if(p&&(c.memoizedState=d,un=!0),c=c.queue,Wh(Vm.bind(null,a,c,r),[r]),c.getSnapshot!==s||p||xt!==null&&xt.memoizedState.tag&1){if(a.flags|=2048,za(9,bm.bind(null,a,c,d,s),void 0,null),Ot===null)throw Error(t(349));(Ds&30)!==0||Om(a,s,d)}return d}function Om(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=ht.updateQueue,s===null?(s={lastEffect:null,stores:null},ht.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function bm(r,s,a,c){s.value=a,s.getSnapshot=c,Lm(s)&&Mm(r)}function Vm(r,s,a){return a(function(){Lm(s)&&Mm(r)})}function Lm(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Yn(r,a)}catch{return!0}}function Mm(r){var s=ni(r,1);s!==null&&er(s,r,1,-1)}function Fm(r){var s=Pr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:r},s.queue=r,r=r.dispatch=A0.bind(null,ht,r),[s.memoizedState,r]}function za(r,s,a,c){return r={tag:r,create:s,destroy:a,deps:c,next:null},s=ht.updateQueue,s===null?(s={lastEffect:null,stores:null},ht.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(c=a.next,a.next=r,r.next=c,s.lastEffect=r)),r}function jm(){return Un().memoizedState}function pu(r,s,a,c){var d=Pr();ht.flags|=r,d.memoizedState=za(1|s,a,void 0,c===void 0?null:c)}function mu(r,s,a,c){var d=Un();c=c===void 0?null:c;var p=void 0;if(Pt!==null){var _=Pt.memoizedState;if(p=_.destroy,c!==null&&jh(c,_.deps)){d.memoizedState=za(s,a,p,c);return}}ht.flags|=r,d.memoizedState=za(1|s,a,p,c)}function Um(r,s){return pu(8390656,8,r,s)}function Wh(r,s){return mu(2048,8,r,s)}function zm(r,s){return mu(4,2,r,s)}function Bm(r,s){return mu(4,4,r,s)}function $m(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Wm(r,s,a){return a=a!=null?a.concat([r]):null,mu(4,4,$m.bind(null,s,r),a)}function Hh(){}function Hm(r,s){var a=Un();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&jh(s,c[1])?c[0]:(a.memoizedState=[r,s],r)}function qm(r,s){var a=Un();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&jh(s,c[1])?c[0]:(r=r(),a.memoizedState=[r,s],r)}function Gm(r,s,a){return(Ds&21)===0?(r.baseState&&(r.baseState=!1,un=!0),r.memoizedState=a):(Yn(a,s)||(a=fa(),ht.lanes|=a,Ns|=a,r.baseState=!0),s)}function I0(r,s){var a=Fe;Fe=a!==0&&4>a?a:4,r(!0);var c=Fh.transition;Fh.transition={};try{r(!1),s()}finally{Fe=a,Fh.transition=c}}function Km(){return Un().memoizedState}function S0(r,s,a){var c=Ui(r);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Ym(r))Qm(s,a);else if(a=Cm(r,s,a,c),a!==null){var d=nn();er(a,r,c,d),Xm(a,s,c)}}function A0(r,s,a){var c=Ui(r),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ym(r))Qm(s,d);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var _=s.lastRenderedState,A=p(_,a);if(d.hasEagerState=!0,d.eagerState=A,Yn(A,_)){var D=s.interleaved;D===null?(d.next=d,xh(s)):(d.next=D.next,D.next=d),s.interleaved=d;return}}catch{}finally{}a=Cm(r,s,d,c),a!==null&&(d=nn(),er(a,r,c,d),Xm(a,s,c))}}function Ym(r){var s=r.alternate;return r===ht||s!==null&&s===ht}function Qm(r,s){Fa=fu=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function Xm(r,s,a){if((a&4194240)!==0){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,ma(r,a)}}var gu={readContext:jn,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},C0={readContext:jn,useCallback:function(r,s){return Pr().memoizedState=[r,s===void 0?null:s],r},useContext:jn,useEffect:Um,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,pu(4194308,4,$m.bind(null,s,r),a)},useLayoutEffect:function(r,s){return pu(4194308,4,r,s)},useInsertionEffect:function(r,s){return pu(4,2,r,s)},useMemo:function(r,s){var a=Pr();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var c=Pr();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},c.queue=r,r=r.dispatch=S0.bind(null,ht,r),[c.memoizedState,r]},useRef:function(r){var s=Pr();return r={current:r},s.memoizedState=r},useState:Fm,useDebugValue:Hh,useDeferredValue:function(r){return Pr().memoizedState=r},useTransition:function(){var r=Fm(!1),s=r[0];return r=I0.bind(null,r[1]),Pr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var c=ht,d=Pr();if(st){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),Ot===null)throw Error(t(349));(Ds&30)!==0||Om(c,s,a)}d.memoizedState=a;var p={value:a,getSnapshot:s};return d.queue=p,Um(Vm.bind(null,c,p,r),[r]),c.flags|=2048,za(9,bm.bind(null,c,p,a,s),void 0,null),a},useId:function(){var r=Pr(),s=Ot.identifierPrefix;if(st){var a=ti,c=ei;a=(c&~(1<<32-wn(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=ja++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=T0++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},P0={readContext:jn,useCallback:Hm,useContext:jn,useEffect:Wh,useImperativeHandle:Wm,useInsertionEffect:zm,useLayoutEffect:Bm,useMemo:qm,useReducer:Bh,useRef:jm,useState:function(){return Bh(Ua)},useDebugValue:Hh,useDeferredValue:function(r){var s=Un();return Gm(s,Pt.memoizedState,r)},useTransition:function(){var r=Bh(Ua)[0],s=Un().memoizedState;return[r,s]},useMutableSource:Nm,useSyncExternalStore:xm,useId:Km,unstable_isNewReconciler:!1},k0={readContext:jn,useCallback:Hm,useContext:jn,useEffect:Wh,useImperativeHandle:Wm,useInsertionEffect:zm,useLayoutEffect:Bm,useMemo:qm,useReducer:$h,useRef:jm,useState:function(){return $h(Ua)},useDebugValue:Hh,useDeferredValue:function(r){var s=Un();return Pt===null?s.memoizedState=r:Gm(s,Pt.memoizedState,r)},useTransition:function(){var r=$h(Ua)[0],s=Un().memoizedState;return[r,s]},useMutableSource:Nm,useSyncExternalStore:xm,useId:Km,unstable_isNewReconciler:!1};function Xn(r,s){if(r&&r.defaultProps){s=q({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function qh(r,s,a,c){s=r.memoizedState,a=a(c,s),a=a==null?s:q({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var yu={isMounted:function(r){return(r=r._reactInternals)?vn(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var c=nn(),d=Ui(r),p=ri(c,d);p.payload=s,a!=null&&(p.callback=a),s=Li(r,p,d),s!==null&&(er(s,r,d,c),uu(s,r,d))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var c=nn(),d=Ui(r),p=ri(c,d);p.tag=1,p.payload=s,a!=null&&(p.callback=a),s=Li(r,p,d),s!==null&&(er(s,r,d,c),uu(s,r,d))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=nn(),c=Ui(r),d=ri(a,c);d.tag=2,s!=null&&(d.callback=s),s=Li(r,d,c),s!==null&&(er(s,r,c,a),uu(s,r,c))}};function Jm(r,s,a,c,d,p,_){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,p,_):s.prototype&&s.prototype.isPureReactComponent?!Pa(a,c)||!Pa(d,p):!0}function Zm(r,s,a){var c=!1,d=Oi,p=s.contextType;return typeof p=="object"&&p!==null?p=jn(p):(d=ln(s)?As:qt.current,c=s.contextTypes,p=(c=c!=null)?To(r,d):Oi),s=new s(a,p),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=yu,r.stateNode=s,s._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=d,r.__reactInternalMemoizedMaskedChildContext=p),s}function eg(r,s,a,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==r&&yu.enqueueReplaceState(s,s.state,null)}function Gh(r,s,a,c){var d=r.stateNode;d.props=a,d.state=r.memoizedState,d.refs={},Oh(r);var p=s.contextType;typeof p=="object"&&p!==null?d.context=jn(p):(p=ln(s)?As:qt.current,d.context=To(r,p)),d.state=r.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(qh(r,s,p,a),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&yu.enqueueReplaceState(d,d.state,null),cu(r,a,d,c),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308)}function Do(r,s){try{var a="",c=s;do a+=ye(c),c=c.return;while(c);var d=a}catch(p){d=`
Error generating stack: `+p.message+`
`+p.stack}return{value:r,source:s,stack:d,digest:null}}function Kh(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function Yh(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var R0=typeof WeakMap=="function"?WeakMap:Map;function tg(r,s,a){a=ri(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){Su||(Su=!0,cd=c),Yh(r,s)},a}function ng(r,s,a){a=ri(-1,a),a.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var d=s.value;a.payload=function(){return c(d)},a.callback=function(){Yh(r,s)}}var p=r.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(a.callback=function(){Yh(r,s),typeof c!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})}),a}function rg(r,s,a){var c=r.pingCache;if(c===null){c=r.pingCache=new R0;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(a)||(d.add(a),r=$0.bind(null,r,s,a),s.then(r,r))}function ig(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function sg(r,s,a,c,d){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=ri(-1,1),s.tag=2,Li(a,s,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=d,r)}var D0=me.ReactCurrentOwner,un=!1;function tn(r,s,a,c){s.child=r===null?Am(s,null,a,c):Co(s,r.child,a,c)}function og(r,s,a,c,d){a=a.render;var p=s.ref;return ko(s,d),c=Uh(r,s,a,c,p,d),a=zh(),r!==null&&!un?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,ii(r,s,d)):(st&&a&&Ih(s),s.flags|=1,tn(r,s,c,d),s.child)}function ag(r,s,a,c,d){if(r===null){var p=a.type;return typeof p=="function"&&!yd(p)&&p.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=p,lg(r,s,p,c,d)):(r=Du(a.type,null,c,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(p=r.child,(r.lanes&d)===0){var _=p.memoizedProps;if(a=a.compare,a=a!==null?a:Pa,a(_,c)&&r.ref===s.ref)return ii(r,s,d)}return s.flags|=1,r=Bi(p,c),r.ref=s.ref,r.return=s,s.child=r}function lg(r,s,a,c,d){if(r!==null){var p=r.memoizedProps;if(Pa(p,c)&&r.ref===s.ref)if(un=!1,s.pendingProps=c=p,(r.lanes&d)!==0)(r.flags&131072)!==0&&(un=!0);else return s.lanes=r.lanes,ii(r,s,d)}return Qh(r,s,a,c,d)}function ug(r,s,a){var c=s.pendingProps,d=c.children,p=r!==null?r.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(xo,Pn),Pn|=a;else{if((a&1073741824)===0)return r=p!==null?p.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Xe(xo,Pn),Pn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=p!==null?p.baseLanes:a,Xe(xo,Pn),Pn|=c}else p!==null?(c=p.baseLanes|a,s.memoizedState=null):c=a,Xe(xo,Pn),Pn|=c;return tn(r,s,d,a),s.child}function cg(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Qh(r,s,a,c,d){var p=ln(a)?As:qt.current;return p=To(s,p),ko(s,d),a=Uh(r,s,a,c,p,d),c=zh(),r!==null&&!un?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,ii(r,s,d)):(st&&c&&Ih(s),s.flags|=1,tn(r,s,a,d),s.child)}function hg(r,s,a,c,d){if(ln(a)){var p=!0;tu(s)}else p=!1;if(ko(s,d),s.stateNode===null)_u(r,s),Zm(s,a,c),Gh(s,a,c,d),c=!0;else if(r===null){var _=s.stateNode,A=s.memoizedProps;_.props=A;var D=_.context,z=a.contextType;typeof z=="object"&&z!==null?z=jn(z):(z=ln(a)?As:qt.current,z=To(s,z));var Q=a.getDerivedStateFromProps,X=typeof Q=="function"||typeof _.getSnapshotBeforeUpdate=="function";X||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A!==c||D!==z)&&eg(s,_,c,z),Vi=!1;var K=s.memoizedState;_.state=K,cu(s,c,_,d),D=s.memoizedState,A!==c||K!==D||an.current||Vi?(typeof Q=="function"&&(qh(s,a,Q,c),D=s.memoizedState),(A=Vi||Jm(s,a,A,c,K,D,z))?(X||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=D),_.props=c,_.state=D,_.context=z,c=A):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{_=s.stateNode,Pm(r,s),A=s.memoizedProps,z=s.type===s.elementType?A:Xn(s.type,A),_.props=z,X=s.pendingProps,K=_.context,D=a.contextType,typeof D=="object"&&D!==null?D=jn(D):(D=ln(a)?As:qt.current,D=To(s,D));var se=a.getDerivedStateFromProps;(Q=typeof se=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A!==X||K!==D)&&eg(s,_,c,D),Vi=!1,K=s.memoizedState,_.state=K,cu(s,c,_,d);var ce=s.memoizedState;A!==X||K!==ce||an.current||Vi?(typeof se=="function"&&(qh(s,a,se,c),ce=s.memoizedState),(z=Vi||Jm(s,a,z,c,K,ce,D)||!1)?(Q||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,ce,D),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,ce,D)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||A===r.memoizedProps&&K===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&K===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ce),_.props=c,_.state=ce,_.context=D,c=z):(typeof _.componentDidUpdate!="function"||A===r.memoizedProps&&K===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&K===r.memoizedState||(s.flags|=1024),c=!1)}return Xh(r,s,a,c,p,d)}function Xh(r,s,a,c,d,p){cg(r,s);var _=(s.flags&128)!==0;if(!c&&!_)return d&&gm(s,a,!1),ii(r,s,p);c=s.stateNode,D0.current=s;var A=_&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,r!==null&&_?(s.child=Co(s,r.child,null,p),s.child=Co(s,null,A,p)):tn(r,s,A,p),s.memoizedState=c.state,d&&gm(s,a,!0),s.child}function dg(r){var s=r.stateNode;s.pendingContext?pm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&pm(r,s.context,!1),bh(r,s.containerInfo)}function fg(r,s,a,c,d){return Ao(),Ph(d),s.flags|=256,tn(r,s,a,c),s.child}var Jh={dehydrated:null,treeContext:null,retryLane:0};function Zh(r){return{baseLanes:r,cachePool:null,transitions:null}}function pg(r,s,a){var c=s.pendingProps,d=ct.current,p=!1,_=(s.flags&128)!==0,A;if((A=_)||(A=r!==null&&r.memoizedState===null?!1:(d&2)!==0),A?(p=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(d|=1),Xe(ct,d&1),r===null)return Ch(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(_=c.children,r=c.fallback,p?(c=s.mode,p=s.child,_={mode:"hidden",children:_},(c&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=_):p=Nu(_,c,0,null),r=Vs(r,c,a,null),p.return=s,r.return=s,p.sibling=r,s.child=p,s.child.memoizedState=Zh(a),s.memoizedState=Jh,r):ed(s,_));if(d=r.memoizedState,d!==null&&(A=d.dehydrated,A!==null))return N0(r,s,_,c,A,d,a);if(p){p=c.fallback,_=s.mode,d=r.child,A=d.sibling;var D={mode:"hidden",children:c.children};return(_&1)===0&&s.child!==d?(c=s.child,c.childLanes=0,c.pendingProps=D,s.deletions=null):(c=Bi(d,D),c.subtreeFlags=d.subtreeFlags&14680064),A!==null?p=Bi(A,p):(p=Vs(p,_,a,null),p.flags|=2),p.return=s,c.return=s,c.sibling=p,s.child=c,c=p,p=s.child,_=r.child.memoizedState,_=_===null?Zh(a):{baseLanes:_.baseLanes|a,cachePool:null,transitions:_.transitions},p.memoizedState=_,p.childLanes=r.childLanes&~a,s.memoizedState=Jh,c}return p=r.child,r=p.sibling,c=Bi(p,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=a),c.return=s,c.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=c,s.memoizedState=null,c}function ed(r,s){return s=Nu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function vu(r,s,a,c){return c!==null&&Ph(c),Co(s,r.child,null,a),r=ed(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function N0(r,s,a,c,d,p,_){if(a)return s.flags&256?(s.flags&=-257,c=Kh(Error(t(422))),vu(r,s,_,c)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(p=c.fallback,d=s.mode,c=Nu({mode:"visible",children:c.children},d,0,null),p=Vs(p,d,_,null),p.flags|=2,c.return=s,p.return=s,c.sibling=p,s.child=c,(s.mode&1)!==0&&Co(s,r.child,null,_),s.child.memoizedState=Zh(_),s.memoizedState=Jh,p);if((s.mode&1)===0)return vu(r,s,_,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var A=c.dgst;return c=A,p=Error(t(419)),c=Kh(p,c,void 0),vu(r,s,_,c)}if(A=(_&r.childLanes)!==0,un||A){if(c=Ot,c!==null){switch(_&-_){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|_))!==0?0:d,d!==0&&d!==p.retryLane&&(p.retryLane=d,ni(r,d),er(c,r,d,-1))}return gd(),c=Kh(Error(t(421))),vu(r,s,_,c)}return d.data==="$?"?(s.flags|=128,s.child=r.child,s=W0.bind(null,r),d._reactRetry=s,null):(r=p.treeContext,Cn=Ni(d.nextSibling),An=s,st=!0,Qn=null,r!==null&&(Mn[Fn++]=ei,Mn[Fn++]=ti,Mn[Fn++]=Cs,ei=r.id,ti=r.overflow,Cs=s),s=ed(s,c.children),s.flags|=4096,s)}function mg(r,s,a){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),Nh(r.return,s,a)}function td(r,s,a,c,d){var p=r.memoizedState;p===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=a,p.tailMode=d)}function gg(r,s,a){var c=s.pendingProps,d=c.revealOrder,p=c.tail;if(tn(r,s,c.children,a),c=ct.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&mg(r,a,s);else if(r.tag===19)mg(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(Xe(ct,c),(s.mode&1)===0)s.memoizedState=null;else switch(d){case"forwards":for(a=s.child,d=null;a!==null;)r=a.alternate,r!==null&&hu(r)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),td(s,!1,d,a,p);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&hu(r)===null){s.child=d;break}r=d.sibling,d.sibling=a,a=d,d=r}td(s,!0,a,null,p);break;case"together":td(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function _u(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function ii(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),Ns|=s.lanes,(a&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=Bi(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=Bi(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function x0(r,s,a){switch(s.tag){case 3:dg(s),Ao();break;case 5:Dm(s);break;case 1:ln(s.type)&&tu(s);break;case 4:bh(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,d=s.memoizedProps.value;Xe(au,c._currentValue),c._currentValue=d;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(Xe(ct,ct.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?pg(r,s,a):(Xe(ct,ct.current&1),r=ii(r,s,a),r!==null?r.sibling:null);Xe(ct,ct.current&1);break;case 19:if(c=(a&s.childLanes)!==0,(r.flags&128)!==0){if(c)return gg(r,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Xe(ct,ct.current),c)break;return null;case 22:case 23:return s.lanes=0,ug(r,s,a)}return ii(r,s,a)}var yg,nd,vg,_g;yg=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},nd=function(){},vg=function(r,s,a,c){var d=r.memoizedProps;if(d!==c){r=s.stateNode,Rs(Cr.current);var p=null;switch(a){case"input":d=Qe(r,d),c=Qe(r,c),p=[];break;case"select":d=q({},d,{value:void 0}),c=q({},c,{value:void 0}),p=[];break;case"textarea":d=us(r,d),c=us(r,c),p=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=Jl)}rn(a,c);var _;a=null;for(z in d)if(!c.hasOwnProperty(z)&&d.hasOwnProperty(z)&&d[z]!=null)if(z==="style"){var A=d[z];for(_ in A)A.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(o.hasOwnProperty(z)?p||(p=[]):(p=p||[]).push(z,null));for(z in c){var D=c[z];if(A=d!=null?d[z]:void 0,c.hasOwnProperty(z)&&D!==A&&(D!=null||A!=null))if(z==="style")if(A){for(_ in A)!A.hasOwnProperty(_)||D&&D.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in D)D.hasOwnProperty(_)&&A[_]!==D[_]&&(a||(a={}),a[_]=D[_])}else a||(p||(p=[]),p.push(z,a)),a=D;else z==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,A=A?A.__html:void 0,D!=null&&A!==D&&(p=p||[]).push(z,D)):z==="children"?typeof D!="string"&&typeof D!="number"||(p=p||[]).push(z,""+D):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(o.hasOwnProperty(z)?(D!=null&&z==="onScroll"&&nt("scroll",r),p||A===D||(p=[])):(p=p||[]).push(z,D))}a&&(p=p||[]).push("style",a);var z=p;(s.updateQueue=z)&&(s.flags|=4)}},_g=function(r,s,a,c){a!==c&&(s.flags|=4)};function Ba(r,s){if(!st)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Kt(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,c=0;if(s)for(var d=r.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=c,r.childLanes=a,s}function O0(r,s,a){var c=s.pendingProps;switch(Sh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(s),null;case 1:return ln(s.type)&&eu(),Kt(s),null;case 3:return c=s.stateNode,Ro(),rt(an),rt(qt),Mh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(su(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Qn!==null&&(fd(Qn),Qn=null))),nd(r,s),Kt(s),null;case 5:Vh(s);var d=Rs(Ma.current);if(a=s.type,r!==null&&s.stateNode!=null)vg(r,s,a,c,d),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(t(166));return Kt(s),null}if(r=Rs(Cr.current),su(s)){c=s.stateNode,a=s.type;var p=s.memoizedProps;switch(c[Ar]=s,c[xa]=p,r=(s.mode&1)!==0,a){case"dialog":nt("cancel",c),nt("close",c);break;case"iframe":case"object":case"embed":nt("load",c);break;case"video":case"audio":for(d=0;d<Ra.length;d++)nt(Ra[d],c);break;case"source":nt("error",c);break;case"img":case"image":case"link":nt("error",c),nt("load",c);break;case"details":nt("toggle",c);break;case"input":ar(c,p),nt("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!p.multiple},nt("invalid",c);break;case"textarea":yi(c,p),nt("invalid",c)}rn(a,p),d=null;for(var _ in p)if(p.hasOwnProperty(_)){var A=p[_];_==="children"?typeof A=="string"?c.textContent!==A&&(p.suppressHydrationWarning!==!0&&Xl(c.textContent,A,r),d=["children",A]):typeof A=="number"&&c.textContent!==""+A&&(p.suppressHydrationWarning!==!0&&Xl(c.textContent,A,r),d=["children",""+A]):o.hasOwnProperty(_)&&A!=null&&_==="onScroll"&&nt("scroll",c)}switch(a){case"input":sr(c),gi(c,p,!0);break;case"textarea":sr(c),lr(c);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(c.onclick=Jl)}c=d,s.updateQueue=c,c!==null&&(s.flags|=4)}else{_=d.nodeType===9?d:d.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=cs(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=_.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=_.createElement(a,{is:c.is}):(r=_.createElement(a),a==="select"&&(_=r,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):r=_.createElementNS(r,a),r[Ar]=s,r[xa]=c,yg(r,s,!1,!1),s.stateNode=r;e:{switch(_=zr(a,c),a){case"dialog":nt("cancel",r),nt("close",r),d=c;break;case"iframe":case"object":case"embed":nt("load",r),d=c;break;case"video":case"audio":for(d=0;d<Ra.length;d++)nt(Ra[d],r);d=c;break;case"source":nt("error",r),d=c;break;case"img":case"image":case"link":nt("error",r),nt("load",r),d=c;break;case"details":nt("toggle",r),d=c;break;case"input":ar(r,c),d=Qe(r,c),nt("invalid",r);break;case"option":d=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},d=q({},c,{value:void 0}),nt("invalid",r);break;case"textarea":yi(r,c),d=us(r,c),nt("invalid",r);break;default:d=c}rn(a,d),A=d;for(p in A)if(A.hasOwnProperty(p)){var D=A[p];p==="style"?Ur(r,D):p==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&_i(r,D)):p==="children"?typeof D=="string"?(a!=="textarea"||D!=="")&&cr(r,D):typeof D=="number"&&cr(r,""+D):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(o.hasOwnProperty(p)?D!=null&&p==="onScroll"&&nt("scroll",r):D!=null&&fe(r,p,D,_))}switch(a){case"input":sr(r),gi(r,c,!1);break;case"textarea":sr(r),lr(r);break;case"option":c.value!=null&&r.setAttribute("value",""+Ne(c.value));break;case"select":r.multiple=!!c.multiple,p=c.value,p!=null?pn(r,!!c.multiple,p,!1):c.defaultValue!=null&&pn(r,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(r.onclick=Jl)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Kt(s),null;case 6:if(r&&s.stateNode!=null)_g(r,s,r.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(t(166));if(a=Rs(Ma.current),Rs(Cr.current),su(s)){if(c=s.stateNode,a=s.memoizedProps,c[Ar]=s,(p=c.nodeValue!==a)&&(r=An,r!==null))switch(r.tag){case 3:Xl(c.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Xl(c.nodeValue,a,(r.mode&1)!==0)}p&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Ar]=s,s.stateNode=c}return Kt(s),null;case 13:if(rt(ct),c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(st&&Cn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Tm(),Ao(),s.flags|=98560,p=!1;else if(p=su(s),c!==null&&c.dehydrated!==null){if(r===null){if(!p)throw Error(t(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(t(317));p[Ar]=s}else Ao(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Kt(s),p=!1}else Qn!==null&&(fd(Qn),Qn=null),p=!0;if(!p)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(ct.current&1)!==0?kt===0&&(kt=3):gd())),s.updateQueue!==null&&(s.flags|=4),Kt(s),null);case 4:return Ro(),nd(r,s),r===null&&Da(s.stateNode.containerInfo),Kt(s),null;case 10:return Dh(s.type._context),Kt(s),null;case 17:return ln(s.type)&&eu(),Kt(s),null;case 19:if(rt(ct),p=s.memoizedState,p===null)return Kt(s),null;if(c=(s.flags&128)!==0,_=p.rendering,_===null)if(c)Ba(p,!1);else{if(kt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(_=hu(r),_!==null){for(s.flags|=128,Ba(p,!1),c=_.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)p=a,r=c,p.flags&=14680066,_=p.alternate,_===null?(p.childLanes=0,p.lanes=r,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=_.childLanes,p.lanes=_.lanes,p.child=_.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=_.memoizedProps,p.memoizedState=_.memoizedState,p.updateQueue=_.updateQueue,p.type=_.type,r=_.dependencies,p.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Xe(ct,ct.current&1|2),s.child}r=r.sibling}p.tail!==null&&tt()>Oo&&(s.flags|=128,c=!0,Ba(p,!1),s.lanes=4194304)}else{if(!c)if(r=hu(_),r!==null){if(s.flags|=128,c=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Ba(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!st)return Kt(s),null}else 2*tt()-p.renderingStartTime>Oo&&a!==1073741824&&(s.flags|=128,c=!0,Ba(p,!1),s.lanes=4194304);p.isBackwards?(_.sibling=s.child,s.child=_):(a=p.last,a!==null?a.sibling=_:s.child=_,p.last=_)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=tt(),s.sibling=null,a=ct.current,Xe(ct,c?a&1|2:a&1),s):(Kt(s),null);case 22:case 23:return md(),c=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(Pn&1073741824)!==0&&(Kt(s),s.subtreeFlags&6&&(s.flags|=8192)):Kt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function b0(r,s){switch(Sh(s),s.tag){case 1:return ln(s.type)&&eu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ro(),rt(an),rt(qt),Mh(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Vh(s),null;case 13:if(rt(ct),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Ao()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return rt(ct),null;case 4:return Ro(),null;case 10:return Dh(s.type._context),null;case 22:case 23:return md(),null;case 24:return null;default:return null}}var wu=!1,Yt=!1,V0=typeof WeakSet=="function"?WeakSet:Set,le=null;function No(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){mt(r,s,c)}else a.current=null}function rd(r,s,a){try{a()}catch(c){mt(r,s,c)}}var wg=!1;function L0(r,s){if(mh=Yr,r=Jp(),ah(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var _=0,A=-1,D=-1,z=0,Q=0,X=r,K=null;t:for(;;){for(var se;X!==a||d!==0&&X.nodeType!==3||(A=_+d),X!==p||c!==0&&X.nodeType!==3||(D=_+c),X.nodeType===3&&(_+=X.nodeValue.length),(se=X.firstChild)!==null;)K=X,X=se;for(;;){if(X===r)break t;if(K===a&&++z===d&&(A=_),K===p&&++Q===c&&(D=_),(se=X.nextSibling)!==null)break;X=K,K=X.parentNode}X=se}a=A===-1||D===-1?null:{start:A,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(gh={focusedElem:r,selectionRange:a},Yr=!1,le=s;le!==null;)if(s=le,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,le=r;else for(;le!==null;){s=le;try{var ce=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var de=ce.memoizedProps,yt=ce.memoizedState,M=s.stateNode,V=M.getSnapshotBeforeUpdate(s.elementType===s.type?de:Xn(s.type,de),yt);M.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var j=s.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Z){mt(s,s.return,Z)}if(r=s.sibling,r!==null){r.return=s.return,le=r;break}le=s.return}return ce=wg,wg=!1,ce}function $a(r,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&r)===r){var p=d.destroy;d.destroy=void 0,p!==void 0&&rd(s,a,p)}d=d.next}while(d!==c)}}function Eu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function id(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function Eg(r){var s=r.alternate;s!==null&&(r.alternate=null,Eg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Ar],delete s[xa],delete s[wh],delete s[v0],delete s[_0])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Tg(r){return r.tag===5||r.tag===3||r.tag===4}function Ig(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Tg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function sd(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Jl));else if(c!==4&&(r=r.child,r!==null))for(sd(r,s,a),r=r.sibling;r!==null;)sd(r,s,a),r=r.sibling}function od(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(od(r,s,a),r=r.sibling;r!==null;)od(r,s,a),r=r.sibling}var Ft=null,Jn=!1;function Mi(r,s,a){for(a=a.child;a!==null;)Sg(r,s,a),a=a.sibling}function Sg(r,s,a){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(ms,a)}catch{}switch(a.tag){case 5:Yt||No(a,s);case 6:var c=Ft,d=Jn;Ft=null,Mi(r,s,a),Ft=c,Jn=d,Ft!==null&&(Jn?(r=Ft,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Ft.removeChild(a.stateNode));break;case 18:Ft!==null&&(Jn?(r=Ft,a=a.stateNode,r.nodeType===8?_h(r.parentNode,a):r.nodeType===1&&_h(r,a),Pi(r)):_h(Ft,a.stateNode));break;case 4:c=Ft,d=Jn,Ft=a.stateNode.containerInfo,Jn=!0,Mi(r,s,a),Ft=c,Jn=d;break;case 0:case 11:case 14:case 15:if(!Yt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var p=d,_=p.destroy;p=p.tag,_!==void 0&&((p&2)!==0||(p&4)!==0)&&rd(a,s,_),d=d.next}while(d!==c)}Mi(r,s,a);break;case 1:if(!Yt&&(No(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(A){mt(a,s,A)}Mi(r,s,a);break;case 21:Mi(r,s,a);break;case 22:a.mode&1?(Yt=(c=Yt)||a.memoizedState!==null,Mi(r,s,a),Yt=c):Mi(r,s,a);break;default:Mi(r,s,a)}}function Ag(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new V0),s.forEach(function(c){var d=H0.bind(null,r,c);a.has(c)||(a.add(c),c.then(d,d))})}}function Zn(r,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var p=r,_=s,A=_;e:for(;A!==null;){switch(A.tag){case 5:Ft=A.stateNode,Jn=!1;break e;case 3:Ft=A.stateNode.containerInfo,Jn=!0;break e;case 4:Ft=A.stateNode.containerInfo,Jn=!0;break e}A=A.return}if(Ft===null)throw Error(t(160));Sg(p,_,d),Ft=null,Jn=!1;var D=d.alternate;D!==null&&(D.return=null),d.return=null}catch(z){mt(d,s,z)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Cg(s,r),s=s.sibling}function Cg(r,s){var a=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Zn(s,r),kr(r),c&4){try{$a(3,r,r.return),Eu(3,r)}catch(de){mt(r,r.return,de)}try{$a(5,r,r.return)}catch(de){mt(r,r.return,de)}}break;case 1:Zn(s,r),kr(r),c&512&&a!==null&&No(a,a.return);break;case 5:if(Zn(s,r),kr(r),c&512&&a!==null&&No(a,a.return),r.flags&32){var d=r.stateNode;try{cr(d,"")}catch(de){mt(r,r.return,de)}}if(c&4&&(d=r.stateNode,d!=null)){var p=r.memoizedProps,_=a!==null?a.memoizedProps:p,A=r.type,D=r.updateQueue;if(r.updateQueue=null,D!==null)try{A==="input"&&p.type==="radio"&&p.name!=null&&At(d,p),zr(A,_);var z=zr(A,p);for(_=0;_<D.length;_+=2){var Q=D[_],X=D[_+1];Q==="style"?Ur(d,X):Q==="dangerouslySetInnerHTML"?_i(d,X):Q==="children"?cr(d,X):fe(d,Q,X,z)}switch(A){case"input":Nn(d,p);break;case"textarea":Zs(d,p);break;case"select":var K=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!p.multiple;var se=p.value;se!=null?pn(d,!!p.multiple,se,!1):K!==!!p.multiple&&(p.defaultValue!=null?pn(d,!!p.multiple,p.defaultValue,!0):pn(d,!!p.multiple,p.multiple?[]:"",!1))}d[xa]=p}catch(de){mt(r,r.return,de)}}break;case 6:if(Zn(s,r),kr(r),c&4){if(r.stateNode===null)throw Error(t(162));d=r.stateNode,p=r.memoizedProps;try{d.nodeValue=p}catch(de){mt(r,r.return,de)}}break;case 3:if(Zn(s,r),kr(r),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Pi(s.containerInfo)}catch(de){mt(r,r.return,de)}break;case 4:Zn(s,r),kr(r);break;case 13:Zn(s,r),kr(r),d=r.child,d.flags&8192&&(p=d.memoizedState!==null,d.stateNode.isHidden=p,!p||d.alternate!==null&&d.alternate.memoizedState!==null||(ud=tt())),c&4&&Ag(r);break;case 22:if(Q=a!==null&&a.memoizedState!==null,r.mode&1?(Yt=(z=Yt)||Q,Zn(s,r),Yt=z):Zn(s,r),kr(r),c&8192){if(z=r.memoizedState!==null,(r.stateNode.isHidden=z)&&!Q&&(r.mode&1)!==0)for(le=r,Q=r.child;Q!==null;){for(X=le=Q;le!==null;){switch(K=le,se=K.child,K.tag){case 0:case 11:case 14:case 15:$a(4,K,K.return);break;case 1:No(K,K.return);var ce=K.stateNode;if(typeof ce.componentWillUnmount=="function"){c=K,a=K.return;try{s=c,ce.props=s.memoizedProps,ce.state=s.memoizedState,ce.componentWillUnmount()}catch(de){mt(c,a,de)}}break;case 5:No(K,K.return);break;case 22:if(K.memoizedState!==null){Rg(X);continue}}se!==null?(se.return=K,le=se):Rg(X)}Q=Q.sibling}e:for(Q=null,X=r;;){if(X.tag===5){if(Q===null){Q=X;try{d=X.stateNode,z?(p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(A=X.stateNode,D=X.memoizedProps.style,_=D!=null&&D.hasOwnProperty("display")?D.display:null,A.style.display=mn("display",_))}catch(de){mt(r,r.return,de)}}}else if(X.tag===6){if(Q===null)try{X.stateNode.nodeValue=z?"":X.memoizedProps}catch(de){mt(r,r.return,de)}}else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===r)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===r)break e;for(;X.sibling===null;){if(X.return===null||X.return===r)break e;Q===X&&(Q=null),X=X.return}Q===X&&(Q=null),X.sibling.return=X.return,X=X.sibling}}break;case 19:Zn(s,r),kr(r),c&4&&Ag(r);break;case 21:break;default:Zn(s,r),kr(r)}}function kr(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(Tg(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(cr(d,""),c.flags&=-33);var p=Ig(r);od(r,p,d);break;case 3:case 4:var _=c.stateNode.containerInfo,A=Ig(r);sd(r,A,_);break;default:throw Error(t(161))}}catch(D){mt(r,r.return,D)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function M0(r,s,a){le=r,Pg(r)}function Pg(r,s,a){for(var c=(r.mode&1)!==0;le!==null;){var d=le,p=d.child;if(d.tag===22&&c){var _=d.memoizedState!==null||wu;if(!_){var A=d.alternate,D=A!==null&&A.memoizedState!==null||Yt;A=wu;var z=Yt;if(wu=_,(Yt=D)&&!z)for(le=d;le!==null;)_=le,D=_.child,_.tag===22&&_.memoizedState!==null?Dg(d):D!==null?(D.return=_,le=D):Dg(d);for(;p!==null;)le=p,Pg(p),p=p.sibling;le=d,wu=A,Yt=z}kg(r)}else(d.subtreeFlags&8772)!==0&&p!==null?(p.return=d,le=p):kg(r)}}function kg(r){for(;le!==null;){var s=le;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Yt||Eu(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!Yt)if(a===null)c.componentDidMount();else{var d=s.elementType===s.type?a.memoizedProps:Xn(s.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var p=s.updateQueue;p!==null&&Rm(s,p,c);break;case 3:var _=s.updateQueue;if(_!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Rm(s,_,a)}break;case 5:var A=s.stateNode;if(a===null&&s.flags&4){a=A;var D=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&a.focus();break;case"img":D.src&&(a.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var z=s.alternate;if(z!==null){var Q=z.memoizedState;if(Q!==null){var X=Q.dehydrated;X!==null&&Pi(X)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Yt||s.flags&512&&id(s)}catch(K){mt(s,s.return,K)}}if(s===r){le=null;break}if(a=s.sibling,a!==null){a.return=s.return,le=a;break}le=s.return}}function Rg(r){for(;le!==null;){var s=le;if(s===r){le=null;break}var a=s.sibling;if(a!==null){a.return=s.return,le=a;break}le=s.return}}function Dg(r){for(;le!==null;){var s=le;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Eu(4,s)}catch(D){mt(s,a,D)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var d=s.return;try{c.componentDidMount()}catch(D){mt(s,d,D)}}var p=s.return;try{id(s)}catch(D){mt(s,p,D)}break;case 5:var _=s.return;try{id(s)}catch(D){mt(s,_,D)}}}catch(D){mt(s,s.return,D)}if(s===r){le=null;break}var A=s.sibling;if(A!==null){A.return=s.return,le=A;break}le=s.return}}var F0=Math.ceil,Tu=me.ReactCurrentDispatcher,ad=me.ReactCurrentOwner,zn=me.ReactCurrentBatchConfig,Ue=0,Ot=null,Et=null,jt=0,Pn=0,xo=xi(0),kt=0,Wa=null,Ns=0,Iu=0,ld=0,Ha=null,cn=null,ud=0,Oo=1/0,si=null,Su=!1,cd=null,Fi=null,Au=!1,ji=null,Cu=0,qa=0,hd=null,Pu=-1,ku=0;function nn(){return(Ue&6)!==0?tt():Pu!==-1?Pu:Pu=tt()}function Ui(r){return(r.mode&1)===0?1:(Ue&2)!==0&&jt!==0?jt&-jt:E0.transition!==null?(ku===0&&(ku=fa()),ku):(r=Fe,r!==0||(r=window.event,r=r===void 0?16:ao(r.type)),r)}function er(r,s,a,c){if(50<qa)throw qa=0,hd=null,Error(t(185));_s(r,a,c),((Ue&2)===0||r!==Ot)&&(r===Ot&&((Ue&2)===0&&(Iu|=a),kt===4&&zi(r,jt)),hn(r,c),a===1&&Ue===0&&(s.mode&1)===0&&(Oo=tt()+500,nu&&bi()))}function hn(r,s){var a=r.callbackNode;vs(r,s);var c=qr(r,r===Ot?jt:0);if(c===0)a!==null&&Ii(a),r.callbackNode=null,r.callbackPriority=0;else if(s=c&-c,r.callbackPriority!==s){if(a!=null&&Ii(a),s===1)r.tag===0?w0(xg.bind(null,r)):ym(xg.bind(null,r)),g0(function(){(Ue&6)===0&&bi()}),a=null;else{switch(mr(c)){case 1:a=to;break;case 4:a=ca;break;case 16:a=ps;break;case 536870912:a=no;break;default:a=ps}a=Ug(a,Ng.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function Ng(r,s){if(Pu=-1,ku=0,(Ue&6)!==0)throw Error(t(327));var a=r.callbackNode;if(bo()&&r.callbackNode!==a)return null;var c=qr(r,r===Ot?jt:0);if(c===0)return null;if((c&30)!==0||(c&r.expiredLanes)!==0||s)s=Ru(r,c);else{s=c;var d=Ue;Ue|=2;var p=bg();(Ot!==r||jt!==s)&&(si=null,Oo=tt()+500,Os(r,s));do try{z0();break}catch(A){Og(r,A)}while(!0);Rh(),Tu.current=p,Ue=d,Et!==null?s=0:(Ot=null,jt=0,s=kt)}if(s!==0){if(s===2&&(d=da(r),d!==0&&(c=d,s=dd(r,d))),s===1)throw a=Wa,Os(r,0),zi(r,c),hn(r,tt()),a;if(s===6)zi(r,c);else{if(d=r.current.alternate,(c&30)===0&&!j0(d)&&(s=Ru(r,c),s===2&&(p=da(r),p!==0&&(c=p,s=dd(r,p))),s===1))throw a=Wa,Os(r,0),zi(r,c),hn(r,tt()),a;switch(r.finishedWork=d,r.finishedLanes=c,s){case 0:case 1:throw Error(t(345));case 2:bs(r,cn,si);break;case 3:if(zi(r,c),(c&130023424)===c&&(s=ud+500-tt(),10<s)){if(qr(r,0)!==0)break;if(d=r.suspendedLanes,(d&c)!==c){nn(),r.pingedLanes|=r.suspendedLanes&d;break}r.timeoutHandle=vh(bs.bind(null,r,cn,si),s);break}bs(r,cn,si);break;case 4:if(zi(r,c),(c&4194240)===c)break;for(s=r.eventTimes,d=-1;0<c;){var _=31-wn(c);p=1<<_,_=s[_],_>d&&(d=_),c&=~p}if(c=d,c=tt()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*F0(c/1960))-c,10<c){r.timeoutHandle=vh(bs.bind(null,r,cn,si),c);break}bs(r,cn,si);break;case 5:bs(r,cn,si);break;default:throw Error(t(329))}}}return hn(r,tt()),r.callbackNode===a?Ng.bind(null,r):null}function dd(r,s){var a=Ha;return r.current.memoizedState.isDehydrated&&(Os(r,s).flags|=256),r=Ru(r,s),r!==2&&(s=cn,cn=a,s!==null&&fd(s)),r}function fd(r){cn===null?cn=r:cn.push.apply(cn,r)}function j0(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],p=d.getSnapshot;d=d.value;try{if(!Yn(p(),d))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function zi(r,s){for(s&=~ld,s&=~Iu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-wn(s),c=1<<a;r[a]=-1,s&=~c}}function xg(r){if((Ue&6)!==0)throw Error(t(327));bo();var s=qr(r,0);if((s&1)===0)return hn(r,tt()),null;var a=Ru(r,s);if(r.tag!==0&&a===2){var c=da(r);c!==0&&(s=c,a=dd(r,c))}if(a===1)throw a=Wa,Os(r,0),zi(r,s),hn(r,tt()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,bs(r,cn,si),hn(r,tt()),null}function pd(r,s){var a=Ue;Ue|=1;try{return r(s)}finally{Ue=a,Ue===0&&(Oo=tt()+500,nu&&bi())}}function xs(r){ji!==null&&ji.tag===0&&(Ue&6)===0&&bo();var s=Ue;Ue|=1;var a=zn.transition,c=Fe;try{if(zn.transition=null,Fe=1,r)return r()}finally{Fe=c,zn.transition=a,Ue=s,(Ue&6)===0&&bi()}}function md(){Pn=xo.current,rt(xo)}function Os(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,m0(a)),Et!==null)for(a=Et.return;a!==null;){var c=a;switch(Sh(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&eu();break;case 3:Ro(),rt(an),rt(qt),Mh();break;case 5:Vh(c);break;case 4:Ro();break;case 13:rt(ct);break;case 19:rt(ct);break;case 10:Dh(c.type._context);break;case 22:case 23:md()}a=a.return}if(Ot=r,Et=r=Bi(r.current,null),jt=Pn=s,kt=0,Wa=null,ld=Iu=Ns=0,cn=Ha=null,ks!==null){for(s=0;s<ks.length;s++)if(a=ks[s],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,p=a.pending;if(p!==null){var _=p.next;p.next=d,c.next=_}a.pending=c}ks=null}return r}function Og(r,s){do{var a=Et;try{if(Rh(),du.current=gu,fu){for(var c=ht.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}fu=!1}if(Ds=0,xt=Pt=ht=null,Fa=!1,ja=0,ad.current=null,a===null||a.return===null){kt=1,Wa=s,Et=null;break}e:{var p=r,_=a.return,A=a,D=s;if(s=jt,A.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var z=D,Q=A,X=Q.tag;if((Q.mode&1)===0&&(X===0||X===11||X===15)){var K=Q.alternate;K?(Q.updateQueue=K.updateQueue,Q.memoizedState=K.memoizedState,Q.lanes=K.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var se=ig(_);if(se!==null){se.flags&=-257,sg(se,_,A,p,s),se.mode&1&&rg(p,z,s),s=se,D=z;var ce=s.updateQueue;if(ce===null){var de=new Set;de.add(D),s.updateQueue=de}else ce.add(D);break e}else{if((s&1)===0){rg(p,z,s),gd();break e}D=Error(t(426))}}else if(st&&A.mode&1){var yt=ig(_);if(yt!==null){(yt.flags&65536)===0&&(yt.flags|=256),sg(yt,_,A,p,s),Ph(Do(D,A));break e}}p=D=Do(D,A),kt!==4&&(kt=2),Ha===null?Ha=[p]:Ha.push(p),p=_;do{switch(p.tag){case 3:p.flags|=65536,s&=-s,p.lanes|=s;var M=tg(p,D,s);km(p,M);break e;case 1:A=D;var V=p.type,j=p.stateNode;if((p.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Fi===null||!Fi.has(j)))){p.flags|=65536,s&=-s,p.lanes|=s;var Z=ng(p,A,s);km(p,Z);break e}}p=p.return}while(p!==null)}Lg(a)}catch(pe){s=pe,Et===a&&a!==null&&(Et=a=a.return);continue}break}while(!0)}function bg(){var r=Tu.current;return Tu.current=gu,r===null?gu:r}function gd(){(kt===0||kt===3||kt===2)&&(kt=4),Ot===null||(Ns&268435455)===0&&(Iu&268435455)===0||zi(Ot,jt)}function Ru(r,s){var a=Ue;Ue|=2;var c=bg();(Ot!==r||jt!==s)&&(si=null,Os(r,s));do try{U0();break}catch(d){Og(r,d)}while(!0);if(Rh(),Ue=a,Tu.current=c,Et!==null)throw Error(t(261));return Ot=null,jt=0,kt}function U0(){for(;Et!==null;)Vg(Et)}function z0(){for(;Et!==null&&!Wr();)Vg(Et)}function Vg(r){var s=jg(r.alternate,r,Pn);r.memoizedProps=r.pendingProps,s===null?Lg(r):Et=s,ad.current=null}function Lg(r){var s=r;do{var a=s.alternate;if(r=s.return,(s.flags&32768)===0){if(a=O0(a,s,Pn),a!==null){Et=a;return}}else{if(a=b0(a,s),a!==null){a.flags&=32767,Et=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{kt=6,Et=null;return}}if(s=s.sibling,s!==null){Et=s;return}Et=s=r}while(s!==null);kt===0&&(kt=5)}function bs(r,s,a){var c=Fe,d=zn.transition;try{zn.transition=null,Fe=1,B0(r,s,a,c)}finally{zn.transition=d,Fe=c}return null}function B0(r,s,a,c){do bo();while(ji!==null);if((Ue&6)!==0)throw Error(t(327));a=r.finishedWork;var d=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var p=a.lanes|a.childLanes;if(nh(r,p),r===Ot&&(Et=Ot=null,jt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Au||(Au=!0,Ug(ps,function(){return bo(),null})),p=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||p){p=zn.transition,zn.transition=null;var _=Fe;Fe=1;var A=Ue;Ue|=4,ad.current=null,L0(r,a),Cg(a,r),l0(gh),Yr=!!mh,gh=mh=null,r.current=a,M0(a),Hr(),Ue=A,Fe=_,zn.transition=p}else r.current=a;if(Au&&(Au=!1,ji=r,Cu=d),p=r.pendingLanes,p===0&&(Fi=null),Ll(a.stateNode),hn(r,tt()),s!==null)for(c=r.onRecoverableError,a=0;a<s.length;a++)d=s[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(Su)throw Su=!1,r=cd,cd=null,r;return(Cu&1)!==0&&r.tag!==0&&bo(),p=r.pendingLanes,(p&1)!==0?r===hd?qa++:(qa=0,hd=r):qa=0,bi(),null}function bo(){if(ji!==null){var r=mr(Cu),s=zn.transition,a=Fe;try{if(zn.transition=null,Fe=16>r?16:r,ji===null)var c=!1;else{if(r=ji,ji=null,Cu=0,(Ue&6)!==0)throw Error(t(331));var d=Ue;for(Ue|=4,le=r.current;le!==null;){var p=le,_=p.child;if((le.flags&16)!==0){var A=p.deletions;if(A!==null){for(var D=0;D<A.length;D++){var z=A[D];for(le=z;le!==null;){var Q=le;switch(Q.tag){case 0:case 11:case 15:$a(8,Q,p)}var X=Q.child;if(X!==null)X.return=Q,le=X;else for(;le!==null;){Q=le;var K=Q.sibling,se=Q.return;if(Eg(Q),Q===z){le=null;break}if(K!==null){K.return=se,le=K;break}le=se}}}var ce=p.alternate;if(ce!==null){var de=ce.child;if(de!==null){ce.child=null;do{var yt=de.sibling;de.sibling=null,de=yt}while(de!==null)}}le=p}}if((p.subtreeFlags&2064)!==0&&_!==null)_.return=p,le=_;else e:for(;le!==null;){if(p=le,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:$a(9,p,p.return)}var M=p.sibling;if(M!==null){M.return=p.return,le=M;break e}le=p.return}}var V=r.current;for(le=V;le!==null;){_=le;var j=_.child;if((_.subtreeFlags&2064)!==0&&j!==null)j.return=_,le=j;else e:for(_=V;le!==null;){if(A=le,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:Eu(9,A)}}catch(pe){mt(A,A.return,pe)}if(A===_){le=null;break e}var Z=A.sibling;if(Z!==null){Z.return=A.return,le=Z;break e}le=A.return}}if(Ue=d,bi(),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(ms,r)}catch{}c=!0}return c}finally{Fe=a,zn.transition=s}}return!1}function Mg(r,s,a){s=Do(a,s),s=tg(r,s,1),r=Li(r,s,1),s=nn(),r!==null&&(_s(r,1,s),hn(r,s))}function mt(r,s,a){if(r.tag===3)Mg(r,r,a);else for(;s!==null;){if(s.tag===3){Mg(s,r,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Fi===null||!Fi.has(c))){r=Do(a,r),r=ng(s,r,1),s=Li(s,r,1),r=nn(),s!==null&&(_s(s,1,r),hn(s,r));break}}s=s.return}}function $0(r,s,a){var c=r.pingCache;c!==null&&c.delete(s),s=nn(),r.pingedLanes|=r.suspendedLanes&a,Ot===r&&(jt&a)===a&&(kt===4||kt===3&&(jt&130023424)===jt&&500>tt()-ud?Os(r,0):ld|=a),hn(r,s)}function Fg(r,s){s===0&&((r.mode&1)===0?s=1:(s=Si,Si<<=1,(Si&130023424)===0&&(Si=4194304)));var a=nn();r=ni(r,s),r!==null&&(_s(r,s,a),hn(r,a))}function W0(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),Fg(r,a)}function H0(r,s){var a=0;switch(r.tag){case 13:var c=r.stateNode,d=r.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(s),Fg(r,a)}var jg;jg=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||an.current)un=!0;else{if((r.lanes&a)===0&&(s.flags&128)===0)return un=!1,x0(r,s,a);un=(r.flags&131072)!==0}else un=!1,st&&(s.flags&1048576)!==0&&vm(s,iu,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;_u(r,s),r=s.pendingProps;var d=To(s,qt.current);ko(s,a),d=Uh(null,s,c,r,d,a);var p=zh();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,ln(c)?(p=!0,tu(s)):p=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Oh(s),d.updater=yu,s.stateNode=d,d._reactInternals=s,Gh(s,c,r,a),s=Xh(null,s,c,!0,p,a)):(s.tag=0,st&&p&&Ih(s),tn(null,s,d,a),s=s.child),s;case 16:c=s.elementType;e:{switch(_u(r,s),r=s.pendingProps,d=c._init,c=d(c._payload),s.type=c,d=s.tag=G0(c),r=Xn(c,r),d){case 0:s=Qh(null,s,c,r,a);break e;case 1:s=hg(null,s,c,r,a);break e;case 11:s=og(null,s,c,r,a);break e;case 14:s=ag(null,s,c,Xn(c.type,r),a);break e}throw Error(t(306,c,""))}return s;case 0:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Xn(c,d),Qh(r,s,c,d,a);case 1:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Xn(c,d),hg(r,s,c,d,a);case 3:e:{if(dg(s),r===null)throw Error(t(387));c=s.pendingProps,p=s.memoizedState,d=p.element,Pm(r,s),cu(s,c,null,a);var _=s.memoizedState;if(c=_.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){d=Do(Error(t(423)),s),s=fg(r,s,c,a,d);break e}else if(c!==d){d=Do(Error(t(424)),s),s=fg(r,s,c,a,d);break e}else for(Cn=Ni(s.stateNode.containerInfo.firstChild),An=s,st=!0,Qn=null,a=Am(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ao(),c===d){s=ii(r,s,a);break e}tn(r,s,c,a)}s=s.child}return s;case 5:return Dm(s),r===null&&Ch(s),c=s.type,d=s.pendingProps,p=r!==null?r.memoizedProps:null,_=d.children,yh(c,d)?_=null:p!==null&&yh(c,p)&&(s.flags|=32),cg(r,s),tn(r,s,_,a),s.child;case 6:return r===null&&Ch(s),null;case 13:return pg(r,s,a);case 4:return bh(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=Co(s,null,c,a):tn(r,s,c,a),s.child;case 11:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Xn(c,d),og(r,s,c,d,a);case 7:return tn(r,s,s.pendingProps,a),s.child;case 8:return tn(r,s,s.pendingProps.children,a),s.child;case 12:return tn(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,d=s.pendingProps,p=s.memoizedProps,_=d.value,Xe(au,c._currentValue),c._currentValue=_,p!==null)if(Yn(p.value,_)){if(p.children===d.children&&!an.current){s=ii(r,s,a);break e}}else for(p=s.child,p!==null&&(p.return=s);p!==null;){var A=p.dependencies;if(A!==null){_=p.child;for(var D=A.firstContext;D!==null;){if(D.context===c){if(p.tag===1){D=ri(-1,a&-a),D.tag=2;var z=p.updateQueue;if(z!==null){z=z.shared;var Q=z.pending;Q===null?D.next=D:(D.next=Q.next,Q.next=D),z.pending=D}}p.lanes|=a,D=p.alternate,D!==null&&(D.lanes|=a),Nh(p.return,a,s),A.lanes|=a;break}D=D.next}}else if(p.tag===10)_=p.type===s.type?null:p.child;else if(p.tag===18){if(_=p.return,_===null)throw Error(t(341));_.lanes|=a,A=_.alternate,A!==null&&(A.lanes|=a),Nh(_,a,s),_=p.sibling}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===s){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}tn(r,s,d.children,a),s=s.child}return s;case 9:return d=s.type,c=s.pendingProps.children,ko(s,a),d=jn(d),c=c(d),s.flags|=1,tn(r,s,c,a),s.child;case 14:return c=s.type,d=Xn(c,s.pendingProps),d=Xn(c.type,d),ag(r,s,c,d,a);case 15:return lg(r,s,s.type,s.pendingProps,a);case 17:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Xn(c,d),_u(r,s),s.tag=1,ln(c)?(r=!0,tu(s)):r=!1,ko(s,a),Zm(s,c,d),Gh(s,c,d,a),Xh(null,s,c,!0,r,a);case 19:return gg(r,s,a);case 22:return ug(r,s,a)}throw Error(t(156,s.tag))};function Ug(r,s){return $r(r,s)}function q0(r,s,a,c){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(r,s,a,c){return new q0(r,s,a,c)}function yd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function G0(r){if(typeof r=="function")return yd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===L)return 11;if(r===Je)return 14}return 2}function Bi(r,s){var a=r.alternate;return a===null?(a=Bn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Du(r,s,a,c,d,p){var _=2;if(c=r,typeof r=="function")yd(r)&&(_=1);else if(typeof r=="string")_=5;else e:switch(r){case N:return Vs(a.children,d,p,s);case S:_=8,d|=8;break;case P:return r=Bn(12,a,s,d|2),r.elementType=P,r.lanes=p,r;case C:return r=Bn(13,a,s,d),r.elementType=C,r.lanes=p,r;case Oe:return r=Bn(19,a,s,d),r.elementType=Oe,r.lanes=p,r;case We:return Nu(a,d,p,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case x:_=10;break e;case R:_=9;break e;case L:_=11;break e;case Je:_=14;break e;case ze:_=16,c=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Bn(_,a,s,d),s.elementType=r,s.type=c,s.lanes=p,s}function Vs(r,s,a,c){return r=Bn(7,r,c,s),r.lanes=a,r}function Nu(r,s,a,c){return r=Bn(22,r,c,s),r.elementType=We,r.lanes=a,r.stateNode={isHidden:!1},r}function vd(r,s,a){return r=Bn(6,r,null,s),r.lanes=a,r}function _d(r,s,a){return s=Bn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function K0(r,s,a,c,d){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pa(0),this.expirationTimes=pa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pa(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function wd(r,s,a,c,d,p,_,A,D){return r=new K0(r,s,a,A,D),s===1?(s=1,p===!0&&(s|=8)):s=0,p=Bn(3,null,null,s),r.current=p,p.stateNode=r,p.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oh(p),r}function Y0(r,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ae,key:c==null?null:""+c,children:r,containerInfo:s,implementation:a}}function zg(r){if(!r)return Oi;r=r._reactInternals;e:{if(vn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(ln(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(ln(a))return mm(r,a,s)}return s}function Bg(r,s,a,c,d,p,_,A,D){return r=wd(a,c,!0,r,d,p,_,A,D),r.context=zg(null),a=r.current,c=nn(),d=Ui(a),p=ri(c,d),p.callback=s??null,Li(a,p,d),r.current.lanes=d,_s(r,d,c),hn(r,c),r}function xu(r,s,a,c){var d=s.current,p=nn(),_=Ui(d);return a=zg(a),s.context===null?s.context=a:s.pendingContext=a,s=ri(p,_),s.payload={element:r},c=c===void 0?null:c,c!==null&&(s.callback=c),r=Li(d,s,_),r!==null&&(er(r,d,_,p),uu(r,d,_)),_}function Ou(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function $g(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Ed(r,s){$g(r,s),(r=r.alternate)&&$g(r,s)}function Q0(){return null}var Wg=typeof reportError=="function"?reportError:function(r){console.error(r)};function Td(r){this._internalRoot=r}bu.prototype.render=Td.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));xu(r,s,null,null)},bu.prototype.unmount=Td.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;xs(function(){xu(null,r,null,null)}),s[Jr]=null}};function bu(r){this._internalRoot=r}bu.prototype.unstable_scheduleHydration=function(r){if(r){var s=va();r={blockedOn:null,target:r,priority:s};for(var a=0;a<En.length&&s!==0&&s<En[a].priority;a++);En.splice(a,0,r),a===0&&so(r)}};function Id(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Vu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Hg(){}function X0(r,s,a,c,d){if(d){if(typeof c=="function"){var p=c;c=function(){var z=Ou(_);p.call(z)}}var _=Bg(s,c,r,0,null,!1,!1,"",Hg);return r._reactRootContainer=_,r[Jr]=_.current,Da(r.nodeType===8?r.parentNode:r),xs(),_}for(;d=r.lastChild;)r.removeChild(d);if(typeof c=="function"){var A=c;c=function(){var z=Ou(D);A.call(z)}}var D=wd(r,0,!1,null,null,!1,!1,"",Hg);return r._reactRootContainer=D,r[Jr]=D.current,Da(r.nodeType===8?r.parentNode:r),xs(function(){xu(s,D,a,c)}),D}function Lu(r,s,a,c,d){var p=a._reactRootContainer;if(p){var _=p;if(typeof d=="function"){var A=d;d=function(){var D=Ou(_);A.call(D)}}xu(s,_,r,d)}else _=X0(a,s,r,d,c);return Ou(_)}ga=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=$e(s.pendingLanes);a!==0&&(ma(s,a|1),hn(s,tt()),(Ue&6)===0&&(Oo=tt()+500,bi()))}break;case 13:xs(function(){var c=ni(r,1);if(c!==null){var d=nn();er(c,r,1,d)}}),Ed(r,1)}},ro=function(r){if(r.tag===13){var s=ni(r,134217728);if(s!==null){var a=nn();er(s,r,134217728,a)}Ed(r,134217728)}},ya=function(r){if(r.tag===13){var s=Ui(r),a=ni(r,s);if(a!==null){var c=nn();er(a,r,s,c)}Ed(r,s)}},va=function(){return Fe},_a=function(r,s){var a=Fe;try{return Fe=r,s()}finally{Fe=a}},On=function(r,s,a){switch(s){case"input":if(Nn(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==r&&c.form===r.form){var d=Zl(c);if(!d)throw Error(t(90));or(c),Nn(c,d)}}}break;case"textarea":Zs(r,a);break;case"select":s=a.value,s!=null&&pn(r,!!a.multiple,s,!1)}},Ge=pd,en=xs;var J0={usingClientEntryPoint:!1,Events:[Oa,wo,Zl,ut,gn,pd]},Ga={findFiberByHostInstance:Ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Z0={bundleType:Ga.bundleType,version:Ga.version,rendererPackageName:Ga.rendererPackageName,rendererConfig:Ga.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:me.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Wt(r),r===null?null:r.stateNode},findFiberByHostInstance:Ga.findFiberByHostInstance||Q0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mu.isDisabled&&Mu.supportsFiber)try{ms=Mu.inject(Z0),_n=Mu}catch{}}return dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J0,dn.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Id(s))throw Error(t(200));return Y0(r,s,null,a)},dn.createRoot=function(r,s){if(!Id(r))throw Error(t(299));var a=!1,c="",d=Wg;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=wd(r,1,!1,null,null,a,!1,c,d),r[Jr]=s.current,Da(r.nodeType===8?r.parentNode:r),new Td(s)},dn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Wt(s),r=r===null?null:r.stateNode,r},dn.flushSync=function(r){return xs(r)},dn.hydrate=function(r,s,a){if(!Vu(s))throw Error(t(200));return Lu(null,r,s,!0,a)},dn.hydrateRoot=function(r,s,a){if(!Id(r))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,p="",_=Wg;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),s=Bg(s,null,r,1,a??null,d,!1,p,_),r[Jr]=s.current,Da(r),c)for(r=0;r<c.length;r++)a=c[r],d=a._getVersion,d=d(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,d]:s.mutableSourceEagerHydrationData.push(a,d);return new bu(s)},dn.render=function(r,s,a){if(!Vu(s))throw Error(t(200));return Lu(null,r,s,!1,a)},dn.unmountComponentAtNode=function(r){if(!Vu(r))throw Error(t(40));return r._reactRootContainer?(xs(function(){Lu(null,null,r,!1,function(){r._reactRootContainer=null,r[Jr]=null})}),!0):!1},dn.unstable_batchedUpdates=pd,dn.unstable_renderSubtreeIntoContainer=function(r,s,a,c){if(!Vu(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Lu(r,s,a,!1,c)},dn.version="18.3.1-next-f1338f8080-20240426",dn}var Zg;function uT(){if(Zg)return Cd.exports;Zg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Cd.exports=lT(),Cd.exports}var ey;function cT(){if(ey)return Fu;ey=1;var n=uT();return Fu.createRoot=n.createRoot,Fu.hydrateRoot=n.hydrateRoot,Fu}var hT=cT();const dT=Wv(hT),ty=n=>{const e=new Date(n),t=e.getDay(),o=(t===0?7:t)-1;return e.setDate(e.getDate()-o),e.setHours(0,0,0,0),e},fT=n=>{const e=new Date(n),t=e.getDay(),o=7-(t===0?7:t);return e.setDate(e.getDate()+o),e.setHours(23,59,59,999),e},pT=(n,e)=>{const t=[];let i=ty(new Date(n));const o=ty(new Date(e));for(;i<=o;)t.push(new Date(i)),i.setDate(i.getDate()+7);return t},kn=n=>{const e=n.getFullYear(),t=String(n.getMonth()+1).padStart(2,"0"),i=String(n.getDate()).padStart(2,"0");return`${e}-${t}-${i}`},ft=n=>{const[e,t,i]=n.split("-").map(Number);if(e===void 0||t===void 0||i===void 0)throw new Error(`Invalid date string: ${n}`);return new Date(e,t-1,i)},Ku=(n,e,t)=>{const i=n.getTime(),o=e.getTime(),l=t.getTime();return i>=o&&i<=l},qv=(n,e)=>{const t=[],i=new Date(n);for(;i<=e;)t.push(new Date(i)),i.setDate(i.getDate()+1);return t},ny=[{yearsOfService:0,hoursPerMonth:10},{yearsOfService:4,hoursPerMonth:12},{yearsOfService:9,hoursPerMonth:14}],Rd={"5/40":{hoursPerDay:8},"9/80":{hoursPerRegularDay:9,hoursPerNonRDOFriday:8}},mT=(n,e)=>{const t=e.getFullYear()-n.getFullYear(),i=e.getMonth()-n.getMonth(),o=e.getDate()-n.getDate();return i<0||i===0&&o<0?t-1:t},gT=n=>{var t;const e=ny.filter(i=>n>=i.yearsOfService).sort((i,o)=>o.yearsOfService-i.yearsOfService)[0];return(e==null?void 0:e.hoursPerMonth)??((t=ny[0])==null?void 0:t.hoursPerMonth)??10},Gv=(n,e,t)=>{const i=new Date(e);i.setHours(0,0,0,0);const o=new Date(t);o.setHours(0,0,0,0);const l=Math.round((o.getTime()-i.getTime())/(1e3*60*60*24))+1,h=mT(n,e),f=gT(h),y=365.25/12,E=f/y*7/7*l;return Math.round(E*100)/100},Kv=n=>{const e=n.getDay();return e===0||e===6},Mf=(n,e)=>{if(n.getDay()!==5)return!1;const o=(l=>{const h=new Date(l.valueOf()),f=(l.getDay()+6)%7;h.setDate(h.getDate()-f+3);const g=new Date(h.getFullYear(),0,4),y=h.getTime()-g.getTime(),w=1e3*60*60*24*7;return 1+Math.floor(y/w)})(n)%2===0;return e==="even-fridays"?o:!o},Ff=(n,e)=>Kv(n)?0:e.type==="5/40"?Rd["5/40"].hoursPerDay:n.getDay()===5?e.rdoPattern&&Mf(n,e.rdoPattern)?0:Rd["9/80"].hoursPerNonRDOFriday:Rd["9/80"].hoursPerRegularDay,yT=(n,e,t)=>{const i=[],o=new Date(n);for(;o<=e;)o.getDay()===5&&Mf(o,t)&&i.push(new Date(o)),o.setDate(o.getDate()+1);return i},Yv=(n,e,t,i=[])=>{let o=0;const l=qv(n,e),h=new Set(i.map(f=>ft(f.date).toISOString().split("T")[0]));for(const f of l){const g=f.toISOString().split("T")[0];h.has(g)||(o+=Ff(f,t))}return o},vT=(n,e)=>e.type!=="9/80"||!e.rdoPattern?!1:Mf(n,e.rdoPattern),Qv=320,_T=280,wT=(n,e,t,i,o)=>{const l=pT(e,t),h=[];let f=n.currentBalance;const g=ft(n.startDate),y=ft(n.balanceAsOfDate);for(const w of l){const E=fT(w),I=w>=y?Gv(g,w,E):0,b=i.filter(me=>{const De=ft(me.startDate),ae=ft(me.endDate);return Ku(De,w,E)||Ku(ae,w,E)||De<w&&ae>E}),H=o.filter(me=>Ku(ft(me.date),w,E)),W=n.workSchedule.type==="9/80"&&n.workSchedule.rdoPattern?yT(w,E,n.workSchedule.rdoPattern):[],U=b.reduce((me,De)=>me+De.hours,0),J=f,ne=J+I-U,fe=Math.min(ne,Qv);h.push({weekStartDate:kn(w),weekEndDate:kn(E),startingBalance:J,accrued:I,used:U,endingBalance:fe,plannedVacations:b,holidays:H,rdoDays:W.map(kn)}),f=fe}return h},ry=(n,e)=>{var y,w;const t=n.filter(E=>ft(E.weekStartDate).getFullYear()===e);if(t.length===0)return{year:e,startingBalance:0,totalAccrued:0,totalUsed:0,endingBalance:0,totalPlannedVacations:0,totalHolidayHours:0};const i=((y=t[0])==null?void 0:y.startingBalance)??0,o=t.reduce((E,I)=>E+I.accrued,0),l=t.reduce((E,I)=>E+I.used,0),h=((w=t[t.length-1])==null?void 0:w.endingBalance)??0,f=new Set(t.flatMap(E=>E.plannedVacations.map(I=>I.id))),g=t.reduce((E,I)=>E+I.holidays.reduce((b,H)=>b+H.hours,0),0);return{year:e,startingBalance:i,totalAccrued:o,totalUsed:l,endingBalance:h,totalPlannedVacations:f.size,totalHolidayHours:g}},ET=(n,e,t)=>{const i=new Date,o=ft(n.startDate),l=Gv(o,i,e),h=t.filter(f=>ft(f.endDate)<=e).reduce((f,g)=>f+g.hours,0);return n.currentBalance+l-h},TT=()=>{};var iy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},IT=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],h=n[t++],f=n[t++],g=((o&7)<<18|(l&63)<<12|(h&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const l=n[t++],h=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},Jv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],h=o+1<n.length,f=h?n[o+1]:0,g=o+2<n.length,y=g?n[o+2]:0,w=l>>2,E=(l&3)<<4|f>>4;let I=(f&15)<<2|y>>6,b=y&63;g||(b=64,h||(I=64)),i.push(t[w],t[E],t[I],t[b])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Xv(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):IT(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||f==null||y==null||E==null)throw new ST;const I=l<<2|f>>4;if(i.push(I),y!==64){const b=f<<4&240|y>>2;if(i.push(b),E!==64){const H=y<<6&192|E;i.push(H)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ST extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AT=function(n){const e=Xv(n);return Jv.encodeByteArray(e,!0)},ac=function(n){return AT(n).replace(/\./g,"")},Zv=function(n){try{return Jv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=()=>CT().__FIREBASE_DEFAULTS__,kT=()=>{if(typeof process>"u"||typeof iy>"u")return;const n=iy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},RT=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Zv(n[1]);return e&&JSON.parse(e)},Dc=()=>{try{return TT()||PT()||kT()||RT()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},e_=n=>{var e,t;return(t=(e=Dc())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},DT=n=>{const e=e_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},t_=()=>{var n;return(n=Dc())==null?void 0:n.config},n_=n=>{var e;return(e=Dc())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ta(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function r_(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[ac(JSON.stringify(t)),ac(JSON.stringify(h)),""].join(".")}const il={};function OT(){const n={prod:[],emulator:[]};for(const e of Object.keys(il))il[e]?n.emulator.push(e):n.prod.push(e);return n}function bT(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let sy=!1;function i_(n,e){if(typeof window>"u"||typeof document>"u"||!ta(window.location.host)||il[n]===e||il[n]||sy)return;il[n]=e;function t(I){return`__firebase__banner__${I}`}const i="__firebase__banner",l=OT().prod.length>0;function h(){const I=document.getElementById(i);I&&I.remove()}function f(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function g(I,b){I.setAttribute("width","24"),I.setAttribute("id",b),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function y(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{sy=!0,h()},I}function w(I,b){I.setAttribute("id",b),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function E(){const I=bT(i),b=t("text"),H=document.getElementById(b)||document.createElement("span"),W=t("learnmore"),U=document.getElementById(W)||document.createElement("a"),J=t("preprendIcon"),ne=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const fe=I.element;f(fe),w(U,W);const me=y();g(ne,J),fe.append(ne,H,U,me),document.body.appendChild(fe)}l?(H.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function LT(){var e;const n=(e=Dc())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FT(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function jT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UT(){const n=Zt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function zT(){return!LT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BT(){try{return typeof indexedDB=="object"}catch{return!1}}function $T(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)==null?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="FirebaseError";class pi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=WT,Object.setPrototypeOf(this,pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tl.prototype.create)}}class Tl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?HT(l,i):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new pi(o,f,i)}}function HT(n,e){return n.replace(qT,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const qT=/\{\$([^}]+)}/g;function GT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Bs(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],h=e[o];if(oy(l)&&oy(h)){if(!Bs(l,h))return!1}else if(l!==h)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function oy(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function KT(n,e){const t=new YT(n,e);return t.subscribe.bind(t)}class YT{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");QT(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Dd),o.error===void 0&&(o.error=Dd),o.complete===void 0&&(o.complete=Dd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QT(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Dd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(n){return n&&n._delegate?n._delegate:n}class $s{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new NT;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZT(e))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=Ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ls){return this.instances.has(e)}getOptions(e=Ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&h.resolve(o)}return o}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:JT(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ls){return this.component?this.component.multipleInstances?e:Ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JT(n){return n===Ls?void 0:n}function ZT(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new XT(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ve||(Ve={}));const tI={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},nI=Ve.INFO,rI={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},iI=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=rI[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jf{constructor(e){this.name=e,this._logLevel=nI,this._logHandler=iI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const sI=(n,e)=>e.some(t=>n instanceof t);let ay,ly;function oI(){return ay||(ay=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aI(){return ly||(ly=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const s_=new WeakMap,Qd=new WeakMap,o_=new WeakMap,Nd=new WeakMap,Uf=new WeakMap;function lI(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",h)},l=()=>{t(Yi(n.result)),o()},h=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&s_.set(t,n)}).catch(()=>{}),Uf.set(e,n),e}function uI(n){if(Qd.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",h),n.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",h),n.addEventListener("abort",h)});Qd.set(n,e)}let Xd={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Qd.get(n);if(e==="objectStoreNames")return n.objectStoreNames||o_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Yi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function cI(n){Xd=n(Xd)}function hI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(xd(this),e,...t);return o_.set(i,e.sort?e.sort():[e]),Yi(i)}:aI().includes(n)?function(...e){return n.apply(xd(this),e),Yi(s_.get(this))}:function(...e){return Yi(n.apply(xd(this),e))}}function dI(n){return typeof n=="function"?hI(n):(n instanceof IDBTransaction&&uI(n),sI(n,oI())?new Proxy(n,Xd):n)}function Yi(n){if(n instanceof IDBRequest)return lI(n);if(Nd.has(n))return Nd.get(n);const e=dI(n);return e!==n&&(Nd.set(n,e),Uf.set(e,n)),e}const xd=n=>Uf.get(n);function fI(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const h=indexedDB.open(n,e),f=Yi(h);return i&&h.addEventListener("upgradeneeded",g=>{i(Yi(h.result),g.oldVersion,g.newVersion,Yi(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),f.then(g=>{l&&g.addEventListener("close",()=>l()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const pI=["get","getKey","getAll","getAllKeys","count"],mI=["put","add","delete","clear"],Od=new Map;function uy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Od.get(e))return Od.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=mI.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||pI.includes(t)))return;const l=async function(h,...f){const g=this.transaction(h,o?"readwrite":"readonly");let y=g.store;return i&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),o&&g.done]))[0]};return Od.set(e,l),l}cI(n=>({...n,get:(e,t,i)=>uy(e,t)||n.get(e,t,i),has:(e,t)=>!!uy(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(yI(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function yI(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jd="@firebase/app",cy="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=new jf("@firebase/app"),vI="@firebase/app-compat",_I="@firebase/analytics-compat",wI="@firebase/analytics",EI="@firebase/app-check-compat",TI="@firebase/app-check",II="@firebase/auth",SI="@firebase/auth-compat",AI="@firebase/database",CI="@firebase/data-connect",PI="@firebase/database-compat",kI="@firebase/functions",RI="@firebase/functions-compat",DI="@firebase/installations",NI="@firebase/installations-compat",xI="@firebase/messaging",OI="@firebase/messaging-compat",bI="@firebase/performance",VI="@firebase/performance-compat",LI="@firebase/remote-config",MI="@firebase/remote-config-compat",FI="@firebase/storage",jI="@firebase/storage-compat",UI="@firebase/firestore",zI="@firebase/ai",BI="@firebase/firestore-compat",$I="firebase",WI="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="[DEFAULT]",HI={[Jd]:"fire-core",[vI]:"fire-core-compat",[wI]:"fire-analytics",[_I]:"fire-analytics-compat",[TI]:"fire-app-check",[EI]:"fire-app-check-compat",[II]:"fire-auth",[SI]:"fire-auth-compat",[AI]:"fire-rtdb",[CI]:"fire-data-connect",[PI]:"fire-rtdb-compat",[kI]:"fire-fn",[RI]:"fire-fn-compat",[DI]:"fire-iid",[NI]:"fire-iid-compat",[xI]:"fire-fcm",[OI]:"fire-fcm-compat",[bI]:"fire-perf",[VI]:"fire-perf-compat",[LI]:"fire-rc",[MI]:"fire-rc-compat",[FI]:"fire-gcs",[jI]:"fire-gcs-compat",[UI]:"fire-fst",[BI]:"fire-fst-compat",[zI]:"fire-vertex","fire-js":"fire-js",[$I]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=new Map,qI=new Map,ef=new Map;function hy(n,e){try{n.container.addComponent(e)}catch(t){ci.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Go(n){const e=n.name;if(ef.has(e))return ci.debug(`There were multiple attempts to register component ${e}.`),!1;ef.set(e,n);for(const t of lc.values())hy(t,n);for(const t of qI.values())hy(t,n);return!0}function zf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function tr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qi=new Tl("app","Firebase",GI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new $s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=WI;function a_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:Zd,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw Qi.create("bad-app-name",{appName:String(o)});if(t||(t=t_()),!t)throw Qi.create("no-options");const l=lc.get(o);if(l){if(Bs(t,l.options)&&Bs(i,l.config))return l;throw Qi.create("duplicate-app",{appName:o})}const h=new eI(o);for(const g of ef.values())h.addComponent(g);const f=new KI(t,i,h);return lc.set(o,f),f}function l_(n=Zd){const e=lc.get(n);if(!e&&n===Zd&&t_())return a_();if(!e)throw Qi.create("no-app",{appName:n});return e}function Xi(n,e,t){let i=HI[n]??n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const h=[`Unable to register library "${i}" with version "${e}":`];o&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&h.push("and"),l&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ci.warn(h.join(" "));return}Go(new $s(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="firebase-heartbeat-database",QI=1,cl="firebase-heartbeat-store";let bd=null;function u_(){return bd||(bd=fI(YI,QI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(cl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Qi.create("idb-open",{originalErrorMessage:n.message})})),bd}async function XI(n){try{const t=(await u_()).transaction(cl),i=await t.objectStore(cl).get(c_(n));return await t.done,i}catch(e){if(e instanceof pi)ci.warn(e.message);else{const t=Qi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ci.warn(t.message)}}}async function dy(n,e){try{const i=(await u_()).transaction(cl,"readwrite");await i.objectStore(cl).put(e,c_(n)),await i.done}catch(t){if(t instanceof pi)ci.warn(t.message);else{const i=Qi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ci.warn(i.message)}}}function c_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=1024,ZI=30;class eS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new nS(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=fy();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>ZI){const h=rS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ci.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=fy(),{heartbeatsToSend:i,unsentEntries:o}=tS(this._heartbeatsCache.heartbeats),l=ac(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ci.warn(t),""}}}function fy(){return new Date().toISOString().substring(0,10)}function tS(n,e=JI){const t=[];let i=n.slice();for(const o of n){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),py(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),py(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class nS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BT()?$T().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await XI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return dy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return dy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function py(n){return ac(JSON.stringify({version:2,heartbeats:n})).length}function rS(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(n){Go(new $s("platform-logger",e=>new gI(e),"PRIVATE")),Go(new $s("heartbeat",e=>new eS(e),"PRIVATE")),Xi(Jd,cy,n),Xi(Jd,cy,"esm2020"),Xi("fire-js","")}iS("");var my=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ji,h_;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function P(){}P.prototype=S.prototype,N.F=S.prototype,N.prototype=new P,N.prototype.constructor=N,N.D=function(x,R,L){for(var C=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)C[Oe-2]=arguments[Oe];return S.prototype[R].apply(x,C)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,P){P||(P=0);const x=Array(16);if(typeof S=="string")for(var R=0;R<16;++R)x[R]=S.charCodeAt(P++)|S.charCodeAt(P++)<<8|S.charCodeAt(P++)<<16|S.charCodeAt(P++)<<24;else for(R=0;R<16;++R)x[R]=S[P++]|S[P++]<<8|S[P++]<<16|S[P++]<<24;S=N.g[0],P=N.g[1],R=N.g[2];let L=N.g[3],C;C=S+(L^P&(R^L))+x[0]+3614090360&4294967295,S=P+(C<<7&4294967295|C>>>25),C=L+(R^S&(P^R))+x[1]+3905402710&4294967295,L=S+(C<<12&4294967295|C>>>20),C=R+(P^L&(S^P))+x[2]+606105819&4294967295,R=L+(C<<17&4294967295|C>>>15),C=P+(S^R&(L^S))+x[3]+3250441966&4294967295,P=R+(C<<22&4294967295|C>>>10),C=S+(L^P&(R^L))+x[4]+4118548399&4294967295,S=P+(C<<7&4294967295|C>>>25),C=L+(R^S&(P^R))+x[5]+1200080426&4294967295,L=S+(C<<12&4294967295|C>>>20),C=R+(P^L&(S^P))+x[6]+2821735955&4294967295,R=L+(C<<17&4294967295|C>>>15),C=P+(S^R&(L^S))+x[7]+4249261313&4294967295,P=R+(C<<22&4294967295|C>>>10),C=S+(L^P&(R^L))+x[8]+1770035416&4294967295,S=P+(C<<7&4294967295|C>>>25),C=L+(R^S&(P^R))+x[9]+2336552879&4294967295,L=S+(C<<12&4294967295|C>>>20),C=R+(P^L&(S^P))+x[10]+4294925233&4294967295,R=L+(C<<17&4294967295|C>>>15),C=P+(S^R&(L^S))+x[11]+2304563134&4294967295,P=R+(C<<22&4294967295|C>>>10),C=S+(L^P&(R^L))+x[12]+1804603682&4294967295,S=P+(C<<7&4294967295|C>>>25),C=L+(R^S&(P^R))+x[13]+4254626195&4294967295,L=S+(C<<12&4294967295|C>>>20),C=R+(P^L&(S^P))+x[14]+2792965006&4294967295,R=L+(C<<17&4294967295|C>>>15),C=P+(S^R&(L^S))+x[15]+1236535329&4294967295,P=R+(C<<22&4294967295|C>>>10),C=S+(R^L&(P^R))+x[1]+4129170786&4294967295,S=P+(C<<5&4294967295|C>>>27),C=L+(P^R&(S^P))+x[6]+3225465664&4294967295,L=S+(C<<9&4294967295|C>>>23),C=R+(S^P&(L^S))+x[11]+643717713&4294967295,R=L+(C<<14&4294967295|C>>>18),C=P+(L^S&(R^L))+x[0]+3921069994&4294967295,P=R+(C<<20&4294967295|C>>>12),C=S+(R^L&(P^R))+x[5]+3593408605&4294967295,S=P+(C<<5&4294967295|C>>>27),C=L+(P^R&(S^P))+x[10]+38016083&4294967295,L=S+(C<<9&4294967295|C>>>23),C=R+(S^P&(L^S))+x[15]+3634488961&4294967295,R=L+(C<<14&4294967295|C>>>18),C=P+(L^S&(R^L))+x[4]+3889429448&4294967295,P=R+(C<<20&4294967295|C>>>12),C=S+(R^L&(P^R))+x[9]+568446438&4294967295,S=P+(C<<5&4294967295|C>>>27),C=L+(P^R&(S^P))+x[14]+3275163606&4294967295,L=S+(C<<9&4294967295|C>>>23),C=R+(S^P&(L^S))+x[3]+4107603335&4294967295,R=L+(C<<14&4294967295|C>>>18),C=P+(L^S&(R^L))+x[8]+1163531501&4294967295,P=R+(C<<20&4294967295|C>>>12),C=S+(R^L&(P^R))+x[13]+2850285829&4294967295,S=P+(C<<5&4294967295|C>>>27),C=L+(P^R&(S^P))+x[2]+4243563512&4294967295,L=S+(C<<9&4294967295|C>>>23),C=R+(S^P&(L^S))+x[7]+1735328473&4294967295,R=L+(C<<14&4294967295|C>>>18),C=P+(L^S&(R^L))+x[12]+2368359562&4294967295,P=R+(C<<20&4294967295|C>>>12),C=S+(P^R^L)+x[5]+4294588738&4294967295,S=P+(C<<4&4294967295|C>>>28),C=L+(S^P^R)+x[8]+2272392833&4294967295,L=S+(C<<11&4294967295|C>>>21),C=R+(L^S^P)+x[11]+1839030562&4294967295,R=L+(C<<16&4294967295|C>>>16),C=P+(R^L^S)+x[14]+4259657740&4294967295,P=R+(C<<23&4294967295|C>>>9),C=S+(P^R^L)+x[1]+2763975236&4294967295,S=P+(C<<4&4294967295|C>>>28),C=L+(S^P^R)+x[4]+1272893353&4294967295,L=S+(C<<11&4294967295|C>>>21),C=R+(L^S^P)+x[7]+4139469664&4294967295,R=L+(C<<16&4294967295|C>>>16),C=P+(R^L^S)+x[10]+3200236656&4294967295,P=R+(C<<23&4294967295|C>>>9),C=S+(P^R^L)+x[13]+681279174&4294967295,S=P+(C<<4&4294967295|C>>>28),C=L+(S^P^R)+x[0]+3936430074&4294967295,L=S+(C<<11&4294967295|C>>>21),C=R+(L^S^P)+x[3]+3572445317&4294967295,R=L+(C<<16&4294967295|C>>>16),C=P+(R^L^S)+x[6]+76029189&4294967295,P=R+(C<<23&4294967295|C>>>9),C=S+(P^R^L)+x[9]+3654602809&4294967295,S=P+(C<<4&4294967295|C>>>28),C=L+(S^P^R)+x[12]+3873151461&4294967295,L=S+(C<<11&4294967295|C>>>21),C=R+(L^S^P)+x[15]+530742520&4294967295,R=L+(C<<16&4294967295|C>>>16),C=P+(R^L^S)+x[2]+3299628645&4294967295,P=R+(C<<23&4294967295|C>>>9),C=S+(R^(P|~L))+x[0]+4096336452&4294967295,S=P+(C<<6&4294967295|C>>>26),C=L+(P^(S|~R))+x[7]+1126891415&4294967295,L=S+(C<<10&4294967295|C>>>22),C=R+(S^(L|~P))+x[14]+2878612391&4294967295,R=L+(C<<15&4294967295|C>>>17),C=P+(L^(R|~S))+x[5]+4237533241&4294967295,P=R+(C<<21&4294967295|C>>>11),C=S+(R^(P|~L))+x[12]+1700485571&4294967295,S=P+(C<<6&4294967295|C>>>26),C=L+(P^(S|~R))+x[3]+2399980690&4294967295,L=S+(C<<10&4294967295|C>>>22),C=R+(S^(L|~P))+x[10]+4293915773&4294967295,R=L+(C<<15&4294967295|C>>>17),C=P+(L^(R|~S))+x[1]+2240044497&4294967295,P=R+(C<<21&4294967295|C>>>11),C=S+(R^(P|~L))+x[8]+1873313359&4294967295,S=P+(C<<6&4294967295|C>>>26),C=L+(P^(S|~R))+x[15]+4264355552&4294967295,L=S+(C<<10&4294967295|C>>>22),C=R+(S^(L|~P))+x[6]+2734768916&4294967295,R=L+(C<<15&4294967295|C>>>17),C=P+(L^(R|~S))+x[13]+1309151649&4294967295,P=R+(C<<21&4294967295|C>>>11),C=S+(R^(P|~L))+x[4]+4149444226&4294967295,S=P+(C<<6&4294967295|C>>>26),C=L+(P^(S|~R))+x[11]+3174756917&4294967295,L=S+(C<<10&4294967295|C>>>22),C=R+(S^(L|~P))+x[2]+718787259&4294967295,R=L+(C<<15&4294967295|C>>>17),C=P+(L^(R|~S))+x[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(R+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+R&4294967295,N.g[3]=N.g[3]+L&4294967295}i.prototype.v=function(N,S){S===void 0&&(S=N.length);const P=S-this.blockSize,x=this.C;let R=this.h,L=0;for(;L<S;){if(R==0)for(;L<=P;)o(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<S;)if(x[R++]=N.charCodeAt(L++),R==this.blockSize){o(this,x),R=0;break}}else for(;L<S;)if(x[R++]=N[L++],R==this.blockSize){o(this,x),R=0;break}}this.h=R,this.o+=S},i.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;S=this.o*8;for(var P=N.length-8;P<N.length;++P)N[P]=S&255,S/=256;for(this.v(N),N=Array(16),S=0,P=0;P<4;++P)for(let x=0;x<32;x+=8)N[S++]=this.g[P]>>>x&255;return N};function l(N,S){var P=f;return Object.prototype.hasOwnProperty.call(P,N)?P[N]:P[N]=S(N)}function h(N,S){this.h=S;const P=[];let x=!0;for(let R=N.length-1;R>=0;R--){const L=N[R]|0;x&&L==S||(P[R]=L,x=!1)}this.g=P}var f={};function g(N){return-128<=N&&N<128?l(N,function(S){return new h([S|0],S<0?-1:0)}):new h([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return E;if(N<0)return U(y(-N));const S=[];let P=1;for(let x=0;N>=P;x++)S[x]=N/P|0,P*=4294967296;return new h(S,0)}function w(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return U(w(N.substring(1),S));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=y(Math.pow(S,8));let x=E;for(let L=0;L<N.length;L+=8){var R=Math.min(8,N.length-L);const C=parseInt(N.substring(L,L+R),S);R<8?(R=y(Math.pow(S,R)),x=x.j(R).add(y(C))):(x=x.j(P),x=x.add(y(C)))}return x}var E=g(0),I=g(1),b=g(16777216);n=h.prototype,n.m=function(){if(W(this))return-U(this).m();let N=0,S=1;for(let P=0;P<this.g.length;P++){const x=this.i(P);N+=(x>=0?x:4294967296+x)*S,S*=4294967296}return N},n.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(H(this))return"0";if(W(this))return"-"+U(this).toString(N);const S=y(Math.pow(N,6));var P=this;let x="";for(;;){const R=me(P,S).g;P=J(P,R.j(S));let L=((P.g.length>0?P.g[0]:P.h)>>>0).toString(N);if(P=R,H(P))return L+x;for(;L.length<6;)L="0"+L;x=L+x}},n.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function H(N){if(N.h!=0)return!1;for(let S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function W(N){return N.h==-1}n.l=function(N){return N=J(this,N),W(N)?-1:H(N)?0:1};function U(N){const S=N.g.length,P=[];for(let x=0;x<S;x++)P[x]=~N.g[x];return new h(P,~N.h).add(I)}n.abs=function(){return W(this)?U(this):this},n.add=function(N){const S=Math.max(this.g.length,N.g.length),P=[];let x=0;for(let R=0;R<=S;R++){let L=x+(this.i(R)&65535)+(N.i(R)&65535),C=(L>>>16)+(this.i(R)>>>16)+(N.i(R)>>>16);x=C>>>16,L&=65535,C&=65535,P[R]=C<<16|L}return new h(P,P[P.length-1]&-2147483648?-1:0)};function J(N,S){return N.add(U(S))}n.j=function(N){if(H(this)||H(N))return E;if(W(this))return W(N)?U(this).j(U(N)):U(U(this).j(N));if(W(N))return U(this.j(U(N)));if(this.l(b)<0&&N.l(b)<0)return y(this.m()*N.m());const S=this.g.length+N.g.length,P=[];for(var x=0;x<2*S;x++)P[x]=0;for(x=0;x<this.g.length;x++)for(let R=0;R<N.g.length;R++){const L=this.i(x)>>>16,C=this.i(x)&65535,Oe=N.i(R)>>>16,Je=N.i(R)&65535;P[2*x+2*R]+=C*Je,ne(P,2*x+2*R),P[2*x+2*R+1]+=L*Je,ne(P,2*x+2*R+1),P[2*x+2*R+1]+=C*Oe,ne(P,2*x+2*R+1),P[2*x+2*R+2]+=L*Oe,ne(P,2*x+2*R+2)}for(N=0;N<S;N++)P[N]=P[2*N+1]<<16|P[2*N];for(N=S;N<2*S;N++)P[N]=0;return new h(P,0)};function ne(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function fe(N,S){this.g=N,this.h=S}function me(N,S){if(H(S))throw Error("division by zero");if(H(N))return new fe(E,E);if(W(N))return S=me(U(N),S),new fe(U(S.g),U(S.h));if(W(S))return S=me(N,U(S)),new fe(U(S.g),S.h);if(N.g.length>30){if(W(N)||W(S))throw Error("slowDivide_ only works with positive integers.");for(var P=I,x=S;x.l(N)<=0;)P=De(P),x=De(x);var R=ae(P,1),L=ae(x,1);for(x=ae(x,2),P=ae(P,2);!H(x);){var C=L.add(x);C.l(N)<=0&&(R=R.add(P),L=C),x=ae(x,1),P=ae(P,1)}return S=J(N,R.j(S)),new fe(R,S)}for(R=E;N.l(S)>=0;){for(P=Math.max(1,Math.floor(N.m()/S.m())),x=Math.ceil(Math.log(P)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),L=y(P),C=L.j(S);W(C)||C.l(N)>0;)P-=x,L=y(P),C=L.j(S);H(L)&&(L=I),R=R.add(L),N=J(N,C)}return new fe(R,N)}n.B=function(N){return me(this,N).h},n.and=function(N){const S=Math.max(this.g.length,N.g.length),P=[];for(let x=0;x<S;x++)P[x]=this.i(x)&N.i(x);return new h(P,this.h&N.h)},n.or=function(N){const S=Math.max(this.g.length,N.g.length),P=[];for(let x=0;x<S;x++)P[x]=this.i(x)|N.i(x);return new h(P,this.h|N.h)},n.xor=function(N){const S=Math.max(this.g.length,N.g.length),P=[];for(let x=0;x<S;x++)P[x]=this.i(x)^N.i(x);return new h(P,this.h^N.h)};function De(N){const S=N.g.length+1,P=[];for(let x=0;x<S;x++)P[x]=N.i(x)<<1|N.i(x-1)>>>31;return new h(P,N.h)}function ae(N,S){const P=S>>5;S%=32;const x=N.g.length-P,R=[];for(let L=0;L<x;L++)R[L]=S>0?N.i(L+P)>>>S|N.i(L+P+1)<<32-S:N.i(L+P);return new h(R,N.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,h_=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=w,Ji=h}).apply(typeof my<"u"?my:typeof self<"u"?self:typeof window<"u"?window:{});var ju=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var d_,Za,f_,Yu,tf,p_,m_,g_;(function(){var n,e=Object.defineProperty;function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ju=="object"&&ju];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var v=i;u=u.split(".");for(var T=0;T<u.length-1;T++){var F=u[T];if(!(F in v))break e;v=v[F]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},h=this||self;function f(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=g,y.apply(null,arguments)}function w(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function E(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,F,B){for(var te=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)te[Ce-2]=arguments[Ce];return m.prototype[F].apply(T,te)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function b(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function H(u,m){for(let T=1;T<arguments.length;T++){const F=arguments[T];var v=typeof F;if(v=v!="object"?v:F?Array.isArray(F)?"array":v:"null",v=="array"||v=="object"&&typeof F.length=="number"){v=u.length||0;const B=F.length||0;u.length=v+B;for(let te=0;te<B;te++)u[v+te]=F[te]}else u.push(F)}}class W{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function U(u){h.setTimeout(()=>{throw u},0)}function J(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ne{constructor(){this.h=this.g=null}add(m,v){const T=fe.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var fe=new W(()=>new me,u=>u.reset());class me{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let De,ae=!1,N=new ne,S=()=>{const u=Promise.resolve(void 0);De=()=>{u.then(P)}};function P(){for(var u;u=J();){try{u.h.call(u.g)}catch(v){U(v)}var m=fe;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}ae=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};h.addEventListener("test",v,m),h.removeEventListener("test",v,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function Oe(u,m){R.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}E(Oe,R),Oe.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Oe.Z.h.call(this)},Oe.prototype.h=function(){Oe.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Je="closure_listenable_"+(Math.random()*1e6|0),ze=0;function We(u,m,v,T,F){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=F,this.key=++ze,this.da=this.fa=!1}function ee(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ue(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function q(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(u,m){let v,T;for(let F=1;F<arguments.length;F++){T=arguments[F];for(v in T)u[v]=T[v];for(let B=0;B<$.length;B++)v=$[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function ie(u){this.src=u,this.g={},this.h=0}ie.prototype.add=function(u,m,v,T,F){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const te=Ee(u,m,T,F);return te>-1?(m=u[te],v||(m.fa=!1)):(m=new We(m,this.src,B,!!T,F),m.fa=v,u.push(m)),m};function ye(u,m){const v=m.type;if(v in u.g){var T=u.g[v],F=Array.prototype.indexOf.call(T,m,void 0),B;(B=F>=0)&&Array.prototype.splice.call(T,F,1),B&&(ee(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ee(u,m,v,T){for(let F=0;F<u.length;++F){const B=u[F];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return F}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),Ne={};function be(u,m,v,T,F){if(Array.isArray(m)){for(let B=0;B<m.length;B++)be(u,m[B],v,T,F);return null}return v=gi(v),u&&u[Je]?u.J(m,v,f(T)?!!T.capture:!1,F):St(u,m,v,!1,T,F)}function St(u,m,v,T,F,B){if(!m)throw Error("Invalid event type");const te=f(F)?!!F.capture:!!F;let Ce=At(u);if(Ce||(u[ke]=Ce=new ie(u)),v=Ce.add(m,v,T,te,B),v.proxy)return v;if(T=sr(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)L||(F=te),F===void 0&&(F=!1),u.addEventListener(m.toString(),T,F);else if(u.attachEvent)u.attachEvent(Qe(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function sr(){function u(v){return m.call(u.src,u.listener,v)}const m=ar;return u}function or(u,m,v,T,F){if(Array.isArray(m))for(var B=0;B<m.length;B++)or(u,m[B],v,T,F);else T=f(T)?!!T.capture:!!T,v=gi(v),u&&u[Je]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Ee(m,v,T,F),v>-1&&(ee(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=At(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ee(m,v,T,F)),(v=u>-1?m[u]:null)&&Dn(v))}function Dn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Je])ye(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Qe(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=At(m))?(ye(v,u),v.h==0&&(v.src=null,m[ke]=null)):ee(u)}}}function Qe(u){return u in Ne?Ne[u]:Ne[u]="on"+u}function ar(u,m){if(u.da)u=!0;else{m=new Oe(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Dn(u),u=v.call(T,m)}return u}function At(u){return u=u[ke],u instanceof ie?u:null}var Nn="__closure_events_fn_"+(Math.random()*1e9>>>0);function gi(u){return typeof u=="function"?u:(u[Nn]||(u[Nn]=function(m){return u.handleEvent(m)}),u[Nn])}function at(){x.call(this),this.i=new ie(this),this.M=this,this.G=null}E(at,x),at.prototype[Je]=!0,at.prototype.removeEventListener=function(u,m,v,T){or(this,u,m,v,T)};function lt(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new R(m,u);else if(m instanceof R)m.target=m.target||u;else{var F=m;m=new R(T,u),re(m,F)}F=!0;let B,te;if(v)for(te=v.length-1;te>=0;te--)B=m.g=v[te],F=pn(B,T,!0,m)&&F;if(B=m.g=u,F=pn(B,T,!0,m)&&F,F=pn(B,T,!1,m)&&F,v)for(te=0;te<v.length;te++)B=m.g=v[te],F=pn(B,T,!1,m)&&F}at.prototype.N=function(){if(at.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ee(v[T]);delete u.g[m],u.h--}}this.G=null},at.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},at.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function pn(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let F=!0;for(let B=0;B<m.length;++B){const te=m[B];if(te&&!te.da&&te.capture==v){const Ce=te.listener,gt=te.ha||te.src;te.fa&&ye(u.i,te),F=Ce.call(gt,T)!==!1&&F}}return F&&!T.defaultPrevented}function us(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:h.setTimeout(u,m||0)}function yi(u){u.g=us(()=>{u.g=null,u.i&&(u.i=!1,yi(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Zs extends x{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:yi(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lr(u){x.call(this),this.h=u,this.g={}}E(lr,x);var cs=[];function vi(u){ue(u.g,function(m,v){this.g.hasOwnProperty(v)&&Dn(m)},u),u.g={}}lr.prototype.N=function(){lr.Z.N.call(this),vi(this)},lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ur=h.JSON.stringify,_i=h.JSON.parse,cr=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function Hn(){}function eo(){}var mn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ur(){R.call(this,"d")}E(Ur,R);function hs(){R.call(this,"c")}E(hs,R);var rn={},zr=null;function xn(){return zr=zr||new at}rn.Ia="serverreachability";function wi(u){R.call(this,rn.Ia,u)}E(wi,R);function On(u){const m=xn();lt(m,new wi(m))}rn.STAT_EVENT="statevent";function qn(u,m){R.call(this,rn.STAT_EVENT,u),this.stat=m}E(qn,R);function Ze(u){const m=xn();lt(m,new qn(m,u))}rn.Ja="timingevent";function _t(u,m){R.call(this,rn.Ja,u),this.size=m}E(_t,R);function ut(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},m)}function gn(){this.g=!0}gn.prototype.ua=function(){this.g=!1};function Ge(u,m,v,T,F,B){u.info(function(){if(u.g)if(B){var te="",Ce=B.split("&");for(let qe=0;qe<Ce.length;qe++){var gt=Ce[qe].split("=");if(gt.length>1){const wt=gt[0];gt=gt[1];const Sn=wt.split("_");te=Sn.length>=2&&Sn[1]=="type"?te+(wt+"="+gt+"&"):te+(wt+"=redacted&")}}}else te=null;else te=B;return"XMLHTTP REQ ("+T+") [attempt "+F+"]: "+m+`
`+v+`
`+te})}function en(u,m,v,T,F,B,te){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+F+"]: "+m+`
`+v+`
`+B+" "+te})}function bn(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+hr(u,v)+(T?" "+T:"")})}function Ei(u,m){u.info(function(){return"TIMEOUT: "+m})}gn.prototype.info=function(){};function hr(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var F=T[0];if(F!="noop"&&F!="stop"&&F!="close")for(let te=1;te<T.length;te++)T[te]=""}}}}return ur(B)}catch{return m}}var Gn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Vn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Br;function yn(){}E(yn,Hn),yn.prototype.g=function(){return new XMLHttpRequest},Br=new yn;function sn(u){return encodeURIComponent(String(u))}function dr(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function on(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new lr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ti}function Ti(){this.i=null,this.g="",this.h=!1}var ds={},fs={};function vn(u,m,v){u.M=1,u.A=qr(Ln(m)),u.u=v,u.R=!0,Re(u,null)}function Re(u,m){u.F=Date.now(),Ct(u),u.B=Ln(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),va(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Ti,u.g=Bl(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Zs(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var F="readystatechange";Array.isArray(F)||(F&&(cs[0]=F.toString()),F=cs);for(let B=0;B<F.length;B++){const te=be(v,F[B],T||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),On(),Ge(u.i,u.v,u.B,u.l,u.S,u.u)}on.prototype.ba=function(u){u=u.target;const m=this.O;m&&_r(u)==3?m.j():this.Y(u)},on.prototype.Y=function(u){try{if(u==this.g)e:{const Ce=_r(this.g),gt=this.g.ya(),qe=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Ul(this.g)))){this.K||Ce!=4||gt==7||(gt==8||qe<=0?On(3):On(2)),Ii(this);var m=this.g.ca();this.X=m;var v=Ke(this);if(this.o=m==200,en(this.i,this.v,this.B,this.l,this.S,Ce,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,F=this.g;if((T=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(T)){var B=T;break t}}B=null}if(u=B)bn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,tt(this,u);else{this.o=!1,this.m=3,Ze(12),Hr(this),Wr(this);break e}}if(this.R){u=!0;let wt;for(;!this.K&&this.C<v.length;)if(wt=Wt(this,v),wt==fs){Ce==4&&(this.m=4,Ze(14),u=!1),bn(this.i,this.l,null,"[Incomplete Response]");break}else if(wt==ds){this.m=4,Ze(15),bn(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else bn(this.i,this.l,wt,null),tt(this,wt);if(et(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||v.length!=0||this.h.h||(this.m=1,Ze(16),u=!1),this.o=this.o&&u,!u)bn(this.i,this.l,v,"[Invalid Chunked Response]"),Hr(this),Wr(this);else if(v.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Ts(te),te.P=!0,Ze(11))}}else bn(this.i,this.l,v,null),tt(this,v);Ce==4&&Hr(this),this.o&&!this.K&&(Ce==4?co(this.j,this):(this.o=!1,Ct(this)))}else wa(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ze(12)):(this.m=0,Ze(13)),Hr(this),Wr(this)}}}catch{}finally{}};function Ke(u){if(!et(u))return u.g.la();const m=Ul(u.g);if(m==="")return"";let v="";const T=m.length,F=_r(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Hr(u),Wr(u),"";u.h.i=new h.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(F&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function et(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Wt(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?fs:(v=Number(m.substring(v,T)),isNaN(v)?ds:(T+=1,T+v>m.length?fs:(m=m.slice(T,T+v),u.C=T+v,m)))}on.prototype.cancel=function(){this.K=!0,Hr(this)};function Ct(u){u.T=Date.now()+u.H,$r(u,u.H)}function $r(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ut(y(u.aa,u),m)}function Ii(u){u.D&&(h.clearTimeout(u.D),u.D=null)}on.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ei(this.i,this.B),this.M!=2&&(On(),Ze(17)),Hr(this),this.m=2,Wr(this)):$r(this,this.T-u)};function Wr(u){u.j.I==0||u.K||co(u.j,u)}function Hr(u){Ii(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,vi(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function tt(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ha(v.h,u))){if(!u.L&&ha(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var F=T;if(F[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)uo(v),Tn(v);else break e;Tr(v),Ze(18)}}else v.xa=F[1],0<v.xa-v.K&&F[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ut(y(v.Va,v),6e3));ps(v.h)<=1&&v.ta&&(v.ta=void 0)}else In(v,11)}else if((u.L||v.g==u)&&uo(v),!C(m))for(F=v.Ba.g.parse(m),m=0;m<F.length;m++){let qe=F[m];const wt=qe[0];if(!(wt<=v.K))if(v.K=wt,qe=qe[1],v.I==2)if(qe[0]=="c"){v.M=qe[1],v.ba=qe[2];const Sn=qe[3];Sn!=null&&(v.ka=Sn,v.j.info("VER="+v.ka));const Xr=qe[4];Xr!=null&&(v.za=Xr,v.j.info("SVER="+v.za));const Ir=qe[5];Ir!=null&&typeof Ir=="number"&&Ir>0&&(T=1.5*Ir,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Sr=u.g;if(Sr){const po=Sr.g?Sr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(po){var B=T.h;B.g||po.indexOf("spdy")==-1&&po.indexOf("quic")==-1&&po.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(no(B,B.h),B.h=null))}if(T.G){const Ia=Sr.g?Sr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ia&&(T.wa=Ia,$e(T.J,T.G,Ia))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var te=u;if(T.na=Ta(T,T.L?T.ba:null,T.W),te.L){ms(T.h,te);var Ce=te,gt=T.O;gt&&(Ce.H=gt),Ce.D&&(Ii(Ce),Ct(Ce)),T.g=te}else Ht(T);v.i.length>0&&Qr(v)}else qe[0]!="stop"&&qe[0]!="close"||In(v,7);else v.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?In(v,7):ao(v):qe[0]!="noop"&&v.l&&v.l.qa(qe),v.A=0)}}On(4)}catch{}}var th=class{constructor(u,m){this.g=u,this.map=m}};function to(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ca(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ps(u){return u.h?1:u.g?u.g.size:0}function ha(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function no(u,m){u.g?u.g.add(m):u.h=m}function ms(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}to.prototype.cancel=function(){if(this.i=_n(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function _n(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return b(u.i)}var Ll=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wn(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let F,B=null;T>=0?(F=u[v].substring(0,T),B=u[v].substring(T+1)):F=u[v],m(F,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function fr(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof fr?(this.l=u.l,gs(this,u.j),this.o=u.o,this.g=u.g,pr(this,u.u),this.h=u.h,Si(this,_a(u.i)),this.m=u.m):u&&(m=String(u).match(Ll))?(this.l=!1,gs(this,m[1]||"",!0),this.o=ys(m[2]||""),this.g=ys(m[3]||"",!0),pr(this,m[4]),this.h=ys(m[5]||"",!0),Si(this,m[6]||"",!0),this.m=ys(m[7]||"")):(this.l=!1,this.i=new Fe(null,this.l))}fr.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(vs(m,fa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(vs(m,fa,!0),"@"),u.push(sn(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(vs(v,v.charAt(0)=="/"?_s:pa,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",vs(v,ma)),u.join("")},fr.prototype.resolve=function(u){const m=Ln(this);let v=!!u.j;v?gs(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)pr(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var F=m.h.lastIndexOf("/");F!=-1&&(T=m.h.slice(0,F+1)+T)}if(F=T,F==".."||F==".")T="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){T=F.lastIndexOf("/",0)==0,F=F.split("/");const B=[];for(let te=0;te<F.length;){const Ce=F[te++];Ce=="."?T&&te==F.length&&B.push(""):Ce==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&te==F.length&&B.push("")):(B.push(Ce),T=!0)}T=B.join("/")}else T=F}return v?m.h=T:v=u.i.toString()!=="",v?Si(m,_a(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ln(u){return new fr(u)}function gs(u,m,v){u.j=v?ys(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function pr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Si(u,m,v){m instanceof Fe?(u.i=m,io(u.i,u.l)):(v||(m=vs(m,nh)),u.i=new Fe(m,u.l))}function $e(u,m,v){u.i.set(m,v)}function qr(u){return $e(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ys(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function vs(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,da),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function da(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var fa=/[#\/\?@]/g,pa=/[#\?:]/g,_s=/[#\?]/g,nh=/[#\?@]/g,ma=/#/g;function Fe(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function mr(u){u.g||(u.g=new Map,u.h=0,u.i&&wn(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=Fe.prototype,n.add=function(u,m){mr(this),this.i=null,u=gr(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function ga(u,m){mr(u),m=gr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function ro(u,m){return mr(u),m=gr(u,m),u.g.has(m)}n.forEach=function(u,m){mr(this),this.g.forEach(function(v,T){v.forEach(function(F){u.call(m,F,T,this)},this)},this)};function ya(u,m){mr(u);let v=[];if(typeof m=="string")ro(u,m)&&(v=v.concat(u.g.get(gr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}n.set=function(u,m){return mr(this),this.i=null,u=gr(this,u),ro(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=ya(this,u),u.length>0?String(u[0]):m):m};function va(u,m,v){ga(u,m),v.length>0&&(u.i=null,u.g.set(gr(u,m),b(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const F=sn(v);v=ya(this,v);for(let B=0;B<v.length;B++){let te=F;v[B]!==""&&(te+="="+sn(v[B])),u.push(te)}}return this.i=u.join("&")};function _a(u){const m=new Fe;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function gr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function io(u,m){m&&!u.j&&(mr(u),u.i=null,u.g.forEach(function(v,T){const F=T.toLowerCase();T!=F&&(ga(this,T),va(this,F,v))},u)),u.j=m}function yr(u,m){const v=new gn;if(h.Image){const T=new Image;T.onload=w(Lt,v,"TestLoadImage: loaded",!0,m,T),T.onerror=w(Lt,v,"TestLoadImage: error",!1,m,T),T.onabort=w(Lt,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=w(Lt,v,"TestLoadImage: timeout",!1,m,T),h.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function vr(u,m){const v=new gn,T=new AbortController,F=setTimeout(()=>{T.abort(),Lt(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(F),B.ok?Lt(v,"TestPingServer: ok",!0,m):Lt(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(F),Lt(v,"TestPingServer: error",!1,m)})}function Lt(u,m,v,T,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),T(v)}catch{}}function ws(){this.g=new cr}function Gr(u){this.i=u.Sb||null,this.h=u.ab||!1}E(Gr,Hn),Gr.prototype.g=function(){return new En(this.i,this.h)};function En(u,m){at.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(En,at),n=En.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Kn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||h).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ai(this)),this.readyState=0},n.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ml(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ml(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}n.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ai(this):Kn(this),this.readyState==3&&Ml(this)}},n.Oa=function(u){this.g&&(this.response=this.responseText=u,Ai(this))},n.Na=function(u){this.g&&(this.response=u,Ai(this))},n.ga=function(){this.g&&Ai(this)};function Ai(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Kn(u)}n.setRequestHeader=function(u,m){this.A.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(En.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Fl(u){let m="";return ue(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function so(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Fl(v),typeof u=="string"?v!=null&&sn(v):$e(u,m,v))}function Ye(u){at.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(Ye,at);var jl=/^https?$/i,rh=["POST","PUT"];n=Ye.prototype,n.Fa=function(u){this.H=u},n.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Br.g(),this.g.onreadystatechange=I(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Ci(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var F in T)v.set(F,T[F]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),F=h.FormData&&u instanceof h.FormData,!(Array.prototype.indexOf.call(rh,m,void 0)>=0)||T||F||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,te]of v)this.g.setRequestHeader(B,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Ci(this,B)}};function Ci(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Pi(u),Yr(u)}function Pi(u){u.A||(u.A=!0,lt(u,"complete"),lt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,lt(this,"complete"),lt(this,"abort"),Yr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yr(this,!0)),Ye.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Kr(this):this.Xa())},n.Xa=function(){Kr(this)};function Kr(u){if(u.h&&typeof l<"u"){if(u.v&&_r(u)==4)setTimeout(u.Ca.bind(u),0);else if(lt(u,"readystatechange"),_r(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let te=String(u.D).match(Ll)[1]||null;!te&&h.self&&h.self.location&&(te=h.self.location.protocol.slice(0,-1)),T=!jl.test(te?te.toLowerCase():"")}v=T}if(v)lt(u,"complete"),lt(u,"success");else{u.o=6;try{var F=_r(u)>2?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.ca()+"]",Pi(u)}}finally{Yr(u)}}}}function Yr(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||lt(u,"ready");try{v.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function _r(u){return u.g?u.g.readyState:0}n.ca=function(){try{return _r(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),_i(m)}};function Ul(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function wa(u){const m={};u=(u.g&&_r(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(C(u[T]))continue;var v=dr(u[T]);const F=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[F]||[];m[F]=B,B.push(v)}q(m,function(T){return T.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function wr(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function oo(u){this.za=0,this.i=[],this.j=new gn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=wr("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=wr("baseRetryDelayMs",5e3,u),this.Za=wr("retryDelaySeedMs",1e4,u),this.Ta=wr("forwardChannelMaxRetries",2,u),this.va=wr("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new to(u&&u.concurrentRequestLimit),this.Ba=new ws,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=oo.prototype,n.ka=8,n.I=1,n.connect=function(u,m,v,T){Ze(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Ta(this,null,this.W),Qr(this)};function ao(u){if(lo(u),u.I==3){var m=u.V++,v=Ln(u.J);if($e(v,"SID",u.M),$e(v,"RID",m),$e(v,"TYPE","terminate"),Er(u,v),m=new on(u,u.j,m),m.M=2,m.A=qr(Ln(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=m.A,v=!0),v||(m.g=Bl(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ct(m)}Is(u)}function Tn(u){u.g&&(Ts(u),u.g.cancel(),u.g=null)}function lo(u){Tn(u),u.v&&(h.clearTimeout(u.v),u.v=null),uo(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&h.clearTimeout(u.m),u.m=null)}function Qr(u){if(!ca(u.h)&&!u.m){u.m=!0;var m=u.Ea;De||S(),ae||(De(),ae=!0),N.add(m,u),u.D=0}}function zl(u,m){return ps(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ut(y(u.Ea,u,m),ho(u,u.D)),u.D++,!0)}n.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const F=new on(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),re(B,this.U)):B=this.U),this.u!==null||this.R||(F.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Ea(this,F,m),v=Ln(this.J),$e(v,"RID",u),$e(v,"CVER",22),this.G&&$e(v,"X-HTTP-Session-Id",this.G),Er(this,v),B&&(this.R?m="headers="+sn(Fl(B))+"&"+m:this.u&&so(v,this.u,B)),no(this.h,F),this.Ra&&$e(v,"TYPE","init"),this.S?($e(v,"$req",m),$e(v,"SID","null"),F.U=!0,vn(F,v,null)):vn(F,v,m),this.I=2}}else this.I==3&&(u?Es(this,u):this.i.length==0||ca(this.h)||Es(this))};function Es(u,m){var v;m?v=m.l:v=u.V++;const T=Ln(u.J);$e(T,"SID",u.M),$e(T,"RID",v),$e(T,"AID",u.K),Er(u,T),u.u&&u.o&&so(T,u.u,u.o),v=new on(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Ea(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),no(u.h,v),vn(v,T,m)}function Er(u,m){u.H&&ue(u.H,function(v,T){$e(m,T,v)}),u.l&&ue({},function(v,T){$e(m,T,v)})}function Ea(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;e:{var F=u.i;let Ce=-1;for(;;){const gt=["count="+v];Ce==-1?v>0?(Ce=F[0].g,gt.push("ofs="+Ce)):Ce=0:gt.push("ofs="+Ce);let qe=!0;for(let wt=0;wt<v;wt++){var B=F[wt].g;const Sn=F[wt].map;if(B-=Ce,B<0)Ce=Math.max(0,F[wt].g-100),qe=!1;else try{B="req"+B+"_"||"";try{var te=Sn instanceof Map?Sn:Object.entries(Sn);for(const[Xr,Ir]of te){let Sr=Ir;f(Ir)&&(Sr=ur(Ir)),gt.push(B+Xr+"="+encodeURIComponent(Sr))}}catch(Xr){throw gt.push(B+"type="+encodeURIComponent("_badmap")),Xr}}catch{T&&T(Sn)}}if(qe){te=gt.join("&");break e}}te=void 0}return u=u.i.splice(0,v),m.G=u,te}function Ht(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;De||S(),ae||(De(),ae=!0),N.add(m,u),u.A=0}}function Tr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ut(y(u.Da,u),ho(u,u.A)),u.A++,!0)}n.Da=function(){if(this.v=null,ki(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ut(y(this.Wa,this),u)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ze(10),Tn(this),ki(this))};function Ts(u){u.B!=null&&(h.clearTimeout(u.B),u.B=null)}function ki(u){u.g=new on(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ln(u.na);$e(m,"RID","rpc"),$e(m,"SID",u.M),$e(m,"AID",u.K),$e(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&$e(m,"TO",u.ia),$e(m,"TYPE","xmlhttp"),Er(u,m),u.u&&u.o&&so(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=qr(Ln(m)),v.u=null,v.R=!0,Re(v,u)}n.Va=function(){this.C!=null&&(this.C=null,Tn(this),Tr(this),Ze(19))};function uo(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function co(u,m){var v=null;if(u.g==m){uo(u),Ts(u),u.g=null;var T=2}else if(ha(u.h,m))v=m.G,ms(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var F=u.D;T=xn(),lt(T,new _t(T,v)),Qr(u)}else Ht(u);else if(F=m.m,F==3||F==0&&m.X>0||!(T==1&&zl(u,m)||T==2&&Tr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),F){case 1:In(u,5);break;case 4:In(u,10);break;case 3:In(u,6);break;default:In(u,2)}}}function ho(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function In(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const F=!T;T=new fr(T||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||gs(T,"https"),qr(T),F?yr(T.toString(),v):vr(T.toString(),v)}else Ze(2);u.I=0,u.l&&u.l.pa(m),Is(u),lo(u)}n.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ze(2)):(this.j.info("Failed to ping google.com"),Ze(1))};function Is(u){if(u.I=0,u.ja=[],u.l){const m=_n(u.h);(m.length!=0||u.i.length!=0)&&(H(u.ja,m),H(u.ja,u.i),u.h.i.length=0,b(u.i),u.i.length=0),u.l.oa()}}function Ta(u,m,v){var T=v instanceof fr?Ln(v):new fr(v);if(T.g!="")m&&(T.g=m+"."+T.g),pr(T,T.u);else{var F=h.location;T=F.protocol,m=m?m+"."+F.hostname:F.hostname,F=+F.port;const B=new fr(null);T&&gs(B,T),m&&(B.g=m),F&&pr(B,F),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&$e(T,v,m),$e(T,"VER",u.ka),Er(u,T),T}function Bl(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Ye(new Gr({ab:v})):new Ye(u.ma),m.Fa(u.L),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function $l(){}n=$l.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function fo(){}fo.prototype.g=function(u,m){return new Mt(u,m)};function Mt(u,m){at.call(this),this.g=new oo(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ri(this)}E(Mt,at),Mt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Mt.prototype.close=function(){ao(this.g)},Mt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ur(u),u=v);m.i.push(new th(m.Ya++,u)),m.I==3&&Qr(m)},Mt.prototype.N=function(){this.g.l=null,delete this.j,ao(this.g),delete this.g,Mt.Z.N.call(this)};function Wl(u){Ur.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}E(Wl,Ur);function Hl(){hs.call(this),this.status=1}E(Hl,hs);function Ri(u){this.g=u}E(Ri,$l),Ri.prototype.ra=function(){lt(this.g,"a")},Ri.prototype.qa=function(u){lt(this.g,new Wl(u))},Ri.prototype.pa=function(u){lt(this.g,new Hl)},Ri.prototype.oa=function(){lt(this.g,"b")},fo.prototype.createWebChannel=fo.prototype.g,Mt.prototype.send=Mt.prototype.o,Mt.prototype.open=Mt.prototype.m,Mt.prototype.close=Mt.prototype.close,g_=function(){return new fo},m_=function(){return xn()},p_=rn,tf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Gn.NO_ERROR=0,Gn.TIMEOUT=8,Gn.HTTP_ERROR=6,Yu=Gn,Vn.COMPLETE="complete",f_=Vn,eo.EventType=mn,mn.OPEN="a",mn.CLOSE="b",mn.ERROR="c",mn.MESSAGE="d",at.prototype.listen=at.prototype.J,Za=eo,Ye.prototype.listenOnce=Ye.prototype.K,Ye.prototype.getLastError=Ye.prototype.Ha,Ye.prototype.getLastErrorCode=Ye.prototype.ya,Ye.prototype.getStatus=Ye.prototype.ca,Ye.prototype.getResponseJson=Ye.prototype.La,Ye.prototype.getResponseText=Ye.prototype.la,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Fa,d_=Ye}).apply(typeof ju<"u"?ju:typeof self<"u"?self:typeof window<"u"?window:{});const gy="@firebase/firestore",yy="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ra="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new jf("@firebase/firestore");function Vo(){return Ws.logLevel}function oe(n,...e){if(Ws.logLevel<=Ve.DEBUG){const t=e.map(Bf);Ws.debug(`Firestore (${ra}): ${n}`,...t)}}function hi(n,...e){if(Ws.logLevel<=Ve.ERROR){const t=e.map(Bf);Ws.error(`Firestore (${ra}): ${n}`,...t)}}function Ko(n,...e){if(Ws.logLevel<=Ve.WARN){const t=e.map(Bf);Ws.warn(`Firestore (${ra}): ${n}`,...t)}}function Bf(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,y_(n,i,t)}function y_(n,e,t){let i=`FIRESTORE (${ra}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw hi(i),new Error(i)}function He(n,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,n||y_(e,o,i)}function Pe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends pi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Xt.UNAUTHENTICATED)))}shutdown(){}}class oS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class aS{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){He(this.o===void 0,42304);let i=this.i;const o=g=>this.i!==i?(i=this.i,t(g)):Promise.resolve();let l=new Zi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Zi,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=l;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},f=g=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>f(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Zi)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(He(typeof i.accessToken=="string",31837,{l:i}),new v_(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new Xt(e)}}class lS{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class uS{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new lS(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Xt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cS{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,tr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){He(this.o===void 0,3512);const i=l=>{l.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.m;return this.m=l.token,oe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const o=l=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new vy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(He(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new vy(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=hS(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%62))}return i}}function Le(n,e){return n<e?-1:n>e?1:0}function nf(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const o=n.charAt(i),l=e.charAt(i);if(o!==l)return Vd(o)===Vd(l)?Le(o,l):Vd(o)?1:-1}return Le(n.length,e.length)}const dS=55296,fS=57343;function Vd(n){const e=n.charCodeAt(0);return e>=dS&&e<=fS}function Yo(n,e,t){return n.length===e.length&&n.every(((i,o)=>t(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="__name__";class Nr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Te(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Nr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Nr?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=Nr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Le(e.length,t.length)}static compareSegments(e,t){const i=Nr.isNumericId(e),o=Nr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?Nr.extractNumericId(e).compare(Nr.extractNumericId(t)):nf(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ji.fromString(e.substring(4,e.length-2))}}class dt extends Nr{construct(e,t,i){return new dt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ge(Y.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((o=>o.length>0)))}return new dt(t)}static emptyPath(){return new dt([])}}const pS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends Nr{construct(e,t,i){return new zt(e,t,i)}static isValidIdentifier(e){return pS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_y}static keyField(){return new zt([_y])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new ge(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ge(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ge(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(i+=f,o++):(l(),o++)}if(l(),h)throw new ge(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(t)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(dt.fromString(e))}static fromName(e){return new we(dt.fromString(e).popFirst(5))}static empty(){return new we(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return dt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new dt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(n,e,t){if(!t)throw new ge(Y.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function gS(n,e,t,i){if(e===!0&&i===!0)throw new ge(Y.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function wy(n){if(!we.isDocumentKey(n))throw new ge(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function __(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Wf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te(12329,{type:typeof n})}function es(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ge(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Wf(n);throw new ge(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(n,e){const t={typeString:n};return e&&(t.value=e),t}function Sl(n,e){if(!__(n))throw new ge(Y.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const o=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const h=n[i];if(o&&typeof h!==o){t=`JSON field '${i}' must be a ${o}.`;break}if(l!==void 0&&h!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new ge(Y.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey=-62135596800,Ty=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Ty);return new it(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ey)throw new ge(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ty}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Sl(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ey;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:It("string",it._jsonSchemaVersion),seconds:It("number"),nanoseconds:It("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new it(0,0))}static max(){return new Ae(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl=-1;function yS(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(i===1e9?new it(t+1,0):new it(t,i));return new ts(o,we.empty(),e)}function vS(n){return new ts(n.readTime,n.key,hl)}class ts{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ts(Ae.min(),we.empty(),hl)}static max(){return new ts(Ae.max(),we.empty(),hl)}}function _S(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:Le(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ES{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ia(n){if(n.code!==Y.FAILED_PRECONDITION||n.message!==wS)throw n;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new G(((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof G?t:G.resolve(t)}catch(t){return G.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):G.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):G.reject(t)}static resolve(e){return new G(((t,i)=>{t(e)}))}static reject(e){return new G(((t,i)=>{i(e)}))}static waitFor(e){return new G(((t,i)=>{let o=0,l=0,h=!1;e.forEach((f=>{++o,f.next((()=>{++l,h&&l===o&&t()}),(g=>i(g)))})),h=!0,l===o&&t()}))}static or(e){let t=G.resolve(!1);for(const i of e)t=t.next((o=>o?G.resolve(o):i()));return t}static forEach(e,t){const i=[];return e.forEach(((o,l)=>{i.push(t.call(this,o,l))})),this.waitFor(i)}static mapArray(e,t){return new G(((i,o)=>{const l=e.length,h=new Array(l);let f=0;for(let g=0;g<l;g++){const y=g;t(e[y]).next((w=>{h[y]=w,++f,f===l&&i(h)}),(w=>o(w)))}}))}static doWhile(e,t){return new G(((i,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):i()};l()}))}}function TS(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function sa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Nc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf=-1;function xc(n){return n==null}function uc(n){return n===0&&1/n==-1/0}function IS(n){return typeof n=="number"&&Number.isInteger(n)&&!uc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="";function SS(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Iy(e)),e=AS(n.get(t),e);return Iy(e)}function AS(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case w_:t+="";break;default:t+=l}}return t}function Iy(n){return n+w_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Gs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function E_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,t){this.comparator=e,this.root=t||Ut.EMPTY}insert(e,t){return new pt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uu(this.root,e,this.comparator,!0)}}class Uu{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Ut.RED,this.left=o??Ut.EMPTY,this.right=l??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Ut(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ut.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,i,o,l){return this}insert(e,t,i){return new Ut(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ay(this.data.getIterator())}getIteratorFrom(e){return new Ay(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Nt(this.comparator);return t.data=e,t}}class Ay{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new nr([])}unionWith(e){let t=new Nt(zt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new nr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yo(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new T_("Invalid base64 string: "+l):l}})(e);return new $t(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l})(e);return new $t(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const CS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(n){if(He(!!n,39018),typeof n=="string"){let e=0;const t=CS.exec(n);if(He(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:vt(n.seconds),nanos:vt(n.nanos)}}function vt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function rs(n){return typeof n=="string"?$t.fromBase64String(n):$t.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="server_timestamp",S_="__type__",A_="__previous_value__",C_="__local_write_time__";function qf(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[S_])==null?void 0:i.stringValue)===I_}function Oc(n){const e=n.mapValue.fields[A_];return qf(e)?Oc(e):e}function dl(n){const e=ns(n.mapValue.fields[C_].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,t,i,o,l,h,f,g,y,w){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=w}}const cc="(default)";class fl{constructor(e,t){this.projectId=e,this.database=t||cc}static empty(){return new fl("","")}get isDefaultDatabase(){return this.database===cc}isEqual(e){return e instanceof fl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="__type__",kS="__max__",zu={mapValue:{}},k_="__vector__",hc="value";function is(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?qf(n)?4:DS(n)?9007199254740991:RS(n)?10:11:Te(28295,{value:n})}function Mr(n,e){if(n===e)return!0;const t=is(n);if(t!==is(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return dl(n).isEqual(dl(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=ns(o.timestampValue),f=ns(l.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,l){return rs(o.bytesValue).isEqual(rs(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,l){return vt(o.geoPointValue.latitude)===vt(l.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(l.geoPointValue.longitude)})(n,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return vt(o.integerValue)===vt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=vt(o.doubleValue),f=vt(l.doubleValue);return h===f?uc(h)===uc(f):isNaN(h)&&isNaN(f)}return!1})(n,e);case 9:return Yo(n.arrayValue.values||[],e.arrayValue.values||[],Mr);case 10:case 11:return(function(o,l){const h=o.mapValue.fields||{},f=l.mapValue.fields||{};if(Sy(h)!==Sy(f))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(f[g]===void 0||!Mr(h[g],f[g])))return!1;return!0})(n,e);default:return Te(52216,{left:n})}}function pl(n,e){return(n.values||[]).find((t=>Mr(t,e)))!==void 0}function Qo(n,e){if(n===e)return 0;const t=is(n),i=is(e);if(t!==i)return Le(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(n.booleanValue,e.booleanValue);case 2:return(function(l,h){const f=vt(l.integerValue||l.doubleValue),g=vt(h.integerValue||h.doubleValue);return f<g?-1:f>g?1:f===g?0:isNaN(f)?isNaN(g)?0:-1:1})(n,e);case 3:return Cy(n.timestampValue,e.timestampValue);case 4:return Cy(dl(n),dl(e));case 5:return nf(n.stringValue,e.stringValue);case 6:return(function(l,h){const f=rs(l),g=rs(h);return f.compareTo(g)})(n.bytesValue,e.bytesValue);case 7:return(function(l,h){const f=l.split("/"),g=h.split("/");for(let y=0;y<f.length&&y<g.length;y++){const w=Le(f[y],g[y]);if(w!==0)return w}return Le(f.length,g.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,h){const f=Le(vt(l.latitude),vt(h.latitude));return f!==0?f:Le(vt(l.longitude),vt(h.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Py(n.arrayValue,e.arrayValue);case 10:return(function(l,h){var I,b,H,W;const f=l.fields||{},g=h.fields||{},y=(I=f[hc])==null?void 0:I.arrayValue,w=(b=g[hc])==null?void 0:b.arrayValue,E=Le(((H=y==null?void 0:y.values)==null?void 0:H.length)||0,((W=w==null?void 0:w.values)==null?void 0:W.length)||0);return E!==0?E:Py(y,w)})(n.mapValue,e.mapValue);case 11:return(function(l,h){if(l===zu.mapValue&&h===zu.mapValue)return 0;if(l===zu.mapValue)return 1;if(h===zu.mapValue)return-1;const f=l.fields||{},g=Object.keys(f),y=h.fields||{},w=Object.keys(y);g.sort(),w.sort();for(let E=0;E<g.length&&E<w.length;++E){const I=nf(g[E],w[E]);if(I!==0)return I;const b=Qo(f[g[E]],y[w[E]]);if(b!==0)return b}return Le(g.length,w.length)})(n.mapValue,e.mapValue);default:throw Te(23264,{he:t})}}function Cy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Le(n,e);const t=ns(n),i=ns(e),o=Le(t.seconds,i.seconds);return o!==0?o:Le(t.nanos,i.nanos)}function Py(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Qo(t[o],i[o]);if(l)return l}return Le(t.length,i.length)}function Xo(n){return rf(n)}function rf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=ns(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return rs(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return we.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=rf(l);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of i)l?l=!1:o+=",",o+=`${h}:${rf(t.fields[h])}`;return o+"}"})(n.mapValue):Te(61005,{value:n})}function Qu(n){switch(is(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Oc(n);return e?16+Qu(e):16;case 5:return 2*n.stringValue.length;case 6:return rs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,l)=>o+Qu(l)),0)})(n.arrayValue);case 10:case 11:return(function(i){let o=0;return Gs(i.fields,((l,h)=>{o+=l.length+Qu(h)})),o})(n.mapValue);default:throw Te(13486,{value:n})}}function sf(n){return!!n&&"integerValue"in n}function Gf(n){return!!n&&"arrayValue"in n}function ky(n){return!!n&&"nullValue"in n}function Ry(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Xu(n){return!!n&&"mapValue"in n}function RS(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[P_])==null?void 0:i.stringValue)===k_}function sl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Gs(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=sl(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=sl(n.arrayValue.values[t]);return e}return{...n}}function DS(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===kS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.value=e}static empty(){return new $n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Xu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=sl(t)}setAll(e){let t=zt.emptyPath(),i={},o=[];e.forEach(((h,f)=>{if(!t.isImmediateParentOf(f)){const g=this.getFieldsMap(t);this.applyChanges(g,i,o),i={},o=[],t=f.popLast()}h?i[f.lastSegment()]=sl(h):o.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());Xu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Xu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Gs(t,((o,l)=>e[o]=l));for(const o of i)delete e[o]}clone(){return new $n(sl(this.value))}}function R_(n){const e=[];return Gs(n.fields,((t,i)=>{const o=new zt([t]);if(Xu(i)){const l=R_(i.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)})),new nr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,t,i,o,l,h,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=h,this.documentState=f}static newInvalidDocument(e){return new Jt(e,0,Ae.min(),Ae.min(),Ae.min(),$n.empty(),0)}static newFoundDocument(e,t,i,o){return new Jt(e,1,t,Ae.min(),i,o,0)}static newNoDocument(e,t){return new Jt(e,2,t,Ae.min(),Ae.min(),$n.empty(),0)}static newUnknownDocument(e,t){return new Jt(e,3,t,Ae.min(),Ae.min(),$n.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,t){this.position=e,this.inclusive=t}}function Dy(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],h=n.position[o];if(l.field.isKeyField()?i=we.comparator(we.fromName(h.referenceValue),t.key):i=Qo(h,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Ny(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Mr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,t="asc"){this.field=e,this.dir=t}}function NS(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{}class Rt extends D_{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new OS(e,t,i):t==="array-contains"?new LS(e,i):t==="in"?new MS(e,i):t==="not-in"?new FS(e,i):t==="array-contains-any"?new jS(e,i):new Rt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new bS(e,i):new VS(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Qo(t,this.value)):t!==null&&is(this.value)===is(t)&&this.matchesComparison(Qo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fr extends D_{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Fr(e,t)}matches(e){return N_(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function N_(n){return n.op==="and"}function x_(n){return xS(n)&&N_(n)}function xS(n){for(const e of n.filters)if(e instanceof Fr)return!1;return!0}function of(n){if(n instanceof Rt)return n.field.canonicalString()+n.op.toString()+Xo(n.value);if(x_(n))return n.filters.map((e=>of(e))).join(",");{const e=n.filters.map((t=>of(t))).join(",");return`${n.op}(${e})`}}function O_(n,e){return n instanceof Rt?(function(i,o){return o instanceof Rt&&i.op===o.op&&i.field.isEqual(o.field)&&Mr(i.value,o.value)})(n,e):n instanceof Fr?(function(i,o){return o instanceof Fr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((l,h,f)=>l&&O_(h,o.filters[f])),!0):!1})(n,e):void Te(19439)}function b_(n){return n instanceof Rt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Xo(t.value)}`})(n):n instanceof Fr?(function(t){return t.op.toString()+" {"+t.getFilters().map(b_).join(" ,")+"}"})(n):"Filter"}class OS extends Rt{constructor(e,t,i){super(e,t,i),this.key=we.fromName(i.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class bS extends Rt{constructor(e,t){super(e,"in",t),this.keys=V_("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class VS extends Rt{constructor(e,t){super(e,"not-in",t),this.keys=V_("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function V_(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((i=>we.fromName(i.referenceValue)))}class LS extends Rt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Gf(t)&&pl(t.arrayValue,this.value)}}class MS extends Rt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&pl(this.value.arrayValue,t)}}class FS extends Rt{constructor(e,t){super(e,"not-in",t)}matches(e){if(pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!pl(this.value.arrayValue,t)}}class jS extends Rt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Gf(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>pl(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,t=null,i=[],o=[],l=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=h,this.endAt=f,this.Te=null}}function xy(n,e=null,t=[],i=[],o=null,l=null,h=null){return new US(n,e,t,i,o,l,h)}function Kf(n){const e=Pe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>of(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),xc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>Xo(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>Xo(i))).join(",")),e.Te=t}return e.Te}function Yf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!NS(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!O_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ny(n.startAt,e.startAt)&&Ny(n.endAt,e.endAt)}function af(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,t=null,i=[],o=[],l=null,h="F",f=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=h,this.startAt=f,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function zS(n,e,t,i,o,l,h,f){return new bc(n,e,t,i,o,l,h,f)}function Vc(n){return new bc(n)}function Oy(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function BS(n){return n.collectionGroup!==null}function ol(n){const e=Pe(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new Nt(zt.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(f=f.add(y.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new fc(l,i))})),t.has(zt.keyField().canonicalString())||e.Ie.push(new fc(zt.keyField(),i))}return e.Ie}function xr(n){const e=Pe(n);return e.Ee||(e.Ee=$S(e,ol(n))),e.Ee}function $S(n,e){if(n.limitType==="F")return xy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new fc(o.field,l)}));const t=n.endAt?new dc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new dc(n.startAt.position,n.startAt.inclusive):null;return xy(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function lf(n,e,t){return new bc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Lc(n,e){return Yf(xr(n),xr(e))&&n.limitType===e.limitType}function L_(n){return`${Kf(xr(n))}|lt:${n.limitType}`}function Lo(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((o=>b_(o))).join(", ")}]`),xc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((o=>Xo(o))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((o=>Xo(o))).join(",")),`Target(${i})`})(xr(n))}; limitType=${n.limitType})`}function Mc(n,e){return e.isFoundDocument()&&(function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):we.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(n,e)&&(function(i,o){for(const l of ol(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0})(n,e)&&(function(i,o){return!(i.startAt&&!(function(h,f,g){const y=Dy(h,f,g);return h.inclusive?y<=0:y<0})(i.startAt,ol(i),o)||i.endAt&&!(function(h,f,g){const y=Dy(h,f,g);return h.inclusive?y>=0:y>0})(i.endAt,ol(i),o))})(n,e)}function WS(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function M_(n){return(e,t)=>{let i=!1;for(const o of ol(n)){const l=HS(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function HS(n,e,t){const i=n.field.isKeyField()?we.comparator(e.key,t.key):(function(l,h,f){const g=h.data.field(l),y=f.data.field(l);return g!==null&&y!==null?Qo(g,y):Te(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Te(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Gs(this.inner,((t,i)=>{for(const[o,l]of i)e(o,l)}))}isEmpty(){return E_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS=new pt(we.comparator);function di(){return qS}const F_=new pt(we.comparator);function el(...n){let e=F_;for(const t of n)e=e.insert(t.key,t);return e}function j_(n){let e=F_;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Ms(){return al()}function U_(){return al()}function al(){return new Ks((n=>n.toString()),((n,e)=>n.isEqual(e)))}const GS=new pt(we.comparator),KS=new Nt(we.comparator);function Me(...n){let e=KS;for(const t of n)e=e.add(t);return e}const YS=new Nt(Le);function QS(){return YS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uc(e)?"-0":e}}function z_(n){return{integerValue:""+n}}function XS(n,e){return IS(e)?z_(e):Qf(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(){this._=void 0}}function JS(n,e,t){return n instanceof pc?(function(o,l){const h={fields:{[S_]:{stringValue:I_},[C_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&qf(l)&&(l=Oc(l)),l&&(h.fields[A_]=l),{mapValue:h}})(t,e):n instanceof ml?$_(n,e):n instanceof gl?W_(n,e):(function(o,l){const h=B_(o,l),f=by(h)+by(o.Ae);return sf(h)&&sf(o.Ae)?z_(f):Qf(o.serializer,f)})(n,e)}function ZS(n,e,t){return n instanceof ml?$_(n,e):n instanceof gl?W_(n,e):t}function B_(n,e){return n instanceof mc?(function(i){return sf(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class pc extends Fc{}class ml extends Fc{constructor(e){super(),this.elements=e}}function $_(n,e){const t=H_(e);for(const i of n.elements)t.some((o=>Mr(o,i)))||t.push(i);return{arrayValue:{values:t}}}class gl extends Fc{constructor(e){super(),this.elements=e}}function W_(n,e){let t=H_(e);for(const i of n.elements)t=t.filter((o=>!Mr(o,i)));return{arrayValue:{values:t}}}class mc extends Fc{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function by(n){return vt(n.integerValue||n.doubleValue)}function H_(n){return Gf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function e1(n,e){return n.field.isEqual(e.field)&&(function(i,o){return i instanceof ml&&o instanceof ml||i instanceof gl&&o instanceof gl?Yo(i.elements,o.elements,Mr):i instanceof mc&&o instanceof mc?Mr(i.Ae,o.Ae):i instanceof pc&&o instanceof pc})(n.transform,e.transform)}class t1{constructor(e,t){this.version=e,this.transformResults=t}}class ui{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ui}static exists(e){return new ui(void 0,e)}static updateTime(e){return new ui(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ju(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class jc{}function q_(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new K_(n.key,ui.none()):new Al(n.key,n.data,ui.none());{const t=n.data,i=$n.empty();let o=new Nt(zt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?i.delete(l):i.set(l,h),o=o.add(l)}return new Ys(n.key,i,new nr(o.toArray()),ui.none())}}function n1(n,e,t){n instanceof Al?(function(o,l,h){const f=o.value.clone(),g=Ly(o.fieldTransforms,l,h.transformResults);f.setAll(g),l.convertToFoundDocument(h.version,f).setHasCommittedMutations()})(n,e,t):n instanceof Ys?(function(o,l,h){if(!Ju(o.precondition,l))return void l.convertToUnknownDocument(h.version);const f=Ly(o.fieldTransforms,l,h.transformResults),g=l.data;g.setAll(G_(o)),g.setAll(f),l.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(n,e,t):(function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function ll(n,e,t,i){return n instanceof Al?(function(l,h,f,g){if(!Ju(l.precondition,h))return f;const y=l.value.clone(),w=My(l.fieldTransforms,g,h);return y.setAll(w),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(n,e,t,i):n instanceof Ys?(function(l,h,f,g){if(!Ju(l.precondition,h))return f;const y=My(l.fieldTransforms,g,h),w=h.data;return w.setAll(G_(l)),w.setAll(y),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(n,e,t,i):(function(l,h,f){return Ju(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f})(n,e,t)}function r1(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=B_(i.transform,o||null);l!=null&&(t===null&&(t=$n.empty()),t.set(i.field,l))}return t||null}function Vy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Yo(i,o,((l,h)=>e1(l,h)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Al extends jc{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ys extends jc{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function G_(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function Ly(n,e,t){const i=new Map;He(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const l=n[o],h=l.transform,f=e.data.field(l.field);i.set(l.field,ZS(h,f,t[o]))}return i}function My(n,e,t){const i=new Map;for(const o of n){const l=o.transform,h=t.data.field(o.field);i.set(o.field,JS(l,h,e))}return i}class K_ extends jc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class i1 extends jc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&n1(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=ll(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=ll(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=U_();return this.mutations.forEach((o=>{const l=e.get(o.key),h=l.overlayedDocument;let f=this.applyToLocalView(h,l.mutatedFields);f=t.has(o.key)?null:f;const g=q_(h,f);g!==null&&i.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Ae.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Me())}isEqual(e){return this.batchId===e.batchId&&Yo(this.mutations,e.mutations,((t,i)=>Vy(t,i)))&&Yo(this.baseMutations,e.baseMutations,((t,i)=>Vy(t,i)))}}class Xf{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){He(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return GS})();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,i[h].version);return new Xf(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,je;function l1(n){switch(n){case Y.OK:return Te(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return Te(15467,{code:n})}}function Y_(n){if(n===void 0)return hi("GRPC error has no .code"),Y.UNKNOWN;switch(n){case Tt.OK:return Y.OK;case Tt.CANCELLED:return Y.CANCELLED;case Tt.UNKNOWN:return Y.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return Y.INTERNAL;case Tt.UNAVAILABLE:return Y.UNAVAILABLE;case Tt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Tt.NOT_FOUND:return Y.NOT_FOUND;case Tt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Tt.ABORTED:return Y.ABORTED;case Tt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Tt.DATA_LOSS:return Y.DATA_LOSS;default:return Te(39323,{code:n})}}(je=Tt||(Tt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=new Ji([4294967295,4294967295],0);function Fy(n){const e=u1().encode(n),t=new h_;return t.update(e),new Uint8Array(t.digest())}function jy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ji([t,i],0),new Ji([o,l],0)]}class Jf{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new tl(`Invalid padding: ${t}`);if(i<0)throw new tl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new tl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new tl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ji.fromNumber(this.ge)}ye(e,t,i){let o=e.add(t.multiply(Ji.fromNumber(i)));return o.compare(c1)===1&&(o=new Ji([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Fy(e),[i,o]=jy(t);for(let l=0;l<this.hashCount;l++){const h=this.ye(i,o,l);if(!this.we(h))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new Jf(l,o,t);return i.forEach((f=>h.insert(f))),h}insert(e){if(this.ge===0)return;const t=Fy(e),[i,o]=jy(t);for(let l=0;l<this.hashCount;l++){const h=this.ye(i,o,l);this.Se(h)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Cl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Uc(Ae.min(),o,new pt(Le),di(),Me())}}class Cl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Cl(i,t,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,t,i,o){this.be=e,this.removedTargetIds=t,this.key=i,this.De=o}}class Q_{constructor(e,t){this.targetId=e,this.Ce=t}}class X_{constructor(e,t,i=$t.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Uy{constructor(){this.ve=0,this.Fe=zy(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Me(),t=Me(),i=Me();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Te(38017,{changeType:l})}})),new Cl(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=zy()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class h1{constructor(e){this.Ge=e,this.ze=new Map,this.je=di(),this.Je=Bu(),this.He=Bu(),this.Ye=new pt(Le)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,i=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(af(l))if(i===0){const h=new we(l.path);this.et(t,h,Jt.newNoDocument(h,Ae.min()))}else He(i===1,20013,{expectedCount:i});else{const h=this._t(t);if(h!==i){const f=this.ut(e),g=f?this.ct(f,e,h):1;if(g!==0){this.it(t);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,y)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let h,f;try{h=rs(i).toUint8Array()}catch(g){if(g instanceof T_)return Ko("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{f=new Jf(h,o,l)}catch(g){return Ko(g instanceof tl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return f.ge===0?null:f}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let o=0;return i.forEach((l=>{const h=this.Ge.ht(),f=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,h)=>{const f=this.ot(h);if(f){if(l.current&&af(f.target)){const g=new we(f.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,Jt.newNoDocument(g,e))}l.Be&&(t.set(h,l.ke()),l.qe())}}));let i=Me();this.He.forEach(((l,h)=>{let f=!0;h.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,h)=>h.setReadTime(e)));const o=new Uc(e,t,this.Ye,this.je,i);return this.je=di(),this.Je=Bu(),this.He=Bu(),this.Ye=new pt(Le),o}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Uy,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Nt(Le),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Nt(Le),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||oe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Uy),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Bu(){return new pt(we.comparator)}function zy(){return new pt(we.comparator)}const d1={asc:"ASCENDING",desc:"DESCENDING"},f1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},p1={and:"AND",or:"OR"};class m1{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function uf(n,e){return n.useProto3Json||xc(e)?e:{value:e}}function gc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function J_(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function g1(n,e){return gc(n,e.toTimestamp())}function Or(n){return He(!!n,49232),Ae.fromTimestamp((function(t){const i=ns(t);return new it(i.seconds,i.nanos)})(n))}function Zf(n,e){return cf(n,e).canonicalString()}function cf(n,e){const t=(function(o){return new dt(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function Z_(n){const e=dt.fromString(n);return He(iw(e),10190,{key:e.toString()}),e}function hf(n,e){return Zf(n.databaseId,e.path)}function Ld(n,e){const t=Z_(e);if(t.get(1)!==n.databaseId.projectId)throw new ge(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ge(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we(tw(t))}function ew(n,e){return Zf(n.databaseId,e)}function y1(n){const e=Z_(n);return e.length===4?dt.emptyPath():tw(e)}function df(n){return new dt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function tw(n){return He(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function By(n,e,t){return{name:hf(n,e),fields:t.value.mapValue.fields}}function v1(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(y,w){return y.useProto3Json?(He(w===void 0||typeof w=="string",58123),$t.fromBase64String(w||"")):(He(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),$t.fromUint8Array(w||new Uint8Array))})(n,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&(function(y){const w=y.code===void 0?Y.UNKNOWN:Y_(y.code);return new ge(w,y.message||"")})(h);t=new X_(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Ld(n,i.document.name),l=Or(i.document.updateTime),h=i.document.createTime?Or(i.document.createTime):Ae.min(),f=new $n({mapValue:{fields:i.document.fields}}),g=Jt.newFoundDocument(o,l,h,f),y=i.targetIds||[],w=i.removedTargetIds||[];t=new Zu(y,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Ld(n,i.document),l=i.readTime?Or(i.readTime):Ae.min(),h=Jt.newNoDocument(o,l),f=i.removedTargetIds||[];t=new Zu([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Ld(n,i.document),l=i.removedTargetIds||[];t=new Zu([],l,o,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,h=new a1(o,l),f=i.targetId;t=new Q_(f,h)}}return t}function _1(n,e){let t;if(e instanceof Al)t={update:By(n,e.key,e.value)};else if(e instanceof K_)t={delete:hf(n,e.key)};else if(e instanceof Ys)t={update:By(n,e.key,e.data),updateMask:k1(e.fieldMask)};else{if(!(e instanceof i1))return Te(16599,{Vt:e.type});t={verify:hf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,h){const f=h.transform;if(f instanceof pc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof ml)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof gl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof mc)return{fieldPath:h.field.canonicalString(),increment:f.Ae};throw Te(20930,{transform:h.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:g1(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te(27497)})(n,e.precondition)),t}function w1(n,e){return n&&n.length>0?(He(e!==void 0,14353),n.map((t=>(function(o,l){let h=o.updateTime?Or(o.updateTime):Or(l);return h.isEqual(Ae.min())&&(h=Or(l)),new t1(h,o.transformResults||[])})(t,e)))):[]}function E1(n,e){return{documents:[ew(n,e.path)]}}function T1(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=ew(n,o);const l=(function(y){if(y.length!==0)return rw(Fr.create(y,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const h=(function(y){if(y.length!==0)return y.map((w=>(function(I){return{field:Mo(I.field),direction:A1(I.dir)}})(w)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const f=uf(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:t,parent:o}}function I1(n){let e=y1(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){He(i===1,65062);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let l=[];t.where&&(l=(function(E){const I=nw(E);return I instanceof Fr&&x_(I)?I.getFilters():[I]})(t.where));let h=[];t.orderBy&&(h=(function(E){return E.map((I=>(function(H){return new fc(Fo(H.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(I)))})(t.orderBy));let f=null;t.limit&&(f=(function(E){let I;return I=typeof E=="object"?E.value:E,xc(I)?null:I})(t.limit));let g=null;t.startAt&&(g=(function(E){const I=!!E.before,b=E.values||[];return new dc(b,I)})(t.startAt));let y=null;return t.endAt&&(y=(function(E){const I=!E.before,b=E.values||[];return new dc(b,I)})(t.endAt)),zS(e,o,h,l,f,"F",g,y)}function S1(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function nw(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Fo(t.unaryFilter.field);return Rt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Fo(t.unaryFilter.field);return Rt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Fo(t.unaryFilter.field);return Rt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Fo(t.unaryFilter.field);return Rt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Rt.create(Fo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Fr.create(t.compositeFilter.filters.map((i=>nw(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(t.compositeFilter.op))})(n):Te(30097,{filter:n})}function A1(n){return d1[n]}function C1(n){return f1[n]}function P1(n){return p1[n]}function Mo(n){return{fieldPath:n.canonicalString()}}function Fo(n){return zt.fromServerFormat(n.fieldPath)}function rw(n){return n instanceof Rt?(function(t){if(t.op==="=="){if(Ry(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NAN"}};if(ky(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Ry(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NOT_NAN"}};if(ky(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mo(t.field),op:C1(t.op),value:t.value}}})(n):n instanceof Fr?(function(t){const i=t.getFilters().map((o=>rw(o)));return i.length===1?i[0]:{compositeFilter:{op:P1(t.op),filters:i}}})(n):Te(54877,{filter:n})}function k1(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function iw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,t,i,o,l=Ae.min(),h=Ae.min(),f=$t.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=g}withSequenceNumber(e){return new Ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e){this.yt=e}}function D1(n){const e=I1({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?lf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(){this.Cn=new x1}addToCollectionParentIndex(e,t){return this.Cn.add(t),G.resolve()}getCollectionParents(e,t){return G.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return G.resolve()}deleteFieldIndex(e,t){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,t){return G.resolve()}getDocumentsMatchingTarget(e,t){return G.resolve(null)}getIndexType(e,t){return G.resolve(0)}getFieldIndexes(e,t){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,t){return G.resolve(ts.min())}getMinOffsetFromCollectionGroup(e,t){return G.resolve(ts.min())}updateCollectionGroup(e,t,i){return G.resolve()}updateIndexEntries(e,t){return G.resolve()}}class x1{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Nt(dt.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Nt(dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sw=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(sw,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Jo(0)}static cr(){return new Jo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="LruGarbageCollector",O1=1048576;function Hy([n,e],[t,i]){const o=Le(n,t);return o===0?Le(e,i):o}class b1{constructor(e){this.Ir=e,this.buffer=new Nt(Hy),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Hy(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class V1{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(Wy,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){sa(t)?oe(Wy,"Ignoring IndexedDB error during garbage collection: ",t):await ia(t)}await this.Vr(3e5)}))}}class L1{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return G.resolve(Nc.ce);const i=new b1(t);return this.mr.forEachTarget(e,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve($y)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$y):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,o,l,h,f,g,y;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,h=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(i=E,f=Date.now(),this.removeTargets(e,i,t)))).next((E=>(l=E,g=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(y=Date.now(),Vo()<=Ve.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${o} in `+(f-h)+`ms
	Removed ${l} targets in `+(g-f)+`ms
	Removed ${E} documents in `+(y-g)+`ms
Total Duration: ${y-w}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:E}))))}}function M1(n,e){return new L1(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(){this.changes=new Ks((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?G.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(i!==null&&ll(i.mutation,o,nr.empty(),it.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Me()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Me()){const o=Ms();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,i).next((l=>{let h=el();return l.forEach(((f,g)=>{h=h.insert(f,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const i=Ms();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Me())))}populateOverlays(e,t,i){const o=[];return i.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((h,f)=>{t.set(h,f)}))}))}computeViews(e,t,i,o){let l=di();const h=al(),f=(function(){return al()})();return t.forEach(((g,y)=>{const w=i.get(y.key);o.has(y.key)&&(w===void 0||w.mutation instanceof Ys)?l=l.insert(y.key,y):w!==void 0?(h.set(y.key,w.mutation.getFieldMask()),ll(w.mutation,y,w.mutation.getFieldMask(),it.now())):h.set(y.key,nr.empty())})),this.recalculateAndSaveOverlays(e,l).next((g=>(g.forEach(((y,w)=>h.set(y,w))),t.forEach(((y,w)=>f.set(y,new j1(w,h.get(y)??null)))),f)))}recalculateAndSaveOverlays(e,t){const i=al();let o=new pt(((h,f)=>h-f)),l=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const f of h)f.keys().forEach((g=>{const y=t.get(g);if(y===null)return;let w=i.get(g)||nr.empty();w=f.applyToLocalView(y,w),i.set(g,w);const E=(o.get(f.batchId)||Me()).add(g);o=o.insert(f.batchId,E)}))})).next((()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),y=g.key,w=g.value,E=U_();w.forEach((I=>{if(!l.has(I)){const b=q_(t.get(I),i.get(I));b!==null&&E.set(I,b),l=l.add(I)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,E))}return G.waitFor(h)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,o){return(function(h){return we.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):BS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next((l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):G.resolve(Ms());let f=hl,g=l;return h.next((y=>G.forEach(y,((w,E)=>(f<E.largestBatchId&&(f=E.largestBatchId),l.get(w)?G.resolve():this.remoteDocumentCache.getEntry(e,w).next((I=>{g=g.insert(w,I)}))))).next((()=>this.populateOverlays(e,y,l))).next((()=>this.computeViews(e,g,y,Me()))).next((w=>({batchId:f,changes:j_(w)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next((i=>{let o=el();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let h=el();return this.indexManager.getCollectionParents(e,l).next((f=>G.forEach(f,(g=>{const y=(function(E,I){return new bc(I,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next((w=>{w.forEach(((E,I)=>{h=h.insert(E,I)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o)))).next((h=>{l.forEach(((g,y)=>{const w=y.getKey();h.get(w)===null&&(h=h.insert(w,Jt.newInvalidDocument(w)))}));let f=el();return h.forEach(((g,y)=>{const w=l.get(g);w!==void 0&&ll(w.mutation,y,nr.empty(),it.now()),Mc(t,y)&&(f=f.insert(g,y))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return G.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Or(o.createTime)}})(t)),G.resolve()}getNamedQuery(e,t){return G.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:D1(o.bundledQuery),readTime:Or(o.readTime)}})(t)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(){this.overlays=new pt(we.comparator),this.qr=new Map}getOverlay(e,t){return G.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ms();return G.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&i.set(o,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((o,l)=>{this.St(e,t,l)})),G.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),G.resolve()}getOverlaysForCollection(e,t,i){const o=Ms(),l=t.length+1,h=new we(t.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const g=f.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&g.largestBatchId>i&&o.set(g.getKey(),g)}return G.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new pt(((y,w)=>y-w));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let w=l.get(y.largestBatchId);w===null&&(w=Ms(),l=l.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const f=Ms(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,w)=>f.set(y,w))),!(f.size()>=o)););return G.resolve(f)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new o1(t,i));let l=this.qr.get(t);l===void 0&&(l=Me(),this.qr.set(t,l)),this.qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(){this.Qr=new Nt(Vt.$r),this.Ur=new Nt(Vt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Vt(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new Vt(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new we(new dt([])),i=new Vt(t,e),o=new Vt(t,e+1),l=[];return this.Ur.forEachInRange([i,o],(h=>{this.Gr(h),l.push(h.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new we(new dt([])),i=new Vt(t,e),o=new Vt(t,e+1);let l=Me();return this.Ur.forEachInRange([i,o],(h=>{l=l.add(h.key)})),l}containsKey(e){const t=new Vt(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Vt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return we.comparator(e.key,t.key)||Le(e.Yr,t.Yr)}static Kr(e,t){return Le(e.Yr,t.Yr)||we.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Nt(Vt.$r)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new s1(l,t,i,o);this.mutationQueue.push(h);for(const f of o)this.Zr=this.Zr.add(new Vt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return G.resolve(h)}lookupMutationBatch(e,t){return G.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.ei(i),l=o<0?0:o;return G.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?Hf:this.tr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Vt(t,0),o=new Vt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,o],(h=>{const f=this.Xr(h.Yr);l.push(f)})),G.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Nt(Le);return t.forEach((o=>{const l=new Vt(o,0),h=new Vt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,h],(f=>{i=i.add(f.Yr)}))})),G.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;we.isDocumentKey(l)||(l=l.child(""));const h=new Vt(new we(l),0);let f=new Nt(Le);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(f=f.add(g.Yr)),!0)}),h),G.resolve(this.ti(f))}ti(e){const t=[];return e.forEach((i=>{const o=this.Xr(i);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){He(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return G.forEach(t.mutations,(o=>{const l=new Vt(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new Vt(t,0),o=this.Zr.firstAfterOrEqual(i);return G.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e){this.ri=e,this.docs=(function(){return new pt(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,h=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return G.resolve(i?i.document.mutableCopy():Jt.newInvalidDocument(t))}getEntries(e,t){let i=di();return t.forEach((o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():Jt.newInvalidDocument(o))})),G.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=di();const h=t.path,f=new we(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(f);for(;g.hasNext();){const{key:y,value:{document:w}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||_S(vS(w),i)<=0||(o.has(w.key)||Mc(t,w))&&(l=l.insert(w.key,w.mutableCopy()))}return G.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Te(9500)}ii(e,t){return G.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new q1(this)}getSize(e){return G.resolve(this.size)}}class q1 extends F1{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)})),G.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e){this.persistence=e,this.si=new Ks((t=>Kf(t)),Yf),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new ep,this.targetCount=0,this.ai=Jo.ur()}forEachTarget(e,t){return this.si.forEach(((i,o)=>t(o))),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),G.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Jo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,G.resolve()}updateTargetData(e,t){return this.Pr(t),G.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.si.forEach(((h,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.si.delete(h),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),G.waitFor(l).next((()=>o))}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return G.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),G.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((h=>{l.push(o.markPotentiallyOrphaned(e,h))})),G.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),G.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return G.resolve(i)}containsKey(e,t){return G.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,t){this.ui={},this.overlays={},this.ci=new Nc(0),this.li=!1,this.li=!0,this.hi=new $1,this.referenceDelegate=e(this),this.Pi=new G1(this),this.indexManager=new N1,this.remoteDocumentCache=(function(o){return new H1(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new R1(t),this.Ii=new z1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new B1,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new W1(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){oe("MemoryPersistence","Starting transaction:",e);const o=new K1(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,t){return G.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class K1 extends ES{constructor(e){super(),this.currentSequenceNumber=e}}class tp{constructor(e){this.persistence=e,this.Ri=new ep,this.Vi=null}static mi(e){return new tp(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),G.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),G.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),G.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.fi,(i=>{const o=we.fromPath(i);return this.gi(e,o).next((l=>{l||t.removeEntry(o,Ae.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return G.or([()=>G.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class yc{constructor(e,t){this.persistence=e,this.pi=new Ks((i=>SS(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=M1(this,t)}static mi(e,t){return new yc(e,t)}Ei(){}di(e){return G.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((o=>i+o))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return G.forEach(this.pi,((i,o)=>this.br(e,i,o).next((l=>l?G.resolve():t(o)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,t).next((f=>{f||(i++,l.removeEntry(h,Ae.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),G.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),G.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),G.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Qu(e.data.value)),t}br(e,t,i){return G.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return G.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=o}static As(e,t){let i=Me(),o=Me();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new np(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return zT()?8:TS(Zt())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.ys(e,t).next((h=>{l.result=h})).next((()=>{if(!l.result)return this.ws(e,t,o,i).next((h=>{l.result=h}))})).next((()=>{if(l.result)return;const h=new Y1;return this.Ss(e,t,h).next((f=>{if(l.result=f,this.Vs)return this.bs(e,t,h,f.size)}))})).next((()=>l.result))}bs(e,t,i,o){return i.documentReadCount<this.fs?(Vo()<=Ve.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Lo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),G.resolve()):(Vo()<=Ve.DEBUG&&oe("QueryEngine","Query:",Lo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(Vo()<=Ve.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Lo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xr(t))):G.resolve())}ys(e,t){if(Oy(t))return G.resolve(null);let i=xr(t);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=lf(t,null,"F"),i=xr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const h=Me(...l);return this.ps.getDocuments(e,h).next((f=>this.indexManager.getMinOffset(e,i).next((g=>{const y=this.Ds(t,f);return this.Cs(t,y,h,g.readTime)?this.ys(e,lf(t,null,"F")):this.vs(e,y,t,g)}))))})))))}ws(e,t,i,o){return Oy(t)||o.isEqual(Ae.min())?G.resolve(null):this.ps.getDocuments(e,i).next((l=>{const h=this.Ds(t,l);return this.Cs(t,h,i,o)?G.resolve(null):(Vo()<=Ve.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Lo(t)),this.vs(e,h,t,yS(o,hl)).next((f=>f)))}))}Ds(e,t){let i=new Nt(M_(e));return t.forEach(((o,l)=>{Mc(e,l)&&(i=i.add(l))})),i}Cs(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,i){return Vo()<=Ve.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Lo(t)),this.ps.getDocumentsMatchingQuery(e,t,ts.min(),i)}vs(e,t,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next((l=>(t.forEach((h=>{l=l.insert(h.key,h)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp="LocalStore",X1=3e8;class J1{constructor(e,t,i,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new pt(Le),this.xs=new Ks((l=>Kf(l)),Yf),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new U1(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function Z1(n,e,t,i){return new J1(n,e,t,i)}async function aw(n,e){const t=Pe(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next((l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const h=[],f=[];let g=Me();for(const y of o){h.push(y.batchId);for(const w of y.mutations)g=g.add(w.key)}for(const y of l){f.push(y.batchId);for(const w of y.mutations)g=g.add(w.key)}return t.localDocuments.getDocuments(i,g).next((y=>({Ls:y,removedBatchIds:h,addedBatchIds:f})))}))}))}function eA(n,e){const t=Pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,g,y,w){const E=y.batch,I=E.keys();let b=G.resolve();return I.forEach((H=>{b=b.next((()=>w.getEntry(g,H))).next((W=>{const U=y.docVersions.get(H);He(U!==null,48541),W.version.compareTo(U)<0&&(E.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),w.addEntry(W)))}))})),b.next((()=>f.mutationQueue.removeMutationBatch(g,E)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let g=Me();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(g=g.add(f.batch.mutations[y].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(i,o)))}))}function lw(n){const e=Pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function tA(n,e){const t=Pe(n),i=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const f=[];e.targetChanges.forEach(((w,E)=>{const I=o.get(E);if(!I)return;f.push(t.Pi.removeMatchingKeys(l,w.removedDocuments,E).next((()=>t.Pi.addMatchingKeys(l,w.addedDocuments,E))));let b=I.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?b=b.withResumeToken($t.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):w.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(w.resumeToken,i)),o=o.insert(E,b),(function(W,U,J){return W.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=X1?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(I,b,w)&&f.push(t.Pi.updateTargetData(l,b))}));let g=di(),y=Me();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))})),f.push(nA(l,h,e.documentUpdates).next((w=>{g=w.ks,y=w.qs}))),!i.isEqual(Ae.min())){const w=t.Pi.getLastRemoteSnapshotVersion(l).next((E=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(w)}return G.waitFor(f).next((()=>h.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,g,y))).next((()=>g))})).then((l=>(t.Ms=o,l)))}function nA(n,e,t){let i=Me(),o=Me();return t.forEach((l=>i=i.add(l))),e.getEntries(n,i).next((l=>{let h=di();return t.forEach(((f,g)=>{const y=l.get(f);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(f)),g.isNoDocument()&&g.version.isEqual(Ae.min())?(e.removeEntry(f,g.readTime),h=h.insert(f,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(f,g)):oe(rp,"Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",g.version)})),{ks:h,qs:o}}))}function rA(n,e){const t=Pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Hf),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function iA(n,e){const t=Pe(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return t.Pi.getTargetData(i,e).next((l=>l?(o=l,G.resolve(o)):t.Pi.allocateTargetId(i).next((h=>(o=new Ki(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=t.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function ff(n,e,t){const i=Pe(n),o=i.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(h=>i.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!sa(h))throw h;oe(rp,`Failed to update sequence numbers for target ${e}: ${h}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function qy(n,e,t){const i=Pe(n);let o=Ae.min(),l=Me();return i.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,y,w){const E=Pe(g),I=E.xs.get(w);return I!==void 0?G.resolve(E.Ms.get(I)):E.Pi.getTargetData(y,w)})(i,h,xr(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(h,f.targetId).next((g=>{l=g}))})).next((()=>i.Fs.getDocumentsMatchingQuery(h,e,t?o:Ae.min(),t?l:Me()))).next((f=>(sA(i,WS(e),f),{documents:f,Qs:l})))))}function sA(n,e,t){let i=n.Os.get(e)||Ae.min();t.forEach(((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),n.Os.set(e,i)}class Gy{constructor(){this.activeTargetIds=QS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oA{constructor(){this.Mo=new Gy,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Gy,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="ConnectivityMonitor";class Yy{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(Ky,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(Ky,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $u=null;function pf(){return $u===null?$u=(function(){return 268435456+Math.round(2147483648*Math.random())})():$u++,"0x"+$u.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="RestConnection",lA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uA{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===cc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,t,i,o,l){const h=pf(),f=this.zo(e,t.toUriEncodedString());oe(Md,`Sending RPC '${e}' ${h}:`,f,i);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,l);const{host:y}=new URL(f),w=ta(y);return this.Jo(e,f,g,i,w).then((E=>(oe(Md,`Received RPC '${e}' ${h}: `,E),E)),(E=>{throw Ko(Md,`RPC '${e}' ${h} failed with error: `,E,"url: ",f,"request:",i),E}))}Ho(e,t,i,o,l,h){return this.Go(e,t,i,o,l)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ra})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),i&&i.headers.forEach(((o,l)=>e[l]=o))}zo(e,t){const i=lA[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class hA extends uA{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,o,l){const h=pf();return new Promise(((f,g)=>{const y=new d_;y.setWithCredentials(!0),y.listenOnce(f_.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Yu.NO_ERROR:const E=y.getResponseJson();oe(Qt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(E)),f(E);break;case Yu.TIMEOUT:oe(Qt,`RPC '${e}' ${h} timed out`),g(new ge(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Yu.HTTP_ERROR:const I=y.getStatus();if(oe(Qt,`RPC '${e}' ${h} failed with status:`,I,"response text:",y.getResponseText()),I>0){let b=y.getResponseJson();Array.isArray(b)&&(b=b[0]);const H=b==null?void 0:b.error;if(H&&H.status&&H.message){const W=(function(J){const ne=J.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(ne)>=0?ne:Y.UNKNOWN})(H.status);g(new ge(W,H.message))}else g(new ge(Y.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ge(Y.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{oe(Qt,`RPC '${e}' ${h} completed.`)}}));const w=JSON.stringify(o);oe(Qt,`RPC '${e}' ${h} sending request:`,o),y.send(t,"POST",w,i,15)}))}T_(e,t,i){const o=pf(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=g_(),f=m_(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,t,i),g.encodeInitMessageHeaders=!0;const w=l.join("");oe(Qt,`Creating RPC '${e}' stream ${o}: ${w}`,g);const E=h.createWebChannel(w,g);this.I_(E);let I=!1,b=!1;const H=new cA({Yo:U=>{b?oe(Qt,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(I||(oe(Qt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),I=!0),oe(Qt,`RPC '${e}' stream ${o} sending:`,U),E.send(U))},Zo:()=>E.close()}),W=(U,J,ne)=>{U.listen(J,(fe=>{try{ne(fe)}catch(me){setTimeout((()=>{throw me}),0)}}))};return W(E,Za.EventType.OPEN,(()=>{b||(oe(Qt,`RPC '${e}' stream ${o} transport opened.`),H.o_())})),W(E,Za.EventType.CLOSE,(()=>{b||(b=!0,oe(Qt,`RPC '${e}' stream ${o} transport closed`),H.a_(),this.E_(E))})),W(E,Za.EventType.ERROR,(U=>{b||(b=!0,Ko(Qt,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),H.a_(new ge(Y.UNAVAILABLE,"The operation could not be completed")))})),W(E,Za.EventType.MESSAGE,(U=>{var J;if(!b){const ne=U.data[0];He(!!ne,16349);const fe=ne,me=(fe==null?void 0:fe.error)||((J=fe[0])==null?void 0:J.error);if(me){oe(Qt,`RPC '${e}' stream ${o} received error:`,me);const De=me.status;let ae=(function(P){const x=Tt[P];if(x!==void 0)return Y_(x)})(De),N=me.message;ae===void 0&&(ae=Y.INTERNAL,N="Unknown error status: "+De+" with message "+me.message),b=!0,H.a_(new ge(ae,N)),E.close()}else oe(Qt,`RPC '${e}' stream ${o} received:`,ne),H.u_(ne)}})),W(f,p_.STAT_EVENT,(U=>{U.stat===tf.PROXY?oe(Qt,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===tf.NOPROXY&&oe(Qt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Fd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(n){return new m1(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,t,i=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-i);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="PersistentStream";class cw{constructor(e,t,i,o,l,h,f,g){this.Mi=e,this.S_=i,this.b_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new uw(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Y.RESOURCE_EXHAUSTED?(hi(t.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===t&&this.G_(i,o)}),(i=>{e((()=>{const o=new ge(Y.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(Qy,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(oe(Qy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class dA extends cw{constructor(e,t,i,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=v1(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Ae.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Ae.min():h.readTime?Or(h.readTime):Ae.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=df(this.serializer),t.addTarget=(function(l,h){let f;const g=h.target;if(f=af(g)?{documents:E1(l,g)}:{query:T1(l,g).ft},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=J_(l,h.resumeToken);const y=uf(l,h.expectedCount);y!==null&&(f.expectedCount=y)}else if(h.snapshotVersion.compareTo(Ae.min())>0){f.readTime=gc(l,h.snapshotVersion.toTimestamp());const y=uf(l,h.expectedCount);y!==null&&(f.expectedCount=y)}return f})(this.serializer,e);const i=S1(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=df(this.serializer),t.removeTarget=e,this.q_(t)}}class fA extends cw{constructor(e,t,i,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=w1(e.writeResults,e.commitTime),i=Or(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=df(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>_1(this.serializer,i)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{}class mA extends pA{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ge(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,h])=>this.connection.Go(e,cf(t,i),o,l,h))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(Y.UNKNOWN,l.toString())}))}Ho(e,t,i,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,f])=>this.connection.Ho(e,cf(t,i),o,h,f,l))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ge(Y.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class gA{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hi(t),this.aa=!1):oe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="RemoteStore";class yA{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((h=>{i.enqueueAndForget((async()=>{Qs(this)&&(oe(Hs,"Restarting streams for network reachability change."),await(async function(g){const y=Pe(g);y.Ea.add(4),await Pl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Bc(y)})(this))}))})),this.Ra=new gA(i,o)}}async function Bc(n){if(Qs(n))for(const e of n.da)await e(!0)}async function Pl(n){for(const e of n.da)await e(!1)}function hw(n,e){const t=Pe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),ap(t)?op(t):oa(t).O_()&&sp(t,e))}function ip(n,e){const t=Pe(n),i=oa(t);t.Ia.delete(e),i.O_()&&dw(t,e),t.Ia.size===0&&(i.O_()?i.L_():Qs(t)&&t.Ra.set("Unknown"))}function sp(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}oa(n).Y_(e)}function dw(n,e){n.Va.Ue(e),oa(n).Z_(e)}function op(n){n.Va=new h1({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),oa(n).start(),n.Ra.ua()}function ap(n){return Qs(n)&&!oa(n).x_()&&n.Ia.size>0}function Qs(n){return Pe(n).Ea.size===0}function fw(n){n.Va=void 0}async function vA(n){n.Ra.set("Online")}async function _A(n){n.Ia.forEach(((e,t)=>{sp(n,e)}))}async function wA(n,e){fw(n),ap(n)?(n.Ra.ha(e),op(n)):n.Ra.set("Unknown")}async function EA(n,e,t){if(n.Ra.set("Online"),e instanceof X_&&e.state===2&&e.cause)try{await(async function(o,l){const h=l.cause;for(const f of l.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,h),o.Ia.delete(f),o.Va.removeTarget(f))})(n,e)}catch(i){oe(Hs,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await vc(n,i)}else if(e instanceof Zu?n.Va.Ze(e):e instanceof Q_?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ae.min()))try{const i=await lw(n.localStore);t.compareTo(i)>=0&&await(function(l,h){const f=l.Va.Tt(h);return f.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const w=l.Ia.get(y);w&&l.Ia.set(y,w.withResumeToken(g.resumeToken,h))}})),f.targetMismatches.forEach(((g,y)=>{const w=l.Ia.get(g);if(!w)return;l.Ia.set(g,w.withResumeToken($t.EMPTY_BYTE_STRING,w.snapshotVersion)),dw(l,g);const E=new Ki(w.target,g,y,w.sequenceNumber);sp(l,E)})),l.remoteSyncer.applyRemoteEvent(f)})(n,t)}catch(i){oe(Hs,"Failed to raise snapshot:",i),await vc(n,i)}}async function vc(n,e,t){if(!sa(e))throw e;n.Ea.add(1),await Pl(n),n.Ra.set("Offline"),t||(t=()=>lw(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{oe(Hs,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Bc(n)}))}function pw(n,e){return e().catch((t=>vc(n,t,e)))}async function $c(n){const e=Pe(n),t=ss(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Hf;for(;TA(e);)try{const o=await rA(e.localStore,i);if(o===null){e.Ta.length===0&&t.L_();break}i=o.batchId,IA(e,o)}catch(o){await vc(e,o)}mw(e)&&gw(e)}function TA(n){return Qs(n)&&n.Ta.length<10}function IA(n,e){n.Ta.push(e);const t=ss(n);t.O_()&&t.X_&&t.ea(e.mutations)}function mw(n){return Qs(n)&&!ss(n).x_()&&n.Ta.length>0}function gw(n){ss(n).start()}async function SA(n){ss(n).ra()}async function AA(n){const e=ss(n);for(const t of n.Ta)e.ea(t.mutations)}async function CA(n,e,t){const i=n.Ta.shift(),o=Xf.from(i,e,t);await pw(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await $c(n)}async function PA(n,e){e&&ss(n).X_&&await(async function(i,o){if((function(h){return l1(h)&&h!==Y.ABORTED})(o.code)){const l=i.Ta.shift();ss(i).B_(),await pw(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o))),await $c(i)}})(n,e),mw(n)&&gw(n)}async function Xy(n,e){const t=Pe(n);t.asyncQueue.verifyOperationInProgress(),oe(Hs,"RemoteStore received new credentials");const i=Qs(t);t.Ea.add(3),await Pl(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Bc(t)}async function kA(n,e){const t=Pe(n);e?(t.Ea.delete(2),await Bc(t)):e||(t.Ea.add(2),await Pl(t),t.Ra.set("Unknown"))}function oa(n){return n.ma||(n.ma=(function(t,i,o){const l=Pe(t);return l.sa(),new dA(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Xo:vA.bind(null,n),t_:_A.bind(null,n),r_:wA.bind(null,n),H_:EA.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),ap(n)?op(n):n.Ra.set("Unknown")):(await n.ma.stop(),fw(n))}))),n.ma}function ss(n){return n.fa||(n.fa=(function(t,i,o){const l=Pe(t);return l.sa(),new fA(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:SA.bind(null,n),r_:PA.bind(null,n),ta:AA.bind(null,n),na:CA.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await $c(n)):(await n.fa.stop(),n.Ta.length>0&&(oe(Hs,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new Zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const h=Date.now()+i,f=new lp(e,t,h,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function up(n,e){if(hi("AsyncQueue",`${e}: ${n}`),sa(n))return new ge(Y.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{static emptySet(e){return new Bo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||we.comparator(t.key,i.key):(t,i)=>we.comparator(t.key,i.key),this.keyedMap=el(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Bo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Bo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(){this.ga=new pt(we.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class Zo{constructor(e,t,i,o,l,h,f,g,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const h=[];return t.forEach((f=>{h.push({type:0,doc:f})})),new Zo(e,t,Bo.emptySet(t),h,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class DA{constructor(){this.queries=Zy(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const o=Pe(t),l=o.queries;o.queries=Zy(),l.forEach(((h,f)=>{for(const g of f.Sa)g.onError(i)}))})(this,new ge(Y.ABORTED,"Firestore shutting down"))}}function Zy(){return new Ks((n=>L_(n)),Lc)}async function yw(n,e){const t=Pe(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(i=2):(l=new RA,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const f=up(h,`Initialization of query '${Lo(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&cp(t)}async function vw(n,e){const t=Pe(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const h=l.Sa.indexOf(e);h>=0&&(l.Sa.splice(h,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function NA(n,e){const t=Pe(n);let i=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const f of h.Sa)f.Fa(o)&&(i=!0);h.wa=o}}i&&cp(t)}function xA(n,e,t){const i=Pe(n),o=i.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);i.queries.delete(e)}function cp(n){n.Ca.forEach((e=>{e.next()}))}var mf,ev;(ev=mf||(mf={})).Ma="default",ev.Cache="cache";class _w{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Zo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Zo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==mf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e){this.key=e}}class Ew{constructor(e){this.key=e}}class OA{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Me(),this.mutatedKeys=Me(),this.eu=M_(e),this.tu=new Bo(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new Jy,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,f=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,E)=>{const I=o.get(w),b=Mc(this.query,E)?E:null,H=!!I&&this.mutatedKeys.has(I.key),W=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let U=!1;I&&b?I.data.isEqual(b.data)?H!==W&&(i.track({type:3,doc:b}),U=!0):this.su(I,b)||(i.track({type:2,doc:b}),U=!0,(g&&this.eu(b,g)>0||y&&this.eu(b,y)<0)&&(f=!0)):!I&&b?(i.track({type:0,doc:b}),U=!0):I&&!b&&(i.track({type:1,doc:I}),U=!0,(g||y)&&(f=!0)),U&&(b?(h=h.add(b),l=W?l.add(w):l.delete(w)):(h=h.delete(w),l=l.delete(w)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),l=l.delete(w.key),i.track({type:1,doc:w})}return{tu:h,iu:i,Cs:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((w,E)=>(function(b,H){const W=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:U})}};return W(b)-W(H)})(w.type,E.type)||this.eu(w.doc,E.doc))),this.ou(i),o=o??!1;const f=t&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,h.length!==0||y?{snapshot:new Zo(this.query,e.tu,l,h,e.mutatedKeys,g===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Jy,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Me(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new Ew(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new ww(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=Me();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Zo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const hp="SyncEngine";class bA{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class VA{constructor(e){this.key=e,this.hu=!1}}class LA{constructor(e,t,i,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Ks((f=>L_(f)),Lc),this.Iu=new Map,this.Eu=new Set,this.du=new pt(we.comparator),this.Au=new Map,this.Ru=new ep,this.Vu={},this.mu=new Map,this.fu=Jo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function MA(n,e,t=!0){const i=Pw(n);let o;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await Tw(i,e,t,!0),o}async function FA(n,e){const t=Pw(n);await Tw(t,e,!0,!1)}async function Tw(n,e,t,i){const o=await iA(n.localStore,xr(e)),l=o.targetId,h=n.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await jA(n,e,l,h==="current",o.resumeToken)),n.isPrimaryClient&&t&&hw(n.remoteStore,o),f}async function jA(n,e,t,i,o){n.pu=(E,I,b)=>(async function(W,U,J,ne){let fe=U.view.ru(J);fe.Cs&&(fe=await qy(W.localStore,U.query,!1).then((({documents:N})=>U.view.ru(N,fe))));const me=ne&&ne.targetChanges.get(U.targetId),De=ne&&ne.targetMismatches.get(U.targetId)!=null,ae=U.view.applyChanges(fe,W.isPrimaryClient,me,De);return nv(W,U.targetId,ae.au),ae.snapshot})(n,E,I,b);const l=await qy(n.localStore,e,!0),h=new OA(e,l.Qs),f=h.ru(l.documents),g=Cl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=h.applyChanges(f,n.isPrimaryClient,g);nv(n,t,y.au);const w=new bA(e,t,h);return n.Tu.set(e,w),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),y.snapshot}async function UA(n,e,t){const i=Pe(n),o=i.Tu.get(e),l=i.Iu.get(o.targetId);if(l.length>1)return i.Iu.set(o.targetId,l.filter((h=>!Lc(h,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await ff(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),t&&ip(i.remoteStore,o.targetId),gf(i,o.targetId)})).catch(ia)):(gf(i,o.targetId),await ff(i.localStore,o.targetId,!0))}async function zA(n,e){const t=Pe(n),i=t.Tu.get(e),o=t.Iu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),ip(t.remoteStore,i.targetId))}async function BA(n,e,t){const i=YA(n);try{const o=await(function(h,f){const g=Pe(h),y=it.now(),w=f.reduce(((b,H)=>b.add(H.key)),Me());let E,I;return g.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let H=di(),W=Me();return g.Ns.getEntries(b,w).next((U=>{H=U,H.forEach(((J,ne)=>{ne.isValidDocument()||(W=W.add(J))}))})).next((()=>g.localDocuments.getOverlayedDocuments(b,H))).next((U=>{E=U;const J=[];for(const ne of f){const fe=r1(ne,E.get(ne.key).overlayedDocument);fe!=null&&J.push(new Ys(ne.key,fe,R_(fe.value.mapValue),ui.exists(!0)))}return g.mutationQueue.addMutationBatch(b,y,J,f)})).next((U=>{I=U;const J=U.applyToLocalDocumentSet(E,W);return g.documentOverlayCache.saveOverlays(b,U.batchId,J)}))})).then((()=>({batchId:I.batchId,changes:j_(E)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(h,f,g){let y=h.Vu[h.currentUser.toKey()];y||(y=new pt(Le)),y=y.insert(f,g),h.Vu[h.currentUser.toKey()]=y})(i,o.batchId,t),await kl(i,o.changes),await $c(i.remoteStore)}catch(o){const l=up(o,"Failed to persist write");t.reject(l)}}async function Iw(n,e){const t=Pe(n);try{const i=await tA(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const h=t.Au.get(l);h&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?He(h.hu,14607):o.removedDocuments.size>0&&(He(h.hu,42227),h.hu=!1))})),await kl(t,i,e)}catch(i){await ia(i)}}function tv(n,e,t){const i=Pe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Tu.forEach(((l,h)=>{const f=h.view.va(e);f.snapshot&&o.push(f.snapshot)})),(function(h,f){const g=Pe(h);g.onlineState=f;let y=!1;g.queries.forEach(((w,E)=>{for(const I of E.Sa)I.va(f)&&(y=!0)})),y&&cp(g)})(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function $A(n,e,t){const i=Pe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Au.get(e),l=o&&o.key;if(l){let h=new pt(we.comparator);h=h.insert(l,Jt.newNoDocument(l,Ae.min()));const f=Me().add(l),g=new Uc(Ae.min(),new Map,new pt(Le),h,f);await Iw(i,g),i.du=i.du.remove(l),i.Au.delete(e),dp(i)}else await ff(i.localStore,e,!1).then((()=>gf(i,e,t))).catch(ia)}async function WA(n,e){const t=Pe(n),i=e.batch.batchId;try{const o=await eA(t.localStore,e);Aw(t,i,null),Sw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await kl(t,o)}catch(o){await ia(o)}}async function HA(n,e,t){const i=Pe(n);try{const o=await(function(h,f){const g=Pe(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let w;return g.mutationQueue.lookupMutationBatch(y,f).next((E=>(He(E!==null,37113),w=E.keys(),g.mutationQueue.removeMutationBatch(y,E)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,w,f))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w))).next((()=>g.localDocuments.getDocuments(y,w)))}))})(i.localStore,e);Aw(i,e,t),Sw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await kl(i,o)}catch(o){await ia(o)}}function Sw(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function Aw(n,e,t){const i=Pe(n);let o=i.Vu[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function gf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((i=>{n.Ru.containsKey(i)||Cw(n,i)}))}function Cw(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(ip(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),dp(n))}function nv(n,e,t){for(const i of t)i instanceof ww?(n.Ru.addReference(i.key,e),qA(n,i)):i instanceof Ew?(oe(hp,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||Cw(n,i.key)):Te(19791,{wu:i})}function qA(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(oe(hp,"New document in limbo: "+t),n.Eu.add(i),dp(n))}function dp(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new we(dt.fromString(e)),i=n.fu.next();n.Au.set(i,new VA(t)),n.du=n.du.insert(t,i),hw(n.remoteStore,new Ki(xr(Vc(t.path)),i,"TargetPurposeLimboResolution",Nc.ce))}}async function kl(n,e,t){const i=Pe(n),o=[],l=[],h=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,g)=>{h.push(i.pu(g,e,t).then((y=>{var w;if((y||t)&&i.isPrimaryClient){const E=y?!y.fromCache:(w=t==null?void 0:t.targetChanges.get(g.targetId))==null?void 0:w.current;i.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=np.As(g.targetId,y);l.push(E)}})))})),await Promise.all(h),i.Pu.H_(o),await(async function(g,y){const w=Pe(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>G.forEach(y,(I=>G.forEach(I.Es,(b=>w.persistence.referenceDelegate.addReference(E,I.targetId,b))).next((()=>G.forEach(I.ds,(b=>w.persistence.referenceDelegate.removeReference(E,I.targetId,b)))))))))}catch(E){if(!sa(E))throw E;oe(rp,"Failed to update sequence numbers: "+E)}for(const E of y){const I=E.targetId;if(!E.fromCache){const b=w.Ms.get(I),H=b.snapshotVersion,W=b.withLastLimboFreeSnapshotVersion(H);w.Ms=w.Ms.insert(I,W)}}})(i.localStore,l))}async function GA(n,e){const t=Pe(n);if(!t.currentUser.isEqual(e)){oe(hp,"User change. New user:",e.toKey());const i=await aw(t.localStore,e);t.currentUser=e,(function(l,h){l.mu.forEach((f=>{f.forEach((g=>{g.reject(new ge(Y.CANCELLED,h))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await kl(t,i.Ls)}}function KA(n,e){const t=Pe(n),i=t.Au.get(e);if(i&&i.hu)return Me().add(i.key);{let o=Me();const l=t.Iu.get(e);if(!l)return o;for(const h of l){const f=t.Tu.get(h);o=o.unionWith(f.view.nu)}return o}}function Pw(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Iw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$A.bind(null,e),e.Pu.H_=NA.bind(null,e.eventManager),e.Pu.yu=xA.bind(null,e.eventManager),e}function YA(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HA.bind(null,e),e}class _c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Z1(this.persistence,new Q1,e.initialUser,this.serializer)}Cu(e){return new ow(tp.mi,this.serializer)}Du(e){return new oA}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_c.provider={build:()=>new _c};class QA extends _c{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){He(this.persistence.referenceDelegate instanceof yc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new V1(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new ow((i=>yc.mi(i,t)),this.serializer)}}class yf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>tv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=GA.bind(null,this.syncEngine),await kA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new DA})()}createDatastore(e){const t=zc(e.databaseInfo.databaseId),i=(function(l){return new hA(l)})(e.databaseInfo);return(function(l,h,f,g){return new mA(l,h,f,g)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,o,l,h,f){return new yA(i,o,l,h,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>tv(this.syncEngine,t,0)),(function(){return Yy.v()?new Yy:new aA})())}createSyncEngine(e,t){return(function(o,l,h,f,g,y,w){const E=new LA(o,l,h,f,g,y);return w&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const l=Pe(o);oe(Hs,"RemoteStore shutting down."),l.Ea.add(5),await Pl(l),l.Aa.shutdown(),l.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}yf.provider={build:()=>new yf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="FirestoreClient";class XA{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Xt.UNAUTHENTICATED,this.clientId=$f.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async h=>{oe(os,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(i,(h=>(oe(os,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=up(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function jd(n,e){n.asyncQueue.verifyOperationInProgress(),oe(os,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async o=>{i.isEqual(o)||(await aw(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function rv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await JA(n);oe(os,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>Xy(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,o)=>Xy(e.remoteStore,o))),n._onlineComponents=e}async function JA(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){oe(os,"Using user provided OfflineComponentProvider");try{await jd(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Ko("Error using user provided cache. Falling back to memory cache: "+t),await jd(n,new _c)}}else oe(os,"Using default OfflineComponentProvider"),await jd(n,new QA(void 0));return n._offlineComponents}async function Rw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(oe(os,"Using user provided OnlineComponentProvider"),await rv(n,n._uninitializedComponentsProvider._online)):(oe(os,"Using default OnlineComponentProvider"),await rv(n,new yf))),n._onlineComponents}function ZA(n){return Rw(n).then((e=>e.syncEngine))}async function vf(n){const e=await Rw(n),t=e.eventManager;return t.onListen=MA.bind(null,e.syncEngine),t.onUnlisten=UA.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=FA.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=zA.bind(null,e.syncEngine),t}function eC(n,e,t={}){const i=new Zi;return n.asyncQueue.enqueueAndForget((async()=>(function(l,h,f,g,y){const w=new kw({next:I=>{w.Nu(),h.enqueueAndForget((()=>vw(l,E)));const b=I.docs.has(f);!b&&I.fromCache?y.reject(new ge(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&I.fromCache&&g&&g.source==="server"?y.reject(new ge(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(I)},error:I=>y.reject(I)}),E=new _w(Vc(f.path),w,{includeMetadataChanges:!0,qa:!0});return yw(l,E)})(await vf(n),n.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="firestore.googleapis.com",sv=!0;class ov{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Nw,this.ssl=sv}else this.host=e.host,this.ssl=e.ssl??sv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<O1)throw new ge(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Dw(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ge(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ge(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ge(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fp{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ov({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ov(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new sS;switch(i.type){case"firstParty":return new uS(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ge(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=iv.get(t);i&&(oe("ComponentProvider","Removing Datastore"),iv.delete(t),i.terminate())})(this),Promise.resolve()}}function tC(n,e,t,i={}){var y;n=es(n,fp);const o=ta(e),l=n._getSettings(),h={...l,emulatorOptions:n._getEmulatorOptions()},f=`${e}:${t}`;o&&(r_(`https://${f}`),i_("Firestore",!0)),l.host!==Nw&&l.host!==f&&Ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...l,host:f,ssl:o,emulatorOptions:i};if(!Bs(g,h)&&(n._setSettings(g),i.mockUserToken)){let w,E;if(typeof i.mockUserToken=="string")w=i.mockUserToken,E=Xt.MOCK_USER;else{w=xT(i.mockUserToken,(y=n._app)==null?void 0:y.options.projectId);const I=i.mockUserToken.sub||i.mockUserToken.user_id;if(!I)throw new ge(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Xt(I)}n._authCredentials=new oS(new v_(w,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Wc(this.firestore,e,this._query)}}class Dt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dt(this.firestore,e,this._key)}toJSON(){return{type:Dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Sl(t,Dt._jsonSchema))return new Dt(e,i||null,new we(dt.fromString(t.referencePath)))}}Dt._jsonSchemaVersion="firestore/documentReference/1.0",Dt._jsonSchema={type:It("string",Dt._jsonSchemaVersion),referencePath:It("string")};class yl extends Wc{constructor(e,t,i){super(e,t,Vc(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new we(e))}withConverter(e){return new yl(this.firestore,e,this._path)}}function Qa(n,e,...t){if(n=Rn(n),arguments.length===1&&(e=$f.newId()),mS("doc","path",e),n instanceof fp){const i=dt.fromString(e,...t);return wy(i),new Dt(n,null,new we(i))}{if(!(n instanceof Dt||n instanceof yl))throw new ge(Y.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(dt.fromString(e,...t));return wy(i),new Dt(n.firestore,n instanceof yl?n.converter:null,new we(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="AsyncQueue";class lv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new uw(this,"async_queue_retry"),this._c=()=>{const i=Fd();i&&oe(av,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=Fd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Fd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Zi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!sa(e))throw e;oe(av,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,hi("INTERNAL UNHANDLED ERROR: ",uv(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=lp.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:uv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function uv(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(n){return(function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of i)if(l in o&&typeof o[l]=="function")return!0;return!1})(n,["next","error","complete"])}class vl extends fp{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new lv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lv(e),this._firestoreClient=void 0,await e}}}function nC(n,e){const t=typeof n=="object"?n:l_(),i=typeof n=="string"?n:cc,o=zf(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=DT("firestore");l&&tC(o,...l)}return o}function pp(n){if(n._terminated)throw new ge(Y.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||rC(n),n._firestoreClient}function rC(n){var i,o,l;const e=n._freezeSettings(),t=(function(f,g,y,w){return new PS(f,g,y,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,Dw(w.experimentalLongPollingOptions),w.useFetchStreams,w.isUsingEmulator)})(n._databaseId,((i=n._app)==null?void 0:i.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new XA(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(f){const g=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(g),_online:g}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wn($t.fromBase64String(e))}catch(t){throw new ge(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Wn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Sl(e,Wn._jsonSchema))return Wn.fromBase64String(e.bytes)}}Wn._jsonSchemaVersion="firestore/bytes/1.0",Wn._jsonSchema={type:It("string",Wn._jsonSchemaVersion),bytes:It("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:br._jsonSchemaVersion}}static fromJSON(e){if(Sl(e,br._jsonSchema))return new br(e.latitude,e.longitude)}}br._jsonSchemaVersion="firestore/geoPoint/1.0",br._jsonSchema={type:It("string",br._jsonSchemaVersion),latitude:It("number"),longitude:It("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Vr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Sl(e,Vr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Vr(e.vectorValues);throw new ge(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vr._jsonSchemaVersion="firestore/vectorValue/1.0",Vr._jsonSchema={type:It("string",Vr._jsonSchemaVersion),vectorValues:It("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=/^__.*__$/;class sC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ys(e,this.data,this.fieldMask,t,this.fieldTransforms):new Al(e,this.data,t,this.fieldTransforms)}}function Ow(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:n})}}class gp{constructor(e,t,i,o,l,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new gp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return wc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Ow(this.Ac)&&iC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class oC{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||zc(e)}Cc(e,t,i,o=!1){return new gp({Ac:e,methodName:t,Dc:i,path:zt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function aC(n){const e=n._freezeSettings(),t=zc(n._databaseId);return new oC(n._databaseId,!!e.ignoreUndefinedProperties,t)}function lC(n,e,t,i,o,l={}){const h=n.Cc(l.merge||l.mergeFields?2:0,e,t,o);Mw("Data must be an object, but it was:",h,i);const f=Vw(i,h);let g,y;if(l.merge)g=new nr(h.fieldMask),y=h.fieldTransforms;else if(l.mergeFields){const w=[];for(const E of l.mergeFields){const I=uC(e,E,t);if(!h.contains(I))throw new ge(Y.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);hC(w,I)||w.push(I)}g=new nr(w),y=h.fieldTransforms.filter((E=>g.covers(E.field)))}else g=null,y=h.fieldTransforms;return new sC(new $n(f),g,y)}function bw(n,e){if(Lw(n=Rn(n)))return Mw("Unsupported field value:",e,n),Vw(n,e);if(n instanceof xw)return(function(i,o){if(!Ow(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,o){const l=[];let h=0;for(const f of i){let g=bw(f,o.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),h++}return{arrayValue:{values:l}}})(n,e)}return(function(i,o){if((i=Rn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return XS(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=it.fromDate(i);return{timestampValue:gc(o.serializer,l)}}if(i instanceof it){const l=new it(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:gc(o.serializer,l)}}if(i instanceof br)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Wn)return{bytesValue:J_(o.serializer,i._byteString)};if(i instanceof Dt){const l=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(l))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Zf(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Vr)return(function(h,f){return{mapValue:{fields:{[P_]:{stringValue:k_},[hc]:{arrayValue:{values:h.toArray().map((y=>{if(typeof y!="number")throw f.Sc("VectorValues must only contain numeric values.");return Qf(f.serializer,y)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${Wf(i)}`)})(n,e)}function Vw(n,e){const t={};return E_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gs(n,((i,o)=>{const l=bw(o,e.mc(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function Lw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof it||n instanceof br||n instanceof Wn||n instanceof Dt||n instanceof xw||n instanceof Vr)}function Mw(n,e,t){if(!Lw(t)||!__(t)){const i=Wf(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function uC(n,e,t){if((e=Rn(e))instanceof mp)return e._internalPath;if(typeof e=="string")return Fw(n,e);throw wc("Field path arguments must be of type string or ",n,!1,void 0,t)}const cC=new RegExp("[~\\*/\\[\\]]");function Fw(n,e,t){if(e.search(cC)>=0)throw wc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new mp(...e.split("."))._internalPath}catch{throw wc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function wc(n,e,t,i,o){const l=i&&!i.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(l||h)&&(g+=" (found",l&&(g+=` in field ${i}`),h&&(g+=` in document ${o}`),g+=")"),new ge(Y.INVALID_ARGUMENT,f+n+g)}function hC(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Uw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class dC extends jw{data(){return super.data()}}function Uw(n,e){return typeof e=="string"?Fw(n,e):e instanceof mp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ge(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pC{convertValue(e,t="none"){switch(is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Gs(e,((o,l)=>{i[o]=this.convertValue(l,t)})),i}convertVectorValue(e){var i,o,l;const t=(l=(o=(i=e.fields)==null?void 0:i[hc].arrayValue)==null?void 0:o.values)==null?void 0:l.map((h=>vt(h.doubleValue)));return new Vr(t)}convertGeoPoint(e){return new br(vt(e.latitude),vt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Oc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(dl(e));default:return null}}convertTimestamp(e){const t=ns(e);return new it(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=dt.fromString(e);He(iw(i),9688,{name:e});const o=new fl(i.get(1),i.get(3)),l=new we(i.popFirst(5));return o.isEqual(t)||hi(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(n,e,t){let i;return i=n?n.toFirestore(e):e,i}class nl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class js extends jw{constructor(e,t,i,o,l,h){super(e,t,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Uw("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=js._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}js._jsonSchemaVersion="firestore/documentSnapshot/1.0",js._jsonSchema={type:It("string",js._jsonSchemaVersion),bundleSource:It("string","DocumentSnapshot"),bundleName:It("string"),bundle:It("string")};class ec extends js{data(e={}){return super.data(e)}}class $o{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new nl(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new ec(this._firestore,this._userDataWriter,i.key,i,new nl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((f=>{const g=new ec(o._firestore,o._userDataWriter,f.doc.key,f.doc,new nl(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const g=new ec(o._firestore,o._userDataWriter,f.doc.key,f.doc,new nl(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,w=-1;return f.type!==0&&(y=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),w=h.indexOf(f.doc.key)),{type:gC(f.type),doc:g,oldIndex:y,newIndex:w}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$o._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$f.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function gC(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(n){n=es(n,Dt);const e=es(n.firestore,vl);return eC(pp(e),n._key).then((t=>Bw(e,n,t)))}$o._jsonSchemaVersion="firestore/querySnapshot/1.0",$o._jsonSchema={type:It("string",$o._jsonSchemaVersion),bundleSource:It("string","QuerySnapshot"),bundleName:It("string"),bundle:It("string")};class zw extends pC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,t)}}function dv(n,e,t){n=es(n,Dt);const i=es(n.firestore,vl),o=mC(n.converter,e);return vC(i,[lC(aC(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,ui.none())])}function yC(n,...e){var g,y,w;n=Rn(n);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||cv(e[i])||(t=e[i++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(cv(e[i])){const E=e[i];e[i]=(g=E.next)==null?void 0:g.bind(E),e[i+1]=(y=E.error)==null?void 0:y.bind(E),e[i+2]=(w=E.complete)==null?void 0:w.bind(E)}let l,h,f;if(n instanceof Dt)h=es(n.firestore,vl),f=Vc(n._key.path),l={next:E=>{e[i]&&e[i](Bw(h,n,E))},error:e[i+1],complete:e[i+2]};else{const E=es(n,Wc);h=es(E.firestore,vl),f=E._query;const I=new zw(h);l={next:b=>{e[i]&&e[i](new $o(h,I,E,b))},error:e[i+1],complete:e[i+2]},fC(n._query)}return(function(I,b,H,W){const U=new kw(W),J=new _w(b,U,H);return I.asyncQueue.enqueueAndForget((async()=>yw(await vf(I),J))),()=>{U.Nu(),I.asyncQueue.enqueueAndForget((async()=>vw(await vf(I),J)))}})(pp(h),f,o,l)}function vC(n,e){return(function(i,o){const l=new Zi;return i.asyncQueue.enqueueAndForget((async()=>BA(await ZA(i),o,l))),l.promise})(pp(n),e)}function Bw(n,e,t){const i=t.docs.get(e._key),o=new zw(n);return new js(n,o,e._key,i,new nl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){ra=o})(na),Go(new $s("firestore",((i,{instanceIdentifier:o,options:l})=>{const h=i.getProvider("app").getImmediate(),f=new vl(new aS(i.getProvider("auth-internal")),new cS(h,i.getProvider("app-check-internal")),(function(y,w){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ge(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fl(y.options.projectId,w)})(h,o),h);return l={useFetchStreams:t,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Xi(gy,yy,e),Xi(gy,yy,"esm2020")})();var _C="firebase",wC="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xi(_C,wC,"app");function $w(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const EC=$w,Ww=new Tl("auth","Firebase",$w());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=new jf("@firebase/auth");function TC(n,...e){Ec.logLevel<=Ve.WARN&&Ec.warn(`Auth (${na}): ${n}`,...e)}function tc(n,...e){Ec.logLevel<=Ve.ERROR&&Ec.error(`Auth (${na}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(n,...e){throw vp(n,...e)}function ir(n,...e){return vp(n,...e)}function yp(n,e,t){const i={...EC(),[e]:t};return new Tl("auth","Firebase",i).create(e,{appName:n.name})}function Us(n){return yp(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function IC(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&jr(n,"argument-error"),yp(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Ww.create(n,...e)}function Se(n,e,...t){if(!n)throw vp(e,...t)}function ai(n){const e="INTERNAL ASSERTION FAILED: "+n;throw tc(e),new Error(e)}function fi(n,e){n||ai(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function SC(){return fv()==="http:"||fv()==="https:"}function fv(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SC()||FT()||"connection"in navigator)?navigator.onLine:!0}function CC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,t){this.shortDelay=e,this.longDelay=t,fi(t>e,"Short delay should be less than long delay!"),this.isMobile=VT()||jT()}get(){return AC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(n,e){fi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RC=new Rl(3e4,6e4);function wp(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function aa(n,e,t,i,o={}){return qw(n,o,async()=>{let l={},h={};i&&(e==="GET"?h=i:l={body:JSON.stringify(i)});const f=Il({key:n.config.apiKey,...h}).slice(1),g=await n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);const y={method:e,headers:g,...l};return MT()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&ta(n.emulatorConfig.host)&&(y.credentials="include"),Hw.fetch()(await Gw(n,n.config.apiHost,t,f),y)})}async function qw(n,e,t){n._canInitEmulator=!1;const i={...PC,...e};try{const o=new NC(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw Wu(n,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const f=l.ok?h.errorMessage:h.error.message,[g,y]=f.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wu(n,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Wu(n,"email-already-in-use",h);if(g==="USER_DISABLED")throw Wu(n,"user-disabled",h);const w=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw yp(n,w,y);jr(n,w)}}catch(o){if(o instanceof pi)throw o;jr(n,"network-request-failed",{message:String(o)})}}async function DC(n,e,t,i,o={}){const l=await aa(n,e,t,i,o);return"mfaPendingCredential"in l&&jr(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function Gw(n,e,t,i){const o=`${e}${t}?${i}`,l=n,h=l.config.emulator?_p(n.config,o):`${n.config.apiScheme}://${o}`;return kC.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(h).toString():h}class NC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ir(this.auth,"network-request-failed")),RC.get())})}}function Wu(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=ir(n,e,i);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xC(n,e){return aa(n,"POST","/v1/accounts:delete",e)}async function Tc(n,e){return aa(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OC(n,e=!1){const t=Rn(n),i=await t.getIdToken(e),o=Ep(i);Se(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:ul(Ud(o.auth_time)),issuedAtTime:ul(Ud(o.iat)),expirationTime:ul(Ud(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Ud(n){return Number(n)*1e3}function Ep(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return tc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Zv(t);return o?JSON.parse(o):(tc("Failed to decode base64 JWT payload"),null)}catch(o){return tc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function pv(n){const e=Ep(n);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof pi&&bC(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function bC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ul(this.lastLoginAt),this.creationTime=ul(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ic(n){var E;const e=n.auth,t=await n.getIdToken(),i=await _l(n,Tc(e,{idToken:t}));Se(i==null?void 0:i.users.length,e,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const l=(E=o.providerUserInfo)!=null&&E.length?Kw(o.providerUserInfo):[],h=MC(n.providerData,l),f=n.isAnonymous,g=!(n.email&&o.passwordHash)&&!(h!=null&&h.length),y=f?g:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new wf(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,w)}async function LC(n){const e=Rn(n);await Ic(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function MC(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function Kw(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FC(n,e){const t=await qw(n,{},async()=>{const i=Il({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,h=await Gw(n,o,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:f,body:i};return n.emulatorConfig&&ta(n.emulatorConfig.host)&&(g.credentials="include"),Hw.fetch()(h,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function jC(n,e){return aa(n,"POST","/v2/accounts:revokeToken",wp(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=pv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await FC(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,h=new Wo;return i&&(Se(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(Se(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(Se(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wo,this.toJSON())}_performRefresh(){return ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(n,e){Se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class rr{constructor({uid:e,auth:t,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new VC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new wf(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await _l(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return OC(this,e)}reload(){return LC(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new rr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Ic(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(tr(this.auth.app))return Promise.reject(Us(this.auth));const e=await this.getIdToken();return await _l(this,xC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,h=t.photoURL??void 0,f=t.tenantId??void 0,g=t._redirectEventId??void 0,y=t.createdAt??void 0,w=t.lastLoginAt??void 0,{uid:E,emailVerified:I,isAnonymous:b,providerData:H,stsTokenManager:W}=t;Se(E&&W,e,"internal-error");const U=Wo.fromJSON(this.name,W);Se(typeof E=="string",e,"internal-error"),Wi(i,e.name),Wi(o,e.name),Se(typeof I=="boolean",e,"internal-error"),Se(typeof b=="boolean",e,"internal-error"),Wi(l,e.name),Wi(h,e.name),Wi(f,e.name),Wi(g,e.name),Wi(y,e.name),Wi(w,e.name);const J=new rr({uid:E,auth:e,email:o,emailVerified:I,displayName:i,isAnonymous:b,photoURL:h,phoneNumber:l,tenantId:f,stsTokenManager:U,createdAt:y,lastLoginAt:w});return H&&Array.isArray(H)&&(J.providerData=H.map(ne=>({...ne}))),g&&(J._redirectEventId=g),J}static async _fromIdTokenResponse(e,t,i=!1){const o=new Wo;o.updateFromServerResponse(t);const l=new rr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Ic(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Se(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?Kw(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),f=new Wo;f.updateFromIdToken(i);const g=new rr({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new wf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=new Map;function li(n){fi(n instanceof Function,"Expected a class definition");let e=mv.get(n);return e?(fi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,mv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Yw.type="NONE";const gv=Yw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(n,e,t){return`firebase:${n}:${e}:${t}`}class Ho{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=nc(this.userKey,o.apiKey,l),this.fullPersistenceKey=nc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Tc(this.auth,{idToken:e}).catch(()=>{});return t?rr._fromGetAccountInfoResponse(this.auth,t,e):null}return rr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Ho(li(gv),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||li(gv);const h=nc(i,e.config.apiKey,e.name);let f=null;for(const y of t)try{const w=await y._get(h);if(w){let E;if(typeof w=="string"){const I=await Tc(e,{idToken:w}).catch(()=>{});if(!I)break;E=await rr._fromGetAccountInfoResponse(e,I,w)}else E=rr._fromJSON(e,w);y!==l&&(f=E),l=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new Ho(l,e,i):(l=g[0],f&&await l._set(h,f.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(h)}catch{}})),new Ho(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Zw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Qw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tE(e))return"Blackberry";if(nE(e))return"Webos";if(Xw(e))return"Safari";if((e.includes("chrome/")||Jw(e))&&!e.includes("edge/"))return"Chrome";if(eE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Qw(n=Zt()){return/firefox\//i.test(n)}function Xw(n=Zt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Jw(n=Zt()){return/crios\//i.test(n)}function Zw(n=Zt()){return/iemobile/i.test(n)}function eE(n=Zt()){return/android/i.test(n)}function tE(n=Zt()){return/blackberry/i.test(n)}function nE(n=Zt()){return/webos/i.test(n)}function Tp(n=Zt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function UC(n=Zt()){var e;return Tp(n)&&!!((e=window.navigator)!=null&&e.standalone)}function zC(){return UT()&&document.documentMode===10}function rE(n=Zt()){return Tp(n)||eE(n)||nE(n)||tE(n)||/windows phone/i.test(n)||Zw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(n,e=[]){let t;switch(n){case"Browser":t=yv(Zt());break;case"Worker":t=`${yv(Zt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${na}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((h,f)=>{try{const g=e(l);h(g)}catch(g){f(g)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $C(n,e={}){return aa(n,"GET","/v2/passwordPolicy",wp(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=6;class HC{constructor(e){var i;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??WC,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vv(this),this.idTokenSubscription=new vv(this),this.beforeStateQueue=new BC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ww,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=li(t)),this._initializationPromise=this.queue(async()=>{var i,o,l;if(!this._deleted&&(this.persistenceManager=await Ho.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Tc(this,{idToken:e}),i=await rr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(tr(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(f,f))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(l=this.redirectUser)==null?void 0:l._redirectEventId,f=i==null?void 0:i._redirectEventId,g=await this.tryRedirectSignIn(e);(!h||h===f)&&(g!=null&&g.user)&&(i=g.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(h){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ic(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(tr(this.app))return Promise.reject(Us(this));const t=e?Rn(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return tr(this.app)?Promise.reject(Us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return tr(this.app)?Promise.reject(Us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $C(this),t=new HC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Tl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await jC(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&li(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await Ho.create(this,[li(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(f,this,"internal-error"),f.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,i,o);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;if(tr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&TC(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Hc(n){return Rn(n)}class vv{constructor(e){this.auth=e,this.observer=null,this.addObserver=KT(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ip={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GC(n){Ip=n}function KC(n){return Ip.loadJS(n)}function YC(){return Ip.gapiScript}function QC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(n,e){const t=zf(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Bs(l,e??{}))return o;jr(o,"already-initialized")}return t.initialize({options:e})}function JC(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(li);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function ZC(n,e,t){const i=Hc(n);Se(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=sE(e),{host:h,port:f}=eP(e),g=f===null?"":`:${f}`,y={url:`${l}//${h}${g}/`},w=Object.freeze({host:h,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Se(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Se(Bs(y,i.config.emulator)&&Bs(w,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=w,i.settings.appVerificationDisabledForTesting=!0,ta(h)?(r_(`${l}//${h}${g}`),i_("Auth",!0)):tP()}function sE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function eP(n){const e=sE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:_v(i.substr(l.length+1))}}else{const[l,h]=i.split(":");return{host:l,port:_v(h)}}}function _v(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function tP(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ai("not implemented")}_getIdTokenResponse(e){return ai("not implemented")}_linkToIdToken(e,t){return ai("not implemented")}_getReauthenticationResolver(e){return ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(n,e){return DC(n,"POST","/v1/accounts:signInWithIdp",wp(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP="http://localhost";class qs extends oE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):jr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...l}=t;if(!i||!o)return null;const h=new qs(i,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return qo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,qo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,qo(e,t)}buildRequest(){const e={requestUri:nP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Il(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl extends Sp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Dl{constructor(){super("facebook.com")}static credential(e){return qs._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends Dl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return qs._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return oi.credential(t,i)}catch{return null}}}oi.GOOGLE_SIGN_IN_METHOD="google.com";oi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Dl{constructor(){super("github.com")}static credential(e){return qs._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.GITHUB_SIGN_IN_METHOD="github.com";qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Dl{constructor(){super("twitter.com")}static credential(e,t){return qs._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Gi.credential(t,i)}catch{return null}}}Gi.TWITTER_SIGN_IN_METHOD="twitter.com";Gi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await rr._fromIdTokenResponse(e,i,o),h=wv(i);return new ea({user:l,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=wv(i);return new ea({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function wv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc extends pi{constructor(e,t,i,o){super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Sc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Sc(e,t,i,o)}}function aE(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Sc._fromErrorAndOperation(n,l,e,i):l})}async function rP(n,e,t=!1){const i=await _l(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ea._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iP(n,e,t=!1){const{auth:i}=n;if(tr(i.app))return Promise.reject(Us(i));const o="reauthenticate";try{const l=await _l(n,aE(i,o,e,n),t);Se(l.idToken,i,"internal-error");const h=Ep(l.idToken);Se(h,i,"internal-error");const{sub:f}=h;return Se(n.uid===f,i,"user-mismatch"),ea._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&jr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sP(n,e,t=!1){if(tr(n.app))return Promise.reject(Us(n));const i="signIn",o=await aE(n,i,e),l=await ea._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}function oP(n,e,t,i){return Rn(n).onIdTokenChanged(e,t,i)}function aP(n,e,t){return Rn(n).beforeAuthStateChanged(e,t)}function lP(n,e,t,i){return Rn(n).onAuthStateChanged(e,t,i)}function uP(n){return Rn(n).signOut()}const Ac="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ac,"1"),this.storage.removeItem(Ac),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP=1e3,hP=10;class uE extends lE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,f,g)=>{this.notifyListeners(h,g)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},l=this.storage.getItem(i);zC()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,hP):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},cP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}uE.type="LOCAL";const dP=uE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE extends lE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}cE.type="SESSION";const hE=cE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new qc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const f=Array.from(h).map(async y=>y(t.origin,l)),g=await fP(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((f,g)=>{const y=Ap("",20);o.port1.start();const w=setTimeout(()=>{g(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(E){const I=E;if(I.data.eventId===y)switch(I.data.status){case"ack":clearTimeout(w),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(I.data.response);break;default:clearTimeout(w),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(){return window}function mP(n){Lr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(){return typeof Lr().WorkerGlobalScope<"u"&&typeof Lr().importScripts=="function"}async function gP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function vP(){return dE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="firebaseLocalStorageDb",_P=1,Cc="firebaseLocalStorage",pE="fbase_key";class Nl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Gc(n,e){return n.transaction([Cc],e?"readwrite":"readonly").objectStore(Cc)}function wP(){const n=indexedDB.deleteDatabase(fE);return new Nl(n).toPromise()}function Ef(){const n=indexedDB.open(fE,_P);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Cc,{keyPath:pE})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Cc)?e(i):(i.close(),await wP(),e(await Ef()))})})}async function Ev(n,e,t){const i=Gc(n,!0).put({[pE]:e,value:t});return new Nl(i).toPromise()}async function EP(n,e){const t=Gc(n,!1).get(e),i=await new Nl(t).toPromise();return i===void 0?null:i.value}function Tv(n,e){const t=Gc(n,!0).delete(e);return new Nl(t).toPromise()}const TP=800,IP=3;class mE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ef(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>IP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qc._getInstance(vP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await gP(),!this.activeServiceWorker)return;this.sender=new pP(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ef();return await Ev(e,Ac,"1"),await Tv(e,Ac),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Ev(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>EP(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Tv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Gc(o,!1).getAll();return new Nl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mE.type="LOCAL";const SP=mE;new Rl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(n,e){return e?li(e):(Se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp extends oE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return qo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function AP(n){return sP(n.auth,new Cp(n),n.bypassAuthState)}function CP(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),iP(t,new Cp(n),n.bypassAuthState)}async function PP(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),rP(t,new Cp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:h,type:f}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AP;case"linkViaPopup":case"linkViaRedirect":return PP;case"reauthViaPopup":case"reauthViaRedirect":return CP;default:jr(this.auth,"internal-error")}}resolve(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP=new Rl(2e3,1e4);async function RP(n,e,t){if(tr(n.app))return Promise.reject(ir(n,"operation-not-supported-in-this-environment"));const i=Hc(n);IC(n,e,Sp);const o=gE(i,t);return new Fs(i,"signInViaPopup",e,o).executeNotNull()}class Fs extends yE{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,Fs.currentPopupAction&&Fs.currentPopupAction.cancel(),Fs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){fi(this.filter.length===1,"Popup operations only handle one event");const e=Ap();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if((i=(t=this.authWindow)==null?void 0:t.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kP.get())};e()}}Fs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP="pendingRedirect",rc=new Map;class NP extends yE{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=rc.get(this.auth._key());if(!e){try{const i=await xP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}rc.set(this.auth._key(),e)}return this.bypassAuthState||rc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xP(n,e){const t=VP(e),i=bP(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function OP(n,e){rc.set(n._key(),e)}function bP(n){return li(n._redirectPersistence)}function VP(n){return nc(DP,n.config.apiKey,n.name)}async function LP(n,e,t=!1){if(tr(n.app))return Promise.reject(Us(n));const i=Hc(n),o=gE(i,e),h=await new NP(i,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP=600*1e3;class FP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!vE(e)){const o=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";t.onError(ir(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Iv(e))}saveEventToCache(e){this.cachedEventUids.add(Iv(e)),this.lastProcessedEventTime=Date.now()}}function Iv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function vE({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UP(n,e={}){return aa(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BP=/^https?/;async function $P(n){if(n.config.emulator)return;const{authorizedDomains:e}=await UP(n);for(const t of e)try{if(WP(t))return}catch{}jr(n,"unauthorized-domain")}function WP(n){const e=_f(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!BP.test(t))return!1;if(zP.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP=new Rl(3e4,6e4);function Sv(){const n=Lr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function qP(n){return new Promise((e,t)=>{var o,l,h;function i(){Sv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Sv(),t(ir(n,"network-request-failed"))},timeout:HP.get()})}if((l=(o=Lr().gapi)==null?void 0:o.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((h=Lr().gapi)!=null&&h.load)i();else{const f=QC("iframefcb");return Lr()[f]=()=>{gapi.load?i():t(ir(n,"network-request-failed"))},KC(`${YC()}?onload=${f}`).catch(g=>t(g))}}).catch(e=>{throw ic=null,e})}let ic=null;function GP(n){return ic=ic||qP(n),ic}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP=new Rl(5e3,15e3),YP="__/auth/iframe",QP="emulator/auth/iframe",XP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZP(n){const e=n.config;Se(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?_p(e,QP):`https://${n.config.authDomain}/${YP}`,i={apiKey:e.apiKey,appName:n.name,v:na},o=JP.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Il(i).slice(1)}`}async function ek(n){const e=await GP(n),t=Lr().gapi;return Se(t,n,"internal-error"),e.open({where:document.body,url:ZP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XP,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const h=ir(n,"network-request-failed"),f=Lr().setTimeout(()=>{l(h)},KP.get());function g(){Lr().clearTimeout(f),o(i)}i.ping(g).then(g,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nk=500,rk=600,ik="_blank",sk="http://localhost";class Av{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ok(n,e,t,i=nk,o=rk){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const g={...tk,width:i.toString(),height:o.toString(),top:l,left:h},y=Zt().toLowerCase();t&&(f=Jw(y)?ik:t),Qw(y)&&(e=e||sk,g.scrollbars="yes");const w=Object.entries(g).reduce((I,[b,H])=>`${I}${b}=${H},`,"");if(UC(y)&&f!=="_self")return ak(e||"",f),new Av(null);const E=window.open(e||"",f,w);Se(E,n,"popup-blocked");try{E.focus()}catch{}return new Av(E)}function ak(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk="__/auth/handler",uk="emulator/auth/handler",ck=encodeURIComponent("fac");async function Cv(n,e,t,i,o,l){Se(n.config.authDomain,n,"auth-domain-config-required"),Se(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:na,eventId:o};if(e instanceof Sp){e.setDefaultLanguage(n.languageCode),h.providerId=e.providerId||"",GT(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,E]of Object.entries({}))h[w]=E}if(e instanceof Dl){const w=e.getScopes().filter(E=>E!=="");w.length>0&&(h.scopes=w.join(","))}n.tenantId&&(h.tid=n.tenantId);const f=h;for(const w of Object.keys(f))f[w]===void 0&&delete f[w];const g=await n._getAppCheckToken(),y=g?`#${ck}=${encodeURIComponent(g)}`:"";return`${hk(n)}?${Il(f).slice(1)}${y}`}function hk({config:n}){return n.emulator?_p(n,uk):`https://${n.authDomain}/${lk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd="webStorageSupport";class dk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hE,this._completeRedirectFn=LP,this._overrideRedirectResult=OP}async _openPopup(e,t,i,o){var h;fi((h=this.eventManagers[e._key()])==null?void 0:h.manager,"_initialize() not called before _openPopup()");const l=await Cv(e,t,i,_f(),o);return ok(e,l,Ap())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await Cv(e,t,i,_f(),o);return mP(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(fi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await ek(e),i=new FP(e);return t.register("authEvent",o=>(Se(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(zd,{type:zd},o=>{var h;const l=(h=o==null?void 0:o[0])==null?void 0:h[zd];l!==void 0&&t(!!l),jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=$P(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return rE()||Xw()||Tp()}}const fk=dk;var Pv="@firebase/auth",kv="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gk(n){Go(new $s("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:f}=i.options;Se(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:h,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iE(n)},y=new qC(i,o,l,g);return JC(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Go(new $s("auth-internal",e=>{const t=Hc(e.getProvider("auth").getImmediate());return(i=>new pk(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xi(Pv,kv,mk(n)),Xi(Pv,kv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=300,vk=n_("authIdTokenMaxAge")||yk;let Rv=null;const _k=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>vk)return;const o=t==null?void 0:t.token;Rv!==o&&(Rv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function wk(n=l_()){const e=zf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=XC(n,{popupRedirectResolver:fk,persistence:[SP,dP,hE]}),i=n_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const h=_k(l.toString());aP(t,h,()=>h(t.currentUser)),oP(t,f=>h(f))}}const o=e_("auth");return o&&ZC(t,`http://${o}`),t}function Ek(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}GC({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=ir("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",Ek().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gk("Browser");const sc={apiKey:"AIzaSyCXxatUkVDpVnR0BKkZTNlB_G_3agOfoY0",authDomain:"jpl-vacation-forecast.firebaseapp.com",projectId:"jpl-vacation-forecast",storageBucket:"jpl-vacation-forecast.firebasestorage.app",messagingSenderId:"732269508238",appId:"1:732269508238:web:464689fab6d9d91aeefbdf"};let Xa=null,Pc=null,kc=null;const _E=()=>!!(sc.apiKey&&sc.authDomain&&sc.projectId),wE=()=>{if(!_E())return console.log("Firebase not configured - cloud sync disabled"),{app:null,auth:null,db:null};try{return Xa||(Xa=a_(sc),Pc=wk(Xa),kc=nC(Xa),console.log("Firebase initialized successfully")),{app:Xa,auth:Pc,db:kc}}catch(n){return console.error("Failed to initialize Firebase:",n),{app:null,auth:null,db:null}}},Bd=()=>{if(!Pc){const{auth:n}=wE();return n}return Pc},Ja=()=>{if(!kc){const{db:n}=wE();return n}return kc};class Tk{constructor(){Ka(this,"mode","localStorage");Ka(this,"userId",null);Ka(this,"listeners",new Map);Ka(this,"unsubscribers",new Map)}getMode(){return this.mode}setMode(e,t){const i=this.mode==="cloud-sync";this.mode=e,this.userId=t||null,i&&e==="localStorage"&&this.cleanupFirebaseListeners(),console.log(`Storage mode set to: ${e}`,t?`User: ${t}`:"")}async get(e,t){try{const i=window.localStorage.getItem(e);if(i)return JSON.parse(i)}catch(i){console.error(`Error reading ${e} from localStorage:`,i)}if(this.mode==="cloud-sync"&&this.userId)try{const i=Ja();if(i){const o=Qa(i,"users",this.userId,"data",e),l=await hv(o);if(l.exists())return l.data().value}}catch(i){console.error(`Error reading ${e} from Firebase:`,i)}return t}async set(e,t){try{window.localStorage.setItem(e,JSON.stringify(t))}catch(i){console.error(`Error writing ${e} to localStorage:`,i)}if(this.mode==="cloud-sync"&&this.userId)try{const i=Ja();if(i){const o=Qa(i,"users",this.userId,"data",e);await dv(o,{value:t,updatedAt:new Date().toISOString()}),console.log(`Synced ${e} to Firebase`)}}catch(i){console.error(`Error writing ${e} to Firebase:`,i)}this.notifyListeners(e,t)}subscribe(e,t){return this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(t),this.mode==="cloud-sync"&&this.userId&&!this.unsubscribers.has(e)&&this.setupFirebaseListener(e),()=>{const i=this.listeners.get(e);if(i&&(i.delete(t),i.size===0)){this.listeners.delete(e);const o=this.unsubscribers.get(e);o&&(o(),this.unsubscribers.delete(e))}}}async syncToCloud(e){if(this.mode!=="cloud-sync"||!this.userId)throw new Error("Cloud sync not enabled");const t=Ja();if(!t)throw new Error("Firebase not configured");for(const i of e)try{const o=window.localStorage.getItem(i);if(o){const l=JSON.parse(o),h=Qa(t,"users",this.userId,"data",i);await dv(h,{value:l,updatedAt:new Date().toISOString()}),console.log(`Initial sync of ${i} to Firebase`)}}catch(o){console.error(`Error syncing ${i} to Firebase:`,o)}}async syncFromCloud(e){if(this.mode!=="cloud-sync"||!this.userId)throw new Error("Cloud sync not enabled");const t=Ja();if(!t)throw new Error("Firebase not configured");for(const i of e)try{const o=Qa(t,"users",this.userId,"data",i),l=await hv(o);if(l.exists()){const h=l.data();window.localStorage.setItem(i,JSON.stringify(h.value)),console.log(`Loaded ${i} from Firebase to localStorage`),this.notifyListeners(i,h.value)}}catch(o){console.error(`Error loading ${i} from Firebase:`,o)}}setupFirebaseListener(e){if(!this.userId)return;const t=Ja();if(t)try{const i=Qa(t,"users",this.userId,"data",e),o=yC(i,l=>{if(l.exists()){const f=l.data().value;window.localStorage.setItem(e,JSON.stringify(f)),this.notifyListeners(e,f),console.log(`Real-time update for ${e} from Firebase`)}},l=>{console.error(`Firebase listener error for ${e}:`,l)});this.unsubscribers.set(e,o)}catch(i){console.error(`Error setting up Firebase listener for ${e}:`,i)}}notifyListeners(e,t){const i=this.listeners.get(e);i&&i.forEach(o=>{try{o(t)}catch(l){console.error("Error in storage listener:",l)}})}cleanupFirebaseListeners(){this.unsubscribers.forEach(e=>e()),this.unsubscribers.clear()}}const Dr=new Tk;function $d(n,e){const[t,i]=he.useState(()=>{try{const l=window.localStorage.getItem(n);return l?JSON.parse(l):e}catch(l){return console.error(`Error loading ${n} from localStorage:`,l),e}});return he.useEffect(()=>Dr.subscribe(n,h=>{i(h)}),[n]),[t,l=>{try{const h=l instanceof Function?l(t):l;i(h),Dr.set(n,h).catch(f=>{console.error(`Error saving ${n}:`,f)})}catch(h){console.error(`Error saving ${n}:`,h)}}]}const Ik=()=>{const[n,e]=$d("jpl-vacation-user-profile",null),[t,i]=$d("jpl-vacation-planned-vacations",[]),[o,l]=$d("jpl-vacation-holidays",[]),h=he.useMemo(()=>{if(!n){const W=new Date;return{startDate:new Date(W.getFullYear(),0,1),endDate:new Date(W.getFullYear()+1,11,31)}}const b=ft(n.balanceAsOfDate),H=new Date(b.getFullYear()+10,11,31);return{startDate:b,endDate:H}},[n]),f=he.useMemo(()=>n?wT(n,h.startDate,h.endDate,t,o):[],[n,h,t,o]),g=he.useMemo(()=>{if(f.length===0)return[];const b=new Date().getFullYear();return[ry(f,b),ry(f,b+1)]},[f]);return{userProfile:n,setUserProfile:e,plannedVacations:t,addPlannedVacation:b=>{const H={...b,id:crypto.randomUUID()};i([...t,H])},updatePlannedVacation:(b,H)=>{i(t.map(W=>W.id===b?{...W,...H}:W))},deletePlannedVacation:b=>{i(t.filter(H=>H.id!==b))},holidays:o,setHolidays:l,weeklyBalances:f,annualSummaries:g,forecastPeriod:h,canAffordVacation:b=>{if(!n)return{canAfford:!1,projectedBalance:0};const H=ft(b.endDate),W=ET(n,H,[...t,{...b,id:"temp"}]);return{canAfford:W>=0,projectedBalance:W}}}},Sk={2026:[{name:"New Year's Day",date:"2026-01-01",type:"federal"},{name:"Martin Luther King Jr. Day",date:"2026-01-19",type:"federal"},{name:"Presidents' Day",date:"2026-02-16",type:"federal"},{name:"Memorial Day",date:"2026-05-25",type:"federal"},{name:"Juneteenth",date:"2026-06-19",type:"federal"},{name:"Independence Day",date:"2026-07-03",type:"federal",notes:"Observed"},{name:"Labor Day",date:"2026-09-07",type:"federal"},{name:"Thanksgiving",date:"2026-11-25",type:"federal"},{name:"Day After Thanksgiving",date:"2026-11-26",type:"federal"},{name:"Christmas",date:"2026-12-24",type:"federal"},{name:"JPL Floating",date:"2026-01-02",type:"jpl"},{name:"JPL Floating",date:"2026-12-28",type:"jpl"}],2027:[{name:"New Year's Day",date:"2027-01-01",type:"federal"},{name:"Martin Luther King Jr. Day",date:"2027-01-18",type:"federal"},{name:"Presidents' Day",date:"2027-02-15",type:"federal"},{name:"Memorial Day",date:"2027-05-31",type:"federal"},{name:"Juneteenth",date:"2027-06-18",type:"federal",notes:"Observed"},{name:"Independence Day",date:"2027-07-05",type:"federal",notes:"Observed"},{name:"Labor Day",date:"2027-09-06",type:"federal"},{name:"Indigenous Peoples' Day",date:"2027-10-11",type:"federal"},{name:"Veterans Day",date:"2027-11-11",type:"federal"},{name:"Thanksgiving",date:"2027-11-25",type:"federal"},{name:"Day After Thanksgiving",date:"2027-11-26",type:"jpl"},{name:"Christmas Eve",date:"2027-12-24",type:"jpl"},{name:"Christmas Day",date:"2027-12-27",type:"federal",notes:"Observed"}],2028:[{name:"New Year's Day",date:"2028-01-01",type:"federal"},{name:"Martin Luther King Jr. Day",date:"2028-01-17",type:"federal"},{name:"Presidents' Day",date:"2028-02-21",type:"federal"},{name:"Memorial Day",date:"2028-05-29",type:"federal"},{name:"Juneteenth",date:"2028-06-19",type:"federal"},{name:"Independence Day",date:"2028-07-04",type:"federal"},{name:"Labor Day",date:"2028-09-04",type:"federal"},{name:"Indigenous Peoples' Day",date:"2028-10-09",type:"federal"},{name:"Veterans Day",date:"2028-11-10",type:"federal",notes:"Observed"},{name:"Thanksgiving",date:"2028-11-23",type:"federal"},{name:"Day After Thanksgiving",date:"2028-11-24",type:"jpl"},{name:"Christmas Eve",date:"2028-12-22",type:"jpl",notes:"Observed"},{name:"Christmas Day",date:"2028-12-25",type:"federal"}],2029:[{name:"New Year's Day",date:"2029-01-01",type:"federal"},{name:"Martin Luther King Jr. Day",date:"2029-01-15",type:"federal"},{name:"Presidents' Day",date:"2029-02-19",type:"federal"},{name:"Memorial Day",date:"2029-05-28",type:"federal"},{name:"Juneteenth",date:"2029-06-19",type:"federal"},{name:"Independence Day",date:"2029-07-04",type:"federal"},{name:"Labor Day",date:"2029-09-03",type:"federal"},{name:"Indigenous Peoples' Day",date:"2029-10-08",type:"federal"},{name:"Veterans Day",date:"2029-11-12",type:"federal",notes:"Observed"},{name:"Thanksgiving",date:"2029-11-22",type:"federal"},{name:"Day After Thanksgiving",date:"2029-11-23",type:"jpl"},{name:"Christmas Eve",date:"2029-12-24",type:"jpl"},{name:"Christmas Day",date:"2029-12-25",type:"federal"}],2030:[{name:"New Year's Day",date:"2030-01-01",type:"federal"},{name:"Martin Luther King Jr. Day",date:"2030-01-21",type:"federal"},{name:"Presidents' Day",date:"2030-02-18",type:"federal"},{name:"Memorial Day",date:"2030-05-27",type:"federal"},{name:"Juneteenth",date:"2030-06-19",type:"federal"},{name:"Independence Day",date:"2030-07-04",type:"federal"},{name:"Labor Day",date:"2030-09-02",type:"federal"},{name:"Indigenous Peoples' Day",date:"2030-10-14",type:"federal"},{name:"Veterans Day",date:"2030-11-11",type:"federal"},{name:"Thanksgiving",date:"2030-11-28",type:"federal"},{name:"Day After Thanksgiving",date:"2030-11-29",type:"jpl"},{name:"Christmas Eve",date:"2030-12-24",type:"jpl"},{name:"Christmas Day",date:"2030-12-25",type:"federal"}]},Ak={holidays:Sk},Ck=(n,e)=>{const t=[];for(let i=n;i<=e;i++){const o=i.toString(),l=Ak.holidays[o];l&&t.push(...l.map(h=>({name:h.name,date:h.date})))}return t},Pk=(n,e,t)=>({defaultHolidays:he.useMemo(()=>{if(!n)return[];const o=new Date,l=e||o,h=t||new Date(o.getFullYear()+10,11,31),f=l.getFullYear(),g=h.getFullYear();return Ck(f,g).map(w=>({...w,hours:Ff(ft(w.date),n)}))},[n,e,t])}),kk=({onSubmit:n})=>{const[e,t]=he.useState(""),[i,o]=he.useState(""),[l,h]=he.useState(""),[f,g]=he.useState("5/40"),[y,w]=he.useState("even-fridays"),E=I=>{I.preventDefault();const b={startDate:e,currentBalance:parseFloat(i),balanceAsOfDate:l,workSchedule:{type:f,rdoPattern:f==="9/80"?y:void 0}};n(b)};return k.jsxs("div",{className:"user-input-form-container",children:[k.jsx("h2",{children:"Welcome to JPL Vacation Forecast"}),k.jsx("p",{children:"Let's set up your vacation tracking profile"}),k.jsxs("form",{onSubmit:E,className:"user-input-form",children:[k.jsxs("div",{className:"form-group",children:[k.jsx("label",{htmlFor:"startDate",children:"JPL Start Date"}),k.jsx("input",{type:"date",id:"startDate",value:e,onChange:I=>t(I.target.value),required:!0}),k.jsx("small",{children:"This determines your vacation accrual rate"})]}),k.jsxs("div",{className:"form-group",children:[k.jsx("label",{htmlFor:"currentBalance",children:"Current Vacation Balance (hours)"}),k.jsx("input",{type:"number",id:"currentBalance",value:i,onChange:I=>o(I.target.value),min:"0",step:"0.01",required:!0}),k.jsx("small",{children:"Include any carryover from previous year"})]}),k.jsxs("div",{className:"form-group",children:[k.jsx("label",{htmlFor:"balanceAsOfDate",children:"Balance As Of Date"}),k.jsx("input",{type:"date",id:"balanceAsOfDate",value:l,onChange:I=>h(I.target.value),required:!0}),k.jsx("small",{children:"When was this balance taken? Should be the start of a week (Sunday)"})]}),k.jsxs("div",{className:"form-group",children:[k.jsx("label",{children:"Work Schedule"}),k.jsxs("div",{className:"radio-group",children:[k.jsxs("label",{className:"radio-label",children:[k.jsx("input",{type:"radio",name:"scheduleType",value:"5/40",checked:f==="5/40",onChange:()=>g("5/40")}),k.jsx("span",{children:"5/40 (Five 8-hour days per week)"})]}),k.jsxs("label",{className:"radio-label",children:[k.jsx("input",{type:"radio",name:"scheduleType",value:"9/80",checked:f==="9/80",onChange:()=>g("9/80")}),k.jsx("span",{children:"9/80 (Nine 9-hour days + one 8-hour day over 2 weeks, alternating Friday off)"})]})]})]}),f==="9/80"&&k.jsxs("div",{className:"form-group",children:[k.jsx("label",{children:"RDO Pattern (Regular Day Off)"}),k.jsxs("div",{className:"radio-group",children:[k.jsxs("label",{className:"radio-label",children:[k.jsx("input",{type:"radio",name:"rdoPattern",value:"even-fridays",checked:y==="even-fridays",onChange:()=>w("even-fridays")}),k.jsx("span",{children:"Even Week Fridays Off"})]}),k.jsxs("label",{className:"radio-label",children:[k.jsx("input",{type:"radio",name:"rdoPattern",value:"odd-fridays",checked:y==="odd-fridays",onChange:()=>w("odd-fridays")}),k.jsx("span",{children:"Odd Week Fridays Off"})]})]}),k.jsx("small",{children:"ISO week numbering: Week 1 contains the first Thursday of the year"})]}),k.jsx("button",{type:"submit",className:"submit-button",children:"Start Forecasting"})]})]})};function EE(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=EE(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Kc(){for(var n,e,t=0,i="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=EE(n))&&(i&&(i+=" "),i+=e);return i}const Rk=(n,e,t,i)=>{if(t==="length"||t==="prototype"||t==="arguments"||t==="caller")return;const o=Object.getOwnPropertyDescriptor(n,t),l=Object.getOwnPropertyDescriptor(e,t);!Dk(o,l)&&i||Object.defineProperty(n,t,l)},Dk=function(n,e){return n===void 0||n.configurable||n.writable===e.writable&&n.enumerable===e.enumerable&&n.configurable===e.configurable&&(n.writable||n.value===e.value)},Nk=(n,e)=>{const t=Object.getPrototypeOf(e);t!==Object.getPrototypeOf(n)&&Object.setPrototypeOf(n,t)},xk=(n,e)=>`/* Wrapped ${n}*/
${e}`,Ok=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),bk=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),Vk=(n,e,t)=>{const i=t===""?"":`with ${t.trim()}() `,o=xk.bind(null,i,e.toString());Object.defineProperty(o,"name",bk);const{writable:l,enumerable:h,configurable:f}=Ok;Object.defineProperty(n,"toString",{value:o,writable:l,enumerable:h,configurable:f})};function Lk(n,e,{ignoreNonConfigurable:t=!1}={}){const{name:i}=n;for(const o of Reflect.ownKeys(e))Rk(n,e,o,t);return Nk(n,e),Vk(n,e,i),n}const Hu=2147483647,Mk=new WeakMap,Wd=new WeakMap,Fk=new WeakMap;function jk(n,e){const t=n.get(e);if(t){if(t.maxAge<=Date.now()){n.delete(e);return}return t}}function TE(n,{cacheKey:e,cache:t=new Map,maxAge:i}={}){if(i===0)return n;if(typeof i=="number"&&Number.isFinite(i)){if(i>Hu)throw new TypeError(`The \`maxAge\` option cannot exceed ${Hu}.`);if(i<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const o=function(...l){var w;const h=e?e(l):l[0],f=jk(t,h);if(f)return f.data;const g=n.apply(this,l),y=typeof i=="function"?i(...l):i;if(y!==void 0&&y!==Number.POSITIVE_INFINITY){if(!Number.isFinite(y))throw new TypeError("The `maxAge` function must return a finite number, `0`, or `Infinity`.");if(y<=0)return g;if(y>Hu)throw new TypeError(`The \`maxAge\` function result cannot exceed ${Hu}.`)}if(t.set(h,{data:g,maxAge:y===void 0||y===Number.POSITIVE_INFINITY?Number.POSITIVE_INFINITY:Date.now()+y}),y!==void 0&&y!==Number.POSITIVE_INFINITY){const E=setTimeout(()=>{var b;t.delete(h),(b=Wd.get(o))==null||b.delete(E)},y);(w=E.unref)==null||w.call(E);const I=Wd.get(o)??new Set;I.add(E),Wd.set(o,I)}return g};return Lk(o,n,{ignoreNonConfigurable:!0}),Mk.set(o,t),Fk.set(o,e??(l=>l[0])),o}function Uk(n){return typeof n=="string"}function zk(n,e,t){return t.indexOf(n)===e}function Bk(n){return n.toLowerCase()===n}function Dv(n){return n.indexOf(",")===-1?n:n.split(",")}function Tf(n){if(!n)return n;if(n==="C"||n==="posix"||n==="POSIX")return"en-US";if(n.indexOf(".")!==-1){var e=n.split(".")[0],t=e===void 0?"":e;return Tf(t)}if(n.indexOf("@")!==-1){var i=n.split("@")[0],t=i===void 0?"":i;return Tf(t)}if(n.indexOf("-")===-1||!Bk(n))return n;var o=n.split("-"),l=o[0],h=o[1],f=h===void 0?"":h;return"".concat(l,"-").concat(f.toUpperCase())}function $k(n){var e=n===void 0?{}:n,t=e.useFallbackLocale,i=t===void 0?!0:t,o=e.fallbackLocale,l=o===void 0?"en-US":o,h=[];if(typeof navigator<"u"){for(var f=navigator.languages||[],g=[],y=0,w=f;y<w.length;y++){var E=w[y];g=g.concat(Dv(E))}var I=navigator.language,b=I&&Dv(I);h=h.concat(g,b)}return i&&h.push(l),h.filter(Uk).map(Tf).filter(zk)}var Wk=TE($k,{cacheKey:JSON.stringify});function Hk(n){return Wk(n)[0]||null}var IE=TE(Hk,{cacheKey:JSON.stringify});function mi(n,e,t){return function(o,l=t){const h=n(o)+l;return e(h)}}function xl(n){return function(t){return new Date(n(t).getTime()-1)}}function Ol(n,e){return function(i){return[n(i),e(i)]}}function ot(n){if(n instanceof Date)return n.getFullYear();if(typeof n=="number")return n;const e=Number.parseInt(n,10);if(typeof n=="string"&&!Number.isNaN(e))return e;throw new Error(`Failed to get year from date: ${n}.`)}function as(n){if(n instanceof Date)return n.getMonth();throw new Error(`Failed to get month from date: ${n}.`)}function Yc(n){if(n instanceof Date)return n.getDate();throw new Error(`Failed to get year from date: ${n}.`)}function la(n){const e=ot(n),t=e+(-e+1)%100,i=new Date;return i.setFullYear(t,0,1),i.setHours(0,0,0,0),i}const qk=mi(ot,la,-100),SE=mi(ot,la,100),Pp=xl(SE),Gk=mi(ot,Pp,-100),AE=Ol(la,Pp);function ls(n){const e=ot(n),t=e+(-e+1)%10,i=new Date;return i.setFullYear(t,0,1),i.setHours(0,0,0,0),i}const CE=mi(ot,ls,-10),kp=mi(ot,ls,10),Qc=xl(kp),PE=mi(ot,Qc,-10),kE=Ol(ls,Qc);function ua(n){const e=ot(n),t=new Date;return t.setFullYear(e,0,1),t.setHours(0,0,0,0),t}const RE=mi(ot,ua,-1),Rp=mi(ot,ua,1),Xc=xl(Rp),DE=mi(ot,Xc,-1),Kk=Ol(ua,Xc);function Dp(n,e){return function(i,o=e){const l=ot(i),h=as(i)+o,f=new Date;return f.setFullYear(l,h,1),f.setHours(0,0,0,0),n(f)}}function Xs(n){const e=ot(n),t=as(n),i=new Date;return i.setFullYear(e,t,1),i.setHours(0,0,0,0),i}const NE=Dp(Xs,-1),Np=Dp(Xs,1),bl=xl(Np),xE=Dp(bl,-1),Yk=Ol(Xs,bl);function Qk(n,e){return function(i,o=e){const l=ot(i),h=as(i),f=Yc(i)+o,g=new Date;return g.setFullYear(l,h,f),g.setHours(0,0,0,0),n(g)}}function Vl(n){const e=ot(n),t=as(n),i=Yc(n),o=new Date;return o.setFullYear(e,t,i),o.setHours(0,0,0,0),o}const Xk=Qk(Vl,1),xp=xl(Xk),Jk=Ol(Vl,xp);function OE(n){return Yc(bl(n))}var Bt={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},Zk={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},Op=[0,1,2,3,4,5,6],Hd=new Map;function eR(n){return function(t,i){var o=t||IE();Hd.has(o)||Hd.set(o,new Map);var l=Hd.get(o);return l.has(n)||l.set(n,new Intl.DateTimeFormat(o||void 0,n).format),l.get(n)(i)}}function tR(n){var e=new Date(n);return new Date(e.setHours(12))}function Js(n){return function(e,t){return eR(n)(e,tR(t))}}var nR={day:"numeric"},rR={day:"numeric",month:"long",year:"numeric"},iR={month:"long"},sR={month:"long",year:"numeric"},oR={weekday:"short"},aR={weekday:"long"},lR={year:"numeric"},uR=Js(nR),cR=Js(rR),hR=Js(iR),bE=Js(sR),dR=Js(oR),fR=Js(aR),Jc=Js(lR),pR=Op[0],mR=Op[5],Nv=Op[6];function wl(n,e){e===void 0&&(e=Bt.ISO_8601);var t=n.getDay();switch(e){case Bt.ISO_8601:return(t+6)%7;case Bt.ISLAMIC:return(t+1)%7;case Bt.HEBREW:case Bt.GREGORY:return t;default:throw new Error("Unsupported calendar type.")}}function gR(n){var e=la(n);return ot(e)}function yR(n){var e=ls(n);return ot(e)}function If(n,e){e===void 0&&(e=Bt.ISO_8601);var t=ot(n),i=as(n),o=n.getDate()-wl(n,e);return new Date(t,i,o)}function vR(n,e){e===void 0&&(e=Bt.ISO_8601);var t=e===Bt.GREGORY?Bt.GREGORY:Bt.ISO_8601,i=If(n,e),o=ot(n)+1,l,h;do l=new Date(o,0,t===Bt.ISO_8601?4:1),h=If(l,e),o-=1;while(n<h);return Math.round((i.getTime()-h.getTime())/(864e5*7))+1}function zs(n,e){switch(n){case"century":return la(e);case"decade":return ls(e);case"year":return ua(e);case"month":return Xs(e);case"day":return Vl(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function _R(n,e){switch(n){case"century":return qk(e);case"decade":return CE(e);case"year":return RE(e);case"month":return NE(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function VE(n,e){switch(n){case"century":return SE(e);case"decade":return kp(e);case"year":return Rp(e);case"month":return Np(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function wR(n,e){switch(n){case"decade":return CE(e,-100);case"year":return RE(e,-10);case"month":return NE(e,-12);default:throw new Error("Invalid rangeType: ".concat(n))}}function ER(n,e){switch(n){case"decade":return kp(e,100);case"year":return Rp(e,10);case"month":return Np(e,12);default:throw new Error("Invalid rangeType: ".concat(n))}}function LE(n,e){switch(n){case"century":return Pp(e);case"decade":return Qc(e);case"year":return Xc(e);case"month":return bl(e);case"day":return xp(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function TR(n,e){switch(n){case"century":return Gk(e);case"decade":return PE(e);case"year":return DE(e);case"month":return xE(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function IR(n,e){switch(n){case"decade":return PE(e,-100);case"year":return DE(e,-10);case"month":return xE(e,-12);default:throw new Error("Invalid rangeType: ".concat(n))}}function xv(n,e){switch(n){case"century":return AE(e);case"decade":return kE(e);case"year":return Kk(e);case"month":return Yk(e);case"day":return Jk(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function SR(n,e,t){var i=[e,t].sort(function(o,l){return o.getTime()-l.getTime()});return[zs(n,i[0]),LE(n,i[1])]}function ME(n,e,t){return t.map(function(i){return(e||Jc)(n,i)}).join("  ")}function AR(n,e,t){return ME(n,e,AE(t))}function FE(n,e,t){return ME(n,e,kE(t))}function CR(n){return n.getDay()===new Date().getDay()}function jE(n,e){e===void 0&&(e=Bt.ISO_8601);var t=n.getDay();switch(e){case Bt.ISLAMIC:case Bt.HEBREW:return t===mR||t===Nv;case Bt.ISO_8601:case Bt.GREGORY:return t===Nv||t===pR;default:throw new Error("Unsupported calendar type.")}}var Rr="react-calendar__navigation";function PR(n){var e=n.activeStartDate,t=n.drillUp,i=n.formatMonthYear,o=i===void 0?bE:i,l=n.formatYear,h=l===void 0?Jc:l,f=n.locale,g=n.maxDate,y=n.minDate,w=n.navigationAriaLabel,E=w===void 0?"":w,I=n.navigationAriaLive,b=n.navigationLabel,H=n.next2AriaLabel,W=H===void 0?"":H,U=n.next2Label,J=U===void 0?"":U,ne=n.nextAriaLabel,fe=ne===void 0?"":ne,me=n.nextLabel,De=me===void 0?"":me,ae=n.prev2AriaLabel,N=ae===void 0?"":ae,S=n.prev2Label,P=S===void 0?"":S,x=n.prevAriaLabel,R=x===void 0?"":x,L=n.prevLabel,C=L===void 0?"":L,Oe=n.setActiveStartDate,Je=n.showDoubleView,ze=n.view,We=n.views,ee=We.indexOf(ze)>0,ue=ze!=="century",q=_R(ze,e),O=ue?wR(ze,e):void 0,$=VE(ze,e),re=ue?ER(ze,e):void 0,ie=(function(){if(q.getFullYear()<0)return!0;var Qe=TR(ze,e);return y&&y>=Qe})(),ye=ue&&(function(){if(O.getFullYear()<0)return!0;var Qe=IR(ze,e);return y&&y>=Qe})(),Ee=g&&g<$,ke=ue&&g&&g<re;function Ne(){Oe(q,"prev")}function be(){Oe(O,"prev2")}function St(){Oe($,"next")}function sr(){Oe(re,"next2")}function or(Qe){var ar=(function(){switch(ze){case"century":return AR(f,h,Qe);case"decade":return FE(f,h,Qe);case"year":return h(f,Qe);case"month":return o(f,Qe);default:throw new Error("Invalid view: ".concat(ze,"."))}})();return b?b({date:Qe,label:ar,locale:f||IE()||void 0,view:ze}):ar}function Dn(){var Qe="".concat(Rr,"__label");return k.jsxs("button",{"aria-label":E,"aria-live":I,className:Qe,disabled:!ee,onClick:t,style:{flexGrow:1},type:"button",children:[k.jsx("span",{className:"".concat(Qe,"__labelText ").concat(Qe,"__labelText--from"),children:or(e)}),Je?k.jsxs(k.Fragment,{children:[k.jsx("span",{className:"".concat(Qe,"__divider"),children:"  "}),k.jsx("span",{className:"".concat(Qe,"__labelText ").concat(Qe,"__labelText--to"),children:or($)})]}):null]})}return k.jsxs("div",{className:Rr,children:[P!==null&&ue?k.jsx("button",{"aria-label":N,className:"".concat(Rr,"__arrow ").concat(Rr,"__prev2-button"),disabled:ye,onClick:be,type:"button",children:P}):null,C!==null&&k.jsx("button",{"aria-label":R,className:"".concat(Rr,"__arrow ").concat(Rr,"__prev-button"),disabled:ie,onClick:Ne,type:"button",children:C}),Dn(),De!==null&&k.jsx("button",{"aria-label":fe,className:"".concat(Rr,"__arrow ").concat(Rr,"__next-button"),disabled:Ee,onClick:St,type:"button",children:De}),J!==null&&ue?k.jsx("button",{"aria-label":W,className:"".concat(Rr,"__arrow ").concat(Rr,"__next2-button"),disabled:ke,onClick:sr,type:"button",children:J}):null]})}var jo=function(){return jo=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},jo.apply(this,arguments)},kR=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t};function Ov(n){return"".concat(n,"%")}function bp(n){var e=n.children,t=n.className,i=n.count,o=n.direction,l=n.offset,h=n.style,f=n.wrap,g=kR(n,["children","className","count","direction","offset","style","wrap"]);return k.jsx("div",jo({className:t,style:jo({display:"flex",flexDirection:o,flexWrap:f?"wrap":"nowrap"},h)},g,{children:he.Children.map(e,function(y,w){var E=l&&w===0?Ov(100*l/i):null;return he.cloneElement(y,jo(jo({},y.props),{style:{flexBasis:Ov(100/i),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:E,marginInlineStart:E,marginInlineEnd:0}}))})}))}function RR(n,e,t){return e&&e>n?e:t&&t<n?t:n}function El(n,e){return e[0]<=n&&e[1]>=n}function DR(n,e){return n[0]<=e[0]&&n[1]>=e[1]}function UE(n,e){return El(n[0],e)||El(n[1],e)}function bv(n,e,t){var i=UE(e,n),o=[];if(i){o.push(t);var l=El(n[0],e),h=El(n[1],e);l&&o.push("".concat(t,"Start")),h&&o.push("".concat(t,"End")),l&&h&&o.push("".concat(t,"BothEnds"))}return o}function NR(n){return Array.isArray(n)?n[0]!==null&&n[1]!==null:n!==null}function xR(n){if(!n)throw new Error("args is required");var e=n.value,t=n.date,i=n.hover,o="react-calendar__tile",l=[o];if(!t)return l;var h=new Date,f=(function(){if(Array.isArray(t))return t;var b=n.dateType;if(!b)throw new Error("dateType is required when date is not an array of two dates");return xv(b,t)})();if(El(h,f)&&l.push("".concat(o,"--now")),!e||!NR(e))return l;var g=(function(){if(Array.isArray(e))return e;var b=n.valueType;if(!b)throw new Error("valueType is required when value is not an array of two dates");return xv(b,e)})();DR(g,f)?l.push("".concat(o,"--active")):UE(g,f)&&l.push("".concat(o,"--hasActive"));var y=bv(g,f,"".concat(o,"--range"));l.push.apply(l,y);var w=Array.isArray(e)?e:[e];if(i&&w.length===1){var E=i>g[0]?[g[0],i]:[i,g[0]],I=bv(E,f,"".concat(o,"--hover"));l.push.apply(l,I)}return l}function Zc(n){for(var e=n.className,t=n.count,i=t===void 0?3:t,o=n.dateTransform,l=n.dateType,h=n.end,f=n.hover,g=n.offset,y=n.renderTile,w=n.start,E=n.step,I=E===void 0?1:E,b=n.value,H=n.valueType,W=[],U=w;U<=h;U+=I){var J=o(U);W.push(y({classes:xR({date:J,dateType:l,hover:f,value:b,valueType:H}),date:J}))}return k.jsx(bp,{className:e,count:i,offset:g,wrap:!0,children:W})}function eh(n){var e=n.activeStartDate,t=n.children,i=n.classes,o=n.date,l=n.formatAbbr,h=n.locale,f=n.maxDate,g=n.maxDateTransform,y=n.minDate,w=n.minDateTransform,E=n.onClick,I=n.onMouseOver,b=n.style,H=n.tileClassName,W=n.tileContent,U=n.tileDisabled,J=n.view,ne=he.useMemo(function(){var me={activeStartDate:e,date:o,view:J};return typeof H=="function"?H(me):H},[e,o,H,J]),fe=he.useMemo(function(){var me={activeStartDate:e,date:o,view:J};return typeof W=="function"?W(me):W},[e,o,W,J]);return k.jsxs("button",{className:Kc(i,ne),disabled:y&&w(y)>o||f&&g(f)<o||(U==null?void 0:U({activeStartDate:e,date:o,view:J})),onClick:E?function(me){return E(o,me)}:void 0,onFocus:I?function(){return I(o)}:void 0,onMouseOver:I?function(){return I(o)}:void 0,style:b,type:"button",children:[l?k.jsx("abbr",{"aria-label":l(h,o),children:t}):t,fe]})}var Sf=function(){return Sf=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Sf.apply(this,arguments)},OR=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t},Vv="react-calendar__century-view__decades__decade";function bR(n){var e=n.classes,t=e===void 0?[]:e,i=n.currentCentury,o=n.formatYear,l=o===void 0?Jc:o,h=OR(n,["classes","currentCentury","formatYear"]),f=h.date,g=h.locale,y=[];return t&&y.push.apply(y,t),y.push(Vv),la(f).getFullYear()!==i&&y.push("".concat(Vv,"--neighboringCentury")),k.jsx(eh,Sf({},h,{classes:y,maxDateTransform:Qc,minDateTransform:ls,view:"century",children:FE(g,l,f)}))}var Af=function(){return Af=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Af.apply(this,arguments)},Lv=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t};function VR(n){var e=n.activeStartDate,t=n.hover,i=n.showNeighboringCentury,o=n.value,l=n.valueType,h=Lv(n,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),f=gR(e),g=f+(i?119:99);return k.jsx(Zc,{className:"react-calendar__century-view__decades",dateTransform:ls,dateType:"decade",end:g,hover:t,renderTile:function(y){var w=y.date,E=Lv(y,["date"]);return k.jsx(bR,Af({},h,E,{activeStartDate:e,currentCentury:f,date:w}),w.getTime())},start:f,step:10,value:o,valueType:l})}var Cf=function(){return Cf=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Cf.apply(this,arguments)};function LR(n){function e(){return k.jsx(VR,Cf({},n))}return k.jsx("div",{className:"react-calendar__century-view",children:e()})}var Pf=function(){return Pf=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Pf.apply(this,arguments)},MR=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t},Mv="react-calendar__decade-view__years__year";function FR(n){var e=n.classes,t=e===void 0?[]:e,i=n.currentDecade,o=n.formatYear,l=o===void 0?Jc:o,h=MR(n,["classes","currentDecade","formatYear"]),f=h.date,g=h.locale,y=[];return t&&y.push.apply(y,t),y.push(Mv),ls(f).getFullYear()!==i&&y.push("".concat(Mv,"--neighboringDecade")),k.jsx(eh,Pf({},h,{classes:y,maxDateTransform:Xc,minDateTransform:ua,view:"decade",children:l(g,f)}))}var kf=function(){return kf=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},kf.apply(this,arguments)},Fv=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t};function jR(n){var e=n.activeStartDate,t=n.hover,i=n.showNeighboringDecade,o=n.value,l=n.valueType,h=Fv(n,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),f=yR(e),g=f+(i?11:9);return k.jsx(Zc,{className:"react-calendar__decade-view__years",dateTransform:ua,dateType:"year",end:g,hover:t,renderTile:function(y){var w=y.date,E=Fv(y,["date"]);return k.jsx(FR,kf({},h,E,{activeStartDate:e,currentDecade:f,date:w}),w.getTime())},start:f,value:o,valueType:l})}var Rf=function(){return Rf=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Rf.apply(this,arguments)};function UR(n){function e(){return k.jsx(jR,Rf({},n))}return k.jsx("div",{className:"react-calendar__decade-view",children:e()})}var Df=function(){return Df=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Df.apply(this,arguments)},zR=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t},jv=function(n,e,t){if(t||arguments.length===2)for(var i=0,o=e.length,l;i<o;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return n.concat(l||Array.prototype.slice.call(e))},BR="react-calendar__year-view__months__month";function $R(n){var e=n.classes,t=e===void 0?[]:e,i=n.formatMonth,o=i===void 0?hR:i,l=n.formatMonthYear,h=l===void 0?bE:l,f=zR(n,["classes","formatMonth","formatMonthYear"]),g=f.date,y=f.locale;return k.jsx(eh,Df({},f,{classes:jv(jv([],t,!0),[BR],!1),formatAbbr:h,maxDateTransform:bl,minDateTransform:Xs,view:"year",children:o(y,g)}))}var Nf=function(){return Nf=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Nf.apply(this,arguments)},Uv=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t};function WR(n){var e=n.activeStartDate,t=n.hover,i=n.value,o=n.valueType,l=Uv(n,["activeStartDate","hover","value","valueType"]),h=0,f=11,g=ot(e);return k.jsx(Zc,{className:"react-calendar__year-view__months",dateTransform:function(y){var w=new Date;return w.setFullYear(g,y,1),Xs(w)},dateType:"month",end:f,hover:t,renderTile:function(y){var w=y.date,E=Uv(y,["date"]);return k.jsx($R,Nf({},l,E,{activeStartDate:e,date:w}),w.getTime())},start:h,value:i,valueType:o})}var xf=function(){return xf=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},xf.apply(this,arguments)};function HR(n){function e(){return k.jsx(WR,xf({},n))}return k.jsx("div",{className:"react-calendar__year-view",children:e()})}var Of=function(){return Of=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Of.apply(this,arguments)},qR=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t},qd="react-calendar__month-view__days__day";function GR(n){var e=n.calendarType,t=n.classes,i=t===void 0?[]:t,o=n.currentMonthIndex,l=n.formatDay,h=l===void 0?uR:l,f=n.formatLongDate,g=f===void 0?cR:f,y=qR(n,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),w=y.date,E=y.locale,I=[];return i&&I.push.apply(I,i),I.push(qd),jE(w,e)&&I.push("".concat(qd,"--weekend")),w.getMonth()!==o&&I.push("".concat(qd,"--neighboringMonth")),k.jsx(eh,Of({},y,{classes:I,formatAbbr:g,maxDateTransform:xp,minDateTransform:Vl,view:"month",children:h(E,w)}))}var bf=function(){return bf=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},bf.apply(this,arguments)},zv=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t};function KR(n){var e=n.activeStartDate,t=n.calendarType,i=n.hover,o=n.showFixedNumberOfWeeks,l=n.showNeighboringMonth,h=n.value,f=n.valueType,g=zv(n,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),y=ot(e),w=as(e),E=o||l,I=wl(e,t),b=E?0:I,H=(E?-I:0)+1,W=(function(){if(o)return H+42-1;var U=OE(e);if(l){var J=new Date;J.setFullYear(y,w,U),J.setHours(0,0,0,0);var ne=7-wl(J,t)-1;return U+ne}return U})();return k.jsx(Zc,{className:"react-calendar__month-view__days",count:7,dateTransform:function(U){var J=new Date;return J.setFullYear(y,w,U),Vl(J)},dateType:"day",hover:i,end:W,renderTile:function(U){var J=U.date,ne=zv(U,["date"]);return k.jsx(GR,bf({},g,ne,{activeStartDate:e,calendarType:t,currentMonthIndex:w,date:J}),J.getTime())},offset:b,start:H,value:h,valueType:f})}var zE="react-calendar__month-view__weekdays",Gd="".concat(zE,"__weekday");function YR(n){for(var e=n.calendarType,t=n.formatShortWeekday,i=t===void 0?dR:t,o=n.formatWeekday,l=o===void 0?fR:o,h=n.locale,f=n.onMouseLeave,g=new Date,y=Xs(g),w=ot(y),E=as(y),I=[],b=1;b<=7;b+=1){var H=new Date(w,E,b-wl(y,e)),W=l(h,H);I.push(k.jsx("div",{className:Kc(Gd,CR(H)&&"".concat(Gd,"--current"),jE(H,e)&&"".concat(Gd,"--weekend")),children:k.jsx("abbr",{"aria-label":W,title:W,children:i(h,H).replace(".","")})},b))}return k.jsx(bp,{className:zE,count:7,onFocus:f,onMouseOver:f,children:I})}var Rc=function(){return Rc=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Rc.apply(this,arguments)},Bv=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t},$v="react-calendar__tile";function QR(n){var e=n.onClickWeekNumber,t=n.weekNumber,i=k.jsx("span",{children:t});if(e){var o=n.date,l=n.onClickWeekNumber,h=n.weekNumber,f=Bv(n,["date","onClickWeekNumber","weekNumber"]);return k.jsx("button",Rc({},f,{className:$v,onClick:function(g){return l(h,o,g)},type:"button",children:i}))}else{n.date,n.onClickWeekNumber,n.weekNumber;var f=Bv(n,["date","onClickWeekNumber","weekNumber"]);return k.jsx("div",Rc({},f,{className:$v,children:i}))}}function XR(n){var e=n.activeStartDate,t=n.calendarType,i=n.onClickWeekNumber,o=n.onMouseLeave,l=n.showFixedNumberOfWeeks,h=(function(){if(l)return 6;var y=OE(e),w=wl(e,t),E=y-(7-w);return 1+Math.ceil(E/7)})(),f=(function(){for(var y=ot(e),w=as(e),E=Yc(e),I=[],b=0;b<h;b+=1)I.push(If(new Date(y,w,E+b*7),t));return I})(),g=f.map(function(y){return vR(y,t)});return k.jsx(bp,{className:"react-calendar__month-view__weekNumbers",count:h,direction:"column",onFocus:o,onMouseOver:o,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:g.map(function(y,w){var E=f[w];if(!E)throw new Error("date is not defined");return k.jsx(QR,{date:E,onClickWeekNumber:i,weekNumber:y},y)})})}var Vf=function(){return Vf=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Vf.apply(this,arguments)},JR=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t};function ZR(n){if(n)for(var e=0,t=Object.entries(Zk);e<t.length;e++){var i=t[e],o=i[0],l=i[1];if(l.includes(n))return o}return Bt.ISO_8601}function eD(n){var e=n.activeStartDate,t=n.locale,i=n.onMouseLeave,o=n.showFixedNumberOfWeeks,l=n.calendarType,h=l===void 0?ZR(t):l,f=n.formatShortWeekday,g=n.formatWeekday,y=n.onClickWeekNumber,w=n.showWeekNumbers,E=JR(n,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function I(){return k.jsx(YR,{calendarType:h,formatShortWeekday:f,formatWeekday:g,locale:t,onMouseLeave:i})}function b(){return w?k.jsx(XR,{activeStartDate:e,calendarType:h,onClickWeekNumber:y,onMouseLeave:i,showFixedNumberOfWeeks:o}):null}function H(){return k.jsx(KR,Vf({calendarType:h},E))}var W="react-calendar__month-view";return k.jsx("div",{className:Kc(W,w?"".concat(W,"--weekNumbers"):""),children:k.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[b(),k.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[I(),H()]})]})})}var Uo=function(){return Uo=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Uo.apply(this,arguments)},qu="react-calendar",oc=["century","decade","year","month"],tD=["decade","year","month","day"],Vp=new Date;Vp.setFullYear(1,0,1);Vp.setHours(0,0,0,0);var nD=new Date(864e13);function rl(n){return n instanceof Date?n:new Date(n)}function BE(n,e){return oc.slice(oc.indexOf(n),oc.indexOf(e)+1)}function rD(n,e,t){var i=BE(e,t);return i.indexOf(n)!==-1}function Lp(n,e,t){return n&&rD(n,e,t)?n:t}function $E(n){var e=oc.indexOf(n);return tD[e]}function iD(n,e){var t=Array.isArray(n)?n[e]:n;if(!t)return null;var i=rl(t);if(Number.isNaN(i.getTime()))throw new Error("Invalid date: ".concat(n));return i}function WE(n,e){var t=n.value,i=n.minDate,o=n.maxDate,l=n.maxDetail,h=iD(t,e);if(!h)return null;var f=$E(l),g=(function(){switch(e){case 0:return zs(f,h);case 1:return LE(f,h);default:throw new Error("Invalid index value: ".concat(e))}})();return RR(g,i,o)}var Mp=function(n){return WE(n,0)},HE=function(n){return WE(n,1)},sD=function(n){return[Mp,HE].map(function(e){return e(n)})};function qE(n){var e=n.maxDate,t=n.maxDetail,i=n.minDate,o=n.minDetail,l=n.value,h=n.view,f=Lp(h,o,t),g=Mp({value:l,minDate:i,maxDate:e,maxDetail:t})||new Date;return zs(f,g)}function oD(n){var e=n.activeStartDate,t=n.defaultActiveStartDate,i=n.defaultValue,o=n.defaultView,l=n.maxDate,h=n.maxDetail,f=n.minDate,g=n.minDetail,y=n.value,w=n.view,E=Lp(w,g,h),I=e||t;return I?zs(E,I):qE({maxDate:l,maxDetail:h,minDate:f,minDetail:g,value:y||i,view:w||o})}function Kd(n){return n&&(!Array.isArray(n)||n.length===1)}function Gu(n,e){return n instanceof Date&&e instanceof Date&&n.getTime()===e.getTime()}var aD=he.forwardRef(function(e,t){var i=e.activeStartDate,o=e.allowPartialRange,l=e.calendarType,h=e.className,f=e.defaultActiveStartDate,g=e.defaultValue,y=e.defaultView,w=e.formatDay,E=e.formatLongDate,I=e.formatMonth,b=e.formatMonthYear,H=e.formatShortWeekday,W=e.formatWeekday,U=e.formatYear,J=e.goToRangeStartOnSelect,ne=J===void 0?!0:J,fe=e.inputRef,me=e.locale,De=e.maxDate,ae=De===void 0?nD:De,N=e.maxDetail,S=N===void 0?"month":N,P=e.minDate,x=P===void 0?Vp:P,R=e.minDetail,L=R===void 0?"century":R,C=e.navigationAriaLabel,Oe=e.navigationAriaLive,Je=e.navigationLabel,ze=e.next2AriaLabel,We=e.next2Label,ee=e.nextAriaLabel,ue=e.nextLabel,q=e.onActiveStartDateChange,O=e.onChange,$=e.onClickDay,re=e.onClickDecade,ie=e.onClickMonth,ye=e.onClickWeekNumber,Ee=e.onClickYear,ke=e.onDrillDown,Ne=e.onDrillUp,be=e.onViewChange,St=e.prev2AriaLabel,sr=e.prev2Label,or=e.prevAriaLabel,Dn=e.prevLabel,Qe=e.returnValue,ar=Qe===void 0?"start":Qe,At=e.selectRange,Nn=e.showDoubleView,gi=e.showFixedNumberOfWeeks,at=e.showNavigation,lt=at===void 0?!0:at,pn=e.showNeighboringCentury,us=e.showNeighboringDecade,yi=e.showNeighboringMonth,Zs=yi===void 0?!0:yi,lr=e.showWeekNumbers,cs=e.tileClassName,vi=e.tileContent,ur=e.tileDisabled,_i=e.value,cr=e.view,Hn=he.useState(f),eo=Hn[0],mn=Hn[1],Ur=he.useState(null),hs=Ur[0],rn=Ur[1],zr=he.useState(Array.isArray(g)?g.map(function(Re){return Re!==null?rl(Re):null}):g!=null?rl(g):null),xn=zr[0],wi=zr[1],On=he.useState(y),qn=On[0],Ze=On[1],_t=i||eo||oD({activeStartDate:i,defaultActiveStartDate:f,defaultValue:g,defaultView:y,maxDate:ae,maxDetail:S,minDate:x,minDetail:L,value:_i,view:cr}),ut=(function(){var Re=(function(){return At&&Kd(xn)?xn:_i!==void 0?_i:xn})();return Re?Array.isArray(Re)?Re.map(function(Ke){return Ke!==null?rl(Ke):null}):Re!==null?rl(Re):null:null})(),gn=$E(S),Ge=Lp(cr||qn,L,S),en=BE(L,S),bn=At?hs:null,Ei=en.indexOf(Ge)<en.length-1,hr=en.indexOf(Ge)>0,Gn=he.useCallback(function(Re){var Ke=(function(){switch(ar){case"start":return Mp;case"end":return HE;case"range":return sD;default:throw new Error("Invalid returnValue.")}})();return Ke({maxDate:ae,maxDetail:S,minDate:x,value:Re})},[ae,S,x,ar]),Vn=he.useCallback(function(Re,Ke){mn(Re);var et={action:Ke,activeStartDate:Re,value:ut,view:Ge};q&&!Gu(_t,Re)&&q(et)},[_t,q,ut,Ge]),Br=he.useCallback(function(Re,Ke){var et=(function(){switch(Ge){case"century":return re;case"decade":return Ee;case"year":return ie;case"month":return $;default:throw new Error("Invalid view: ".concat(Ge,"."))}})();et&&et(Re,Ke)},[$,re,ie,Ee,Ge]),yn=he.useCallback(function(Re,Ke){if(Ei){Br(Re,Ke);var et=en[en.indexOf(Ge)+1];if(!et)throw new Error("Attempted to drill down from the lowest view.");mn(Re),Ze(et);var Wt={action:"drillDown",activeStartDate:Re,value:ut,view:et};q&&!Gu(_t,Re)&&q(Wt),be&&Ge!==et&&be(Wt),ke&&ke(Wt)}},[_t,Ei,q,Br,ke,be,ut,Ge,en]),sn=he.useCallback(function(){if(hr){var Re=en[en.indexOf(Ge)-1];if(!Re)throw new Error("Attempted to drill up from the highest view.");var Ke=zs(Re,_t);mn(Ke),Ze(Re);var et={action:"drillUp",activeStartDate:Ke,value:ut,view:Re};q&&!Gu(_t,Ke)&&q(et),be&&Ge!==Re&&be(et),Ne&&Ne(et)}},[_t,hr,q,Ne,be,ut,Ge,en]),dr=he.useCallback(function(Re,Ke){var et=ut;Br(Re,Ke);var Wt=At&&!Kd(et),Ct;if(At)if(Wt)Ct=zs(gn,Re);else{if(!et)throw new Error("previousValue is required");if(Array.isArray(et))throw new Error("previousValue must not be an array");Ct=SR(gn,et,Re)}else Ct=Gn(Re);var $r=!At||Wt||ne?qE({maxDate:ae,maxDetail:S,minDate:x,minDetail:L,value:Ct,view:Ge}):null;Ke.persist(),mn($r),wi(Ct);var Ii={action:"onChange",activeStartDate:$r,value:Ct,view:Ge};if(q&&!Gu(_t,$r)&&q(Ii),O)if(At){var Wr=Kd(Ct);if(!Wr)O(Ct||null,Ke);else if(o){if(Array.isArray(Ct))throw new Error("value must not be an array");O([Ct||null,null],Ke)}}else O(Ct||null,Ke)},[_t,o,Gn,ne,ae,S,x,L,q,O,Br,At,ut,gn,Ge]);function on(Re){rn(Re)}function Ti(){rn(null)}he.useImperativeHandle(t,function(){return{activeStartDate:_t,drillDown:yn,drillUp:sn,onChange:dr,setActiveStartDate:Vn,value:ut,view:Ge}},[_t,yn,sn,dr,Vn,ut,Ge]);function ds(Re){var Ke=Re?VE(Ge,_t):zs(Ge,_t),et=Ei?yn:dr,Wt={activeStartDate:Ke,hover:bn,locale:me,maxDate:ae,minDate:x,onClick:et,onMouseOver:At?on:void 0,tileClassName:cs,tileContent:vi,tileDisabled:ur,value:ut,valueType:gn};switch(Ge){case"century":return k.jsx(LR,Uo({formatYear:U,showNeighboringCentury:pn},Wt));case"decade":return k.jsx(UR,Uo({formatYear:U,showNeighboringDecade:us},Wt));case"year":return k.jsx(HR,Uo({formatMonth:I,formatMonthYear:b},Wt));case"month":return k.jsx(eD,Uo({calendarType:l,formatDay:w,formatLongDate:E,formatShortWeekday:H,formatWeekday:W,onClickWeekNumber:ye,onMouseLeave:At?Ti:void 0,showFixedNumberOfWeeks:typeof gi<"u"?gi:Nn,showNeighboringMonth:Zs,showWeekNumbers:lr},Wt));default:throw new Error("Invalid view: ".concat(Ge,"."))}}function fs(){return lt?k.jsx(PR,{activeStartDate:_t,drillUp:sn,formatMonthYear:b,formatYear:U,locale:me,maxDate:ae,minDate:x,navigationAriaLabel:C,navigationAriaLive:Oe,navigationLabel:Je,next2AriaLabel:ze,next2Label:We,nextAriaLabel:ee,nextLabel:ue,prev2AriaLabel:St,prev2Label:sr,prevAriaLabel:or,prevLabel:Dn,setActiveStartDate:Vn,showDoubleView:Nn,view:Ge,views:en}):null}var vn=Array.isArray(ut)?ut:[ut];return k.jsxs("div",{className:Kc(qu,At&&vn.length===1&&"".concat(qu,"--selectRange"),Nn&&"".concat(qu,"--doubleView"),h),ref:fe,children:[fs(),k.jsxs("div",{className:"".concat(qu,"__viewContainer"),onBlur:At?Ti:void 0,onMouseLeave:At?Ti:void 0,children:[ds(),Nn?ds(!0):null]})]})}),zo=(n=>(n.REGULAR="regular",n.RDO="rdo",n.HOLIDAY="holiday",n.PLANNED_VACATION="planned_vacation",n.WEEKEND="weekend",n))(zo||{});const lD=(n,e,t,i,o,l)=>{const h=new Map;console.log("mapWeeklyBalancesToDays - Total weekly balances:",n.length),n.length>0&&console.log("First 3 weekly balances:",n.slice(0,3).map(g=>({weekEndDate:g.weekEndDate,endingBalance:g.endingBalance})));const f=qv(o,l);for(const g of f){const y=kn(g),w=[];Kv(g)&&w.push(zo.WEEKEND);const E=vT(g,i);E&&w.push(zo.RDO);const I=t.find(U=>U.date===y);I&&w.push(zo.HOLIDAY);const b=e.find(U=>{const J=ft(U.startDate),ne=ft(U.endDate);return Ku(g,J,ne)});b&&w.push(zo.PLANNED_VACATION);let H,W;if(g.getDay()===0){const U=n.find(J=>{const ne=ft(J.weekEndDate),fe=kn(ne)===y;return y==="2026-01-04"&&console.log("Debug for 2026-01-04:",{weekEndDate:J.weekEndDate,parsedWeekEndDate:ne,formattedWeekEndDate:kn(ne),dateKey:y,match:fe}),fe});H=U==null?void 0:U.endingBalance,W=U==null?void 0:U.accrued,y==="2026-01-04"&&console.log("Found balance for 2026-01-04:",H,"weekBalance:",U)}h.set(y,{date:g,types:w,hours:Ff(g,i),vacationHours:b==null?void 0:b.hours,balance:H,accrualRate:W,isInVacation:!!b,vacationId:b==null?void 0:b.id,isHoliday:!!I,holidayName:I==null?void 0:I.name,isRDO:E})}return h},uD=({dayInfo:n,isInSelectionRange:e,isSelectionStart:t,isSelectionEnd:i})=>n?(n.date.getDay()===0&&console.log("Sunday:",n.date.toISOString().split("T")[0],"balance:",n.balance),k.jsxs("div",{className:"calendar-tile-content",children:[k.jsxs("div",{className:"day-indicators",children:[n.isInVacation&&k.jsx("span",{className:"indicator vacation",title:"Planned Vacation",children:"V"}),n.isHoliday&&k.jsx("span",{className:"indicator holiday",title:n.holidayName,children:"H"}),n.isRDO&&k.jsx("span",{className:"indicator rdo",title:"Regular Day Off",children:"R"})]}),n.balance!==void 0&&k.jsxs("div",{className:`balance-display ${n.balance<0?"negative":n.balance>=Qv?"at-max":n.balance>_T?"warning":"positive"}`,title:n.accrualRate!==void 0?`Accrual rate: +${n.accrualRate.toFixed(2)} hours`:void 0,children:[n.balance.toFixed(1),"h"]}),e&&k.jsx("div",{className:"selection-overlay"}),t&&k.jsx("div",{className:"selection-start-marker"}),i&&k.jsx("div",{className:"selection-end-marker"})]})):null,cD=Hv.memo(uD),hD=({vacation:n,isOpen:e,workSchedule:t,holidays:i,onSave:o,onDelete:l,onClose:h,canAffordVacation:f})=>{const[g,y]=he.useState(""),[w,E]=he.useState(""),[I,b]=he.useState(""),[H,W]=he.useState(""),[U,J]=he.useState(!1);he.useEffect(()=>{n&&(y(n.startDate),E(n.endDate),b(n.description||""),W(""),J(!1))},[n]);const ne=he.useMemo(()=>{if(!g||!w)return 0;try{return Yv(ft(g),ft(w),t,i)}catch{return 0}},[g,w,t,i]),fe=()=>{if(!n)return;if(!g||!w){W("Both start and end dates are required");return}if(ft(w)<ft(g)){W("End date must be after start date");return}const{canAfford:ae,projectedBalance:N}=f({startDate:g,endDate:w,hours:ne});if(!ae){W(`Cannot afford this change. Need ${ne}h, will have ${N.toFixed(2)}h`);return}o(n.id,{startDate:g,endDate:w,hours:ne,description:I.trim()||void 0}),h()},me=()=>{if(n){if(!U){J(!0);return}l(n.id),h()}},De=()=>{J(!1),h()};return!e||!n?null:k.jsx("div",{className:"modal-overlay",onClick:De,children:k.jsxs("div",{className:"modal-content",onClick:ae=>ae.stopPropagation(),children:[k.jsx("h2",{children:"Edit Vacation"}),k.jsxs("form",{onSubmit:ae=>{ae.preventDefault(),fe()},children:[k.jsxs("div",{className:"form-group",children:[k.jsx("label",{htmlFor:"edit-start-date",children:"Start Date"}),k.jsx("input",{type:"date",id:"edit-start-date",value:g,onChange:ae=>y(ae.target.value),required:!0})]}),k.jsxs("div",{className:"form-group",children:[k.jsx("label",{htmlFor:"edit-end-date",children:"End Date"}),k.jsx("input",{type:"date",id:"edit-end-date",value:w,onChange:ae=>E(ae.target.value),required:!0})]}),k.jsxs("div",{className:"form-group",children:[k.jsx("label",{htmlFor:"edit-description",children:"Description (optional)"}),k.jsx("input",{type:"text",id:"edit-description",value:I,onChange:ae=>b(ae.target.value),placeholder:"e.g., Summer vacation"})]}),k.jsxs("div",{className:"hours-estimate",children:[k.jsx("strong",{children:"Hours needed:"})," ",ne.toFixed(2)]}),H&&k.jsx("div",{className:"error-message",children:H}),k.jsxs("div",{className:"modal-actions",children:[k.jsx("button",{type:"button",onClick:me,className:"delete-button",children:U?"Confirm Delete":"Delete"}),k.jsxs("div",{className:"right-actions",children:[k.jsx("button",{type:"button",onClick:De,className:"cancel-button",children:"Cancel"}),k.jsx("button",{type:"submit",className:"save-button",children:"Save Changes"})]})]})]})]})})},dD=({vacations:n,onEdit:e,onDelete:t})=>{const i=he.useMemo(()=>{if(n.length===0)return[];const h={};return n.forEach(g=>{const y=ft(g.startDate).getFullYear();h[y]||(h[y]=[]),h[y].push(g)}),Object.keys(h).map(g=>{const y=parseInt(g,10),w=h[y];return{year:y,vacations:w?w.sort((E,I)=>E.startDate.localeCompare(I.startDate)):[]}}).sort((g,y)=>g.year-y.year)},[n]),o=h=>ft(h).toLocaleDateString("en-US",{month:"short",day:"numeric"}),l=h=>{const f=ft(h.startDate),g=ft(h.endDate),y=Math.ceil((g.getTime()-f.getTime())/(1e3*60*60*24))+1;return y===1?"1 day":`${y} days`};return n.length===0?null:k.jsxs("div",{className:"vacation-list-by-year",children:[k.jsx("h3",{children:"Planned Vacations"}),i.map(h=>k.jsxs("div",{className:"vacation-year-group",children:[k.jsx("h4",{className:"vacation-year-header",children:h.year}),k.jsx("div",{className:"vacation-table-wrapper",children:k.jsxs("table",{className:"vacation-table",children:[k.jsx("thead",{children:k.jsxs("tr",{children:[k.jsx("th",{children:"Dates"}),k.jsx("th",{children:"Description"}),k.jsx("th",{children:"Duration"}),k.jsx("th",{children:"Vacation Hours"}),k.jsx("th",{children:"Actions"})]})}),k.jsx("tbody",{children:h.vacations.map(f=>k.jsxs("tr",{children:[k.jsxs("td",{className:"vacation-dates",children:[o(f.startDate)," - ",o(f.endDate)]}),k.jsx("td",{className:"vacation-description",children:f.description||k.jsx("span",{className:"no-description",children:""})}),k.jsx("td",{className:"vacation-duration",children:l(f)}),k.jsxs("td",{className:"vacation-hours",children:[f.hours.toFixed(1),"h"]}),k.jsxs("td",{className:"vacation-actions",children:[k.jsx("button",{onClick:()=>e(f),className:"action-button edit-button",title:"Edit vacation",children:"Edit"}),k.jsx("button",{onClick:()=>t(f.id),className:"action-button delete-button",title:"Delete vacation",children:"Delete"})]})]},f.id))})]})})]},h.year))]})},fD=({weeklyBalances:n,plannedVacations:e,holidays:t,userProfile:i,onAddVacation:o,onUpdateVacation:l,onDeleteVacation:h,canAffordVacation:f})=>{const[g,y]=he.useState("idle"),[w,E]=he.useState(null),[I,b]=he.useState(null),[H,W]=he.useState(null),[U,J]=he.useState(!1),[ne,fe]=he.useState(""),[me,De]=he.useState(window.innerWidth>=768),[ae,N]=he.useState(new Date);he.useEffect(()=>{const q=()=>{De(window.innerWidth>=768)};return window.addEventListener("resize",q),()=>window.removeEventListener("resize",q)},[]);const S=he.useMemo(()=>{if(n.length===0){const $=new Date;return{start:new Date($.getFullYear(),$.getMonth()-1,1),end:new Date($.getFullYear(),$.getMonth()+3,0)}}const q=n[0],O=n[n.length-1];return{start:new Date(q.weekStartDate),end:new Date(O.weekEndDate)}},[n]),P=he.useMemo(()=>lD(n,e,t,i.workSchedule,S.start,S.end),[n,e,t,i.workSchedule,S]),R=he.useCallback(()=>g==="selecting"&&w&&I?{start:w<I?w:I,end:w<I?I:w}:null,[g,w,I])(),L=q=>{const O=kn(q),$=P.get(O);if($!=null&&$.isInVacation&&$.vacationId){const re=e.find(ie=>ie.id===$.vacationId);if(re){W(re),J(!0),C();return}}if(g==="idle"){y("selecting"),E(q),fe("");return}if(g==="selecting"&&w){const[re,ie]=q<w?[q,w]:[w,q],ye=Yv(re,ie,i.workSchedule,t),{canAfford:Ee,projectedBalance:ke}=f({startDate:kn(re),endDate:kn(ie),hours:ye});if(!Ee){fe(`Insufficient balance. Need ${ye}h, will have ${ke.toFixed(2)}h`),C();return}o({startDate:kn(re),endDate:kn(ie),hours:ye}),C()}},C=()=>{y("idle"),E(null),b(null),fe("")};he.useEffect(()=>{const q=O=>{O.key==="Escape"&&C()};return window.addEventListener("keydown",q),()=>window.removeEventListener("keydown",q)},[]);const Oe=he.useCallback(({date:q,view:O,activeStartDate:$})=>{if(O!=="month")return!1;const re=$.getMonth(),ie=$.getFullYear(),ye=new Date(ie,re+1,0);if(q<new Date(ie,re,1))return!0;const Ee=ye.getDay(),ke=Ee===6?0:(6-Ee+7)%7,Ne=new Date(ie,re,ye.getDate()+ke);return q>Ne},[]),Je=he.useCallback(({date:q,activeStartDate:O})=>{const $=O.getMonth(),re=O.getFullYear(),ie=new Date(re,$+1,0);return q>ie},[]),ze=he.useCallback(({date:q,view:O,activeStartDate:$})=>{if(O!=="month")return"";const re=[];if(Oe({date:q,view:O,activeStartDate:$}))return re.push("react-calendar__tile--hidden"),re.join(" ");Je({date:q,activeStartDate:$})&&re.push("react-calendar__tile--next-month");const ie=P.get(kn(q));if(ie!=null&&ie.isInVacation&&re.push("react-calendar__tile--vacation"),ie!=null&&ie.isHoliday&&re.push("react-calendar__tile--holiday"),ie!=null&&ie.isRDO&&re.push("react-calendar__tile--rdo"),ie!=null&&ie.types.includes(zo.WEEKEND)&&re.push("react-calendar__tile--weekend"),R){const ye=q.getTime(),Ee=R.start.getTime(),ke=R.end.getTime();ye>=Ee&&ye<=ke&&re.push("react-calendar__tile--in-selection"),ye===Ee&&re.push("react-calendar__tile--selection-start"),ye===ke&&re.push("react-calendar__tile--selection-end")}return re.join(" ")},[P,R,Oe,Je]),We=he.useCallback(({date:q,view:O})=>{if(O!=="month")return null;const $=P.get(kn(q)),re=R&&q>=R.start&&q<=R.end,ie=w&&q.getTime()===w.getTime(),ye=I&&q.getTime()===I.getTime();return k.jsx("div",{className:"calendar-tile-wrapper",onMouseEnter:()=>{g==="selecting"&&w&&b(q)},children:k.jsx(cD,{dayInfo:$,isInSelectionRange:!!re,isSelectionStart:!!ie,isSelectionEnd:!!ye&&g==="selecting"})})},[P,R,w,I,g]),ee=()=>{N(new Date)},ue=he.useMemo(()=>{const q=new Date,O=ae.getMonth(),$=ae.getFullYear();return O===q.getMonth()&&$===q.getFullYear()},[ae]);return k.jsxs("div",{className:"calendar-view",children:[g==="selecting"&&k.jsx("div",{className:"selection-banner",children:k.jsxs("span",{children:["Selecting vacation: Click the end date or"," ",k.jsx("button",{onClick:C,className:"cancel-link",children:"Cancel"})]})}),ne&&k.jsxs("div",{className:"error-banner",children:[ne,k.jsx("button",{onClick:()=>fe(""),className:"close-error",children:""})]}),k.jsx("div",{className:"calendar-header-controls",children:k.jsx("button",{onClick:ee,className:"jump-to-today-button",disabled:ue,children:"Jump to Today"})}),k.jsx(aD,{showDoubleView:me,showNeighboringMonth:!0,selectRange:!1,tileContent:We,tileClassName:ze,onClickDay:L,minDetail:"month",maxDetail:"month",locale:"en-US",activeStartDate:ae,onActiveStartDateChange:({activeStartDate:q})=>{q&&N(q)}}),k.jsx(hD,{vacation:H,isOpen:U,workSchedule:i.workSchedule,holidays:t,onSave:l,onDelete:h,onClose:()=>{J(!1),W(null)},canAffordVacation:f}),k.jsx(dD,{vacations:e,onEdit:q=>{W(q),J(!0)},onDelete:h})]})},pD=()=>k.jsxs("div",{className:"calendar-legend",children:[k.jsx("h3",{children:"Legend"}),k.jsxs("div",{className:"legend-items",children:[k.jsxs("div",{className:"legend-item",children:[k.jsx("span",{className:"legend-indicator vacation",children:"V"}),k.jsx("span",{className:"legend-label",children:"Planned Vacation"})]}),k.jsxs("div",{className:"legend-item",children:[k.jsx("span",{className:"legend-indicator holiday",children:"H"}),k.jsx("span",{className:"legend-label",children:"Holiday"})]}),k.jsxs("div",{className:"legend-item",children:[k.jsx("span",{className:"legend-indicator rdo",children:"R"}),k.jsx("span",{className:"legend-label",children:"RDO (9/80)"})]}),k.jsxs("div",{className:"legend-item",children:[k.jsx("span",{className:"legend-box weekend"}),k.jsx("span",{className:"legend-label",children:"Weekend"})]}),k.jsxs("div",{className:"legend-item",children:[k.jsx("span",{className:"legend-box balance-positive"}),k.jsx("span",{className:"legend-label",children:"Balance (on Saturdays)"})]})]})]}),Yd=["jpl-vacation-user-profile","jpl-vacation-planned-vacations"];function GE(){const[n,e]=he.useState(null),[t,i]=he.useState(!0),[o,l]=he.useState(null),[h]=he.useState(_E());return he.useEffect(()=>{if(!h){i(!1);return}const y=Bd();if(!y){i(!1);return}const w=lP(y,async E=>{if(e(E),i(!1),E){Dr.setMode("cloud-sync",E.uid);try{await Dr.syncFromCloud(Yd)}catch{console.log("No cloud data found, will sync local data to cloud");try{await Dr.syncToCloud(Yd)}catch(b){console.error("Error syncing to cloud:",b)}}}else Dr.setMode("localStorage")});return()=>w()},[h]),{user:n,loading:t,error:o,isFirebaseAvailable:h,signInWithGoogle:async()=>{if(!h){l("Firebase is not configured. Cloud sync is not available.");return}l(null),i(!0);try{const y=Bd();if(!y)throw new Error("Firebase auth not initialized");const w=new oi,E=await RP(y,w);console.log("Signed in as:",E.user.email),Dr.setMode("cloud-sync",E.user.uid),await Dr.syncToCloud(Yd),e(E.user)}catch(y){console.error("Sign in error:",y),l(y.message||"Failed to sign in"),Dr.setMode("localStorage")}finally{i(!1)}},signOut:async()=>{if(h){l(null),i(!0);try{const y=Bd();if(!y)throw new Error("Firebase auth not initialized");await uP(y),Dr.setMode("localStorage"),e(null),console.log("Signed out successfully")}catch(y){console.error("Sign out error:",y),l(y.message||"Failed to sign out")}finally{i(!1)}}}}}function mD({isOpen:n=!0,onClose:e}){const{user:t,loading:i,error:o,isFirebaseAvailable:l,signInWithGoogle:h,signOut:f}=GE();return!l||!n?null:i?k.jsxs("div",{className:"cloud-sync-settings loading",children:[e&&k.jsx("button",{onClick:e,className:"close-button","aria-label":"Close",children:""}),k.jsx("p",{children:"Loading..."})]}):t?k.jsxs("div",{className:"cloud-sync-settings signed-in",children:[e&&k.jsx("button",{onClick:e,className:"close-button","aria-label":"Close",children:""}),k.jsxs("div",{className:"sync-status",children:[k.jsx("div",{className:"sync-icon",children:""}),k.jsxs("div",{className:"sync-info",children:[k.jsx("div",{className:"sync-title",children:"Cloud Sync Enabled"}),k.jsx("div",{className:"sync-email",children:t.email}),k.jsx("div",{className:"sync-description",children:"Your vacation data is automatically synced across all your devices"})]})]}),k.jsx("button",{onClick:f,className:"sign-out-button",children:"Disable Cloud Sync"}),o&&k.jsx("div",{className:"error-message",children:o})]}):k.jsxs("div",{className:"cloud-sync-settings signed-out",children:[e&&k.jsx("button",{onClick:e,className:"close-button","aria-label":"Close",children:""}),k.jsxs("div",{className:"sync-promo",children:[k.jsx("div",{className:"sync-icon",children:""}),k.jsxs("div",{className:"sync-info",children:[k.jsx("div",{className:"sync-title",children:"Enable Cloud Sync"}),k.jsx("div",{className:"sync-description",children:"Sign in with Google to sync your vacation data across multiple devices and browsers"}),k.jsxs("ul",{className:"sync-benefits",children:[k.jsx("li",{children:"Access your data from any device"}),k.jsx("li",{children:"Automatic real-time sync"}),k.jsx("li",{children:"Your data remains private"}),k.jsx("li",{children:"Works offline - syncs when online"})]})]})]}),k.jsx("button",{onClick:h,className:"sign-in-button",children:"Sign in with Google"}),o&&k.jsx("div",{className:"error-message",children:o})]})}function gD({onClick:n}){const{user:e,isFirebaseAvailable:t}=GE();return!t||!e?null:k.jsxs("button",{className:"sync-status-indicator",title:"Cloud sync enabled - Click to manage",onClick:n,children:[k.jsx("span",{className:"sync-icon",children:""}),k.jsx("span",{className:"sync-text",children:"Synced"})]})}const yD=()=>{const{userProfile:n,setUserProfile:e,plannedVacations:t,addPlannedVacation:i,updatePlannedVacation:o,deletePlannedVacation:l,holidays:h,setHolidays:f,weeklyBalances:g,forecastPeriod:y,canAffordVacation:w}=Ik(),{defaultHolidays:E}=Pk((n==null?void 0:n.workSchedule)??null,y.startDate,y.endDate),[I,b]=he.useState(()=>localStorage.getItem("theme")==="dark"),[H,W]=he.useState(!1);he.useEffect(()=>{const J=document.documentElement;I?(J.classList.add("dark"),localStorage.setItem("theme","dark")):(J.classList.remove("dark"),localStorage.setItem("theme","light"))},[I]);const U=()=>{b(!I)};return he.useEffect(()=>{if(!n||E.length===0)return;if(h.length===0){f(E);return}h.some(ne=>ne.date&&ne.date.startsWith("2027"))||f(E)},[n,h,E,f]),k.jsxs("div",{className:"app",children:[k.jsx("header",{className:"app-header",children:k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"12px"},children:[k.jsx("h1",{children:"JPL Vacation Forecast"}),k.jsxs("div",{style:{display:"flex",gap:"12px",marginLeft:"auto",alignItems:"center"},children:[k.jsx(gD,{onClick:()=>W(!H)}),k.jsx("button",{onClick:U,className:"reset-button","aria-label":I?"Switch to light mode":"Switch to dark mode",children:I?" Light Mode":" Dark Mode"})]})]})}),k.jsx("main",{className:"app-main",children:n?k.jsxs("div",{className:"dashboard",children:[k.jsx("div",{className:"dashboard-header",children:k.jsx("button",{onClick:()=>e(null),className:"reset-button",children:"Reset Profile"})}),k.jsx(mD,{isOpen:H,onClose:()=>W(!1)}),k.jsx(pD,{}),k.jsx(fD,{weeklyBalances:g,plannedVacations:t,holidays:h,userProfile:n,onAddVacation:i,onUpdateVacation:o,onDeleteVacation:l,canAffordVacation:w})]}):k.jsx(kk,{onSubmit:e})})]})},KE=document.getElementById("root");if(!KE)throw new Error("Failed to find the root element");dT.createRoot(KE).render(k.jsx(Hv.StrictMode,{children:k.jsx(yD,{})}));
